(self.webpackChunksala_juegos=self.webpackChunksala_juegos||[]).push([[179],{8255:pt=>{function Me(M){return Promise.resolve().then(()=>{var b=new Error("Cannot find module '"+M+"'");throw b.code="MODULE_NOT_FOUND",b})}Me.keys=()=>[],Me.resolve=Me,Me.id=8255,pt.exports=Me},7238:(pt,Me,M)=>{"use strict";M.d(Me,{l3:()=>se,_j:()=>b,LC:()=>P,ZN:()=>ye,jt:()=>ge,vP:()=>he,SB:()=>X,oB:()=>q,eR:()=>ce,X$:()=>oe,ZE:()=>mt,k1:()=>rn});class b{}class P{}const se="*";function oe(_t,Ge){return{type:7,name:_t,definitions:Ge,options:{}}}function ge(_t,Ge=null){return{type:4,styles:Ge,timings:_t}}function he(_t,Ge=null){return{type:2,steps:_t,options:Ge}}function q(_t){return{type:6,styles:_t,offset:null}}function X(_t,Ge,jt){return{type:0,name:_t,styles:Ge,options:jt}}function ce(_t,Ge,jt=null){return{type:1,expr:_t,animation:Ge,options:jt}}function Je(_t){Promise.resolve(null).then(_t)}class ye{constructor(Ge=0,jt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ge+jt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ge=>Ge()),this._onDoneFns=[])}onStart(Ge){this._onStartFns.push(Ge)}onDone(Ge){this._onDoneFns.push(Ge)}onDestroy(Ge){this._onDestroyFns.push(Ge)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Je(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ge=>Ge()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ge=>Ge()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Ge){this._position=this.totalTime?Ge*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ge){const jt="start"==Ge?this._onStartFns:this._onDoneFns;jt.forEach($e=>$e()),jt.length=0}}class mt{constructor(Ge){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ge;let jt=0,$e=0,Nt=0;const St=this.players.length;0==St?Je(()=>this._onFinish()):this.players.forEach(Ae=>{Ae.onDone(()=>{++jt==St&&this._onFinish()}),Ae.onDestroy(()=>{++$e==St&&this._onDestroy()}),Ae.onStart(()=>{++Nt==St&&this._onStart()})}),this.totalTime=this.players.reduce((Ae,He)=>Math.max(Ae,He.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ge=>Ge()),this._onDoneFns=[])}init(){this.players.forEach(Ge=>Ge.init())}onStart(Ge){this._onStartFns.push(Ge)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ge=>Ge()),this._onStartFns=[])}onDone(Ge){this._onDoneFns.push(Ge)}onDestroy(Ge){this._onDestroyFns.push(Ge)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ge=>Ge.play())}pause(){this.players.forEach(Ge=>Ge.pause())}restart(){this.players.forEach(Ge=>Ge.restart())}finish(){this._onFinish(),this.players.forEach(Ge=>Ge.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ge=>Ge.destroy()),this._onDestroyFns.forEach(Ge=>Ge()),this._onDestroyFns=[])}reset(){this.players.forEach(Ge=>Ge.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ge){const jt=Ge*this.totalTime;this.players.forEach($e=>{const Nt=$e.totalTime?Math.min(1,jt/$e.totalTime):1;$e.setPosition(Nt)})}getPosition(){const Ge=this.players.reduce((jt,$e)=>null===jt||$e.totalTime>jt.totalTime?$e:jt,null);return null!=Ge?Ge.getPosition():0}beforeDestroy(){this.players.forEach(Ge=>{Ge.beforeDestroy&&Ge.beforeDestroy()})}triggerCallback(Ge){const jt="start"==Ge?this._onStartFns:this._onDoneFns;jt.forEach($e=>$e()),jt.length=0}}const rn="!"},8583:(pt,Me,M)=>{"use strict";M.d(Me,{mr:()=>mt,ez:()=>Zr,K0:()=>he,Do:()=>_t,V_:()=>Y,Ye:()=>Ge,S$:()=>Je,sg:()=>Wn,O5:()=>gs,b0:()=>rn,lw:()=>q,EM:()=>Xe,JF:()=>zo,PM:()=>W,w_:()=>re,bD:()=>Rs,q:()=>se,Mx:()=>jr,HT:()=>ge});var b=M(7716);let P=null;function se(){return P}function ge(V){P||(P=V)}class re{}const he=new b.OlP("DocumentToken");let q=(()=>{class V{historyGo(H){throw new Error("Not implemented")}}return V.\u0275fac=function(H){return new(H||V)},V.\u0275prov=(0,b.Yz7)({factory:X,token:V,providedIn:"platform"}),V})();function X(){return(0,b.LFG)(ce)}const Y=new b.OlP("Location Initialized");let ce=(()=>{class V extends q{constructor(H){super(),this._doc=H,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return se().getBaseHref(this._doc)}onPopState(H){const ie=se().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("popstate",H,!1),()=>ie.removeEventListener("popstate",H)}onHashChange(H){const ie=se().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("hashchange",H,!1),()=>ie.removeEventListener("hashchange",H)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(H){this.location.pathname=H}pushState(H,ie,De){Q()?this._history.pushState(H,ie,De):this.location.hash=De}replaceState(H,ie,De){Q()?this._history.replaceState(H,ie,De):this.location.hash=De}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return V.\u0275fac=function(H){return new(H||V)(b.LFG(he))},V.\u0275prov=(0,b.Yz7)({factory:fe,token:V,providedIn:"platform"}),V})();function Q(){return!!window.history.pushState}function fe(){return new ce((0,b.LFG)(he))}function _e(V,ee){if(0==V.length)return ee;if(0==ee.length)return V;let H=0;return V.endsWith("/")&&H++,ee.startsWith("/")&&H++,2==H?V+ee.substring(1):1==H?V+ee:V+"/"+ee}function Pe(V){const ee=V.match(/#|\?|$/),H=ee&&ee.index||V.length;return V.slice(0,H-("/"===V[H-1]?1:0))+V.slice(H)}function qe(V){return V&&"?"!==V[0]?"?"+V:V}let Je=(()=>{class V{historyGo(H){throw new Error("Not implemented")}}return V.\u0275fac=function(H){return new(H||V)},V.\u0275prov=(0,b.Yz7)({factory:ye,token:V,providedIn:"root"}),V})();function ye(V){const ee=(0,b.LFG)(he).location;return new rn((0,b.LFG)(q),ee&&ee.origin||"")}const mt=new b.OlP("appBaseHref");let rn=(()=>{class V extends Je{constructor(H,ie){if(super(),this._platformLocation=H,this._removeListenerFns=[],null==ie&&(ie=this._platformLocation.getBaseHrefFromDOM()),null==ie)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ie}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return _e(this._baseHref,H)}path(H=!1){const ie=this._platformLocation.pathname+qe(this._platformLocation.search),De=this._platformLocation.hash;return De&&H?`${ie}${De}`:ie}pushState(H,ie,De,tt){const ct=this.prepareExternalUrl(De+qe(tt));this._platformLocation.pushState(H,ie,ct)}replaceState(H,ie,De,tt){const ct=this.prepareExternalUrl(De+qe(tt));this._platformLocation.replaceState(H,ie,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(H=0){var ie,De;null===(De=(ie=this._platformLocation).historyGo)||void 0===De||De.call(ie,H)}}return V.\u0275fac=function(H){return new(H||V)(b.LFG(q),b.LFG(mt,8))},V.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac}),V})(),_t=(()=>{class V extends Je{constructor(H,ie){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=ie&&(this._baseHref=ie)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){let ie=this._platformLocation.hash;return null==ie&&(ie="#"),ie.length>0?ie.substring(1):ie}prepareExternalUrl(H){const ie=_e(this._baseHref,H);return ie.length>0?"#"+ie:ie}pushState(H,ie,De,tt){let ct=this.prepareExternalUrl(De+qe(tt));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.pushState(H,ie,ct)}replaceState(H,ie,De,tt){let ct=this.prepareExternalUrl(De+qe(tt));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.replaceState(H,ie,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(H=0){var ie,De;null===(De=(ie=this._platformLocation).historyGo)||void 0===De||De.call(ie,H)}}return V.\u0275fac=function(H){return new(H||V)(b.LFG(q),b.LFG(mt,8))},V.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac}),V})(),Ge=(()=>{class V{constructor(H,ie){this._subject=new b.vpe,this._urlChangeListeners=[],this._platformStrategy=H;const De=this._platformStrategy.getBaseHref();this._platformLocation=ie,this._baseHref=Pe(Nt(De)),this._platformStrategy.onPopState(tt=>{this._subject.emit({url:this.path(!0),pop:!0,state:tt.state,type:tt.type})})}path(H=!1){return this.normalize(this._platformStrategy.path(H))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(H,ie=""){return this.path()==this.normalize(H+qe(ie))}normalize(H){return V.stripTrailingSlash(function(V,ee){return V&&ee.startsWith(V)?ee.substring(V.length):ee}(this._baseHref,Nt(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._platformStrategy.prepareExternalUrl(H)}go(H,ie="",De=null){this._platformStrategy.pushState(De,"",H,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+qe(ie)),De)}replaceState(H,ie="",De=null){this._platformStrategy.replaceState(De,"",H,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+qe(ie)),De)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(H=0){var ie,De;null===(De=(ie=this._platformStrategy).historyGo)||void 0===De||De.call(ie,H)}onUrlChange(H){this._urlChangeListeners.push(H),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ie=>{this._notifyUrlChangeListeners(ie.url,ie.state)}))}_notifyUrlChangeListeners(H="",ie){this._urlChangeListeners.forEach(De=>De(H,ie))}subscribe(H,ie,De){return this._subject.subscribe({next:H,error:ie,complete:De})}}return V.\u0275fac=function(H){return new(H||V)(b.LFG(Je),b.LFG(q))},V.normalizeQueryParams=qe,V.joinWithSlash=_e,V.stripTrailingSlash=Pe,V.\u0275prov=(0,b.Yz7)({factory:jt,token:V,providedIn:"root"}),V})();function jt(){return new Ge((0,b.LFG)(Je),(0,b.LFG)(q))}function Nt(V){return V.replace(/\/index.html$/,"")}var He=(()=>((He=He||{})[He.Zero=0]="Zero",He[He.One=1]="One",He[He.Two=2]="Two",He[He.Few=3]="Few",He[He.Many=4]="Many",He[He.Other=5]="Other",He))();const Ar=b.kL8;class Qi{}let Vi=(()=>{class V extends Qi{constructor(H){super(),this.locale=H}getPluralCategory(H,ie){switch(Ar(ie||this.locale)(H)){case He.Zero:return"zero";case He.One:return"one";case He.Two:return"two";case He.Few:return"few";case He.Many:return"many";default:return"other"}}}return V.\u0275fac=function(H){return new(H||V)(b.LFG(b.soG))},V.\u0275prov=b.Yz7({token:V,factory:V.\u0275fac}),V})();function jr(V,ee){ee=encodeURIComponent(ee);for(const H of V.split(";")){const ie=H.indexOf("="),[De,tt]=-1==ie?[H,""]:[H.slice(0,ie),H.slice(ie+1)];if(De.trim()===ee)return decodeURIComponent(tt)}return null}class Hr{constructor(ee,H,ie,De){this.$implicit=ee,this.ngForOf=H,this.index=ie,this.count=De}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wn=(()=>{class V{constructor(H,ie,De){this._viewContainer=H,this._template=ie,this._differs=De,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;if(!this._differ&&H)try{this._differ=this._differs.find(H).create(this.ngForTrackBy)}catch(ie){throw new Error(`Cannot find a differ supporting object '${H}' of type '${function(V){return V.name||typeof V}(H)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const ie=[];H.forEachOperation((De,tt,ct)=>{if(null==De.previousIndex){const Zt=this._viewContainer.createEmbeddedView(this._template,new Hr(null,this._ngForOf,-1,-1),null===ct?void 0:ct),On=new fs(De,Zt);ie.push(On)}else if(null==ct)this._viewContainer.remove(null===tt?void 0:tt);else if(null!==tt){const Zt=this._viewContainer.get(tt);this._viewContainer.move(Zt,ct);const On=new fs(De,Zt);ie.push(On)}});for(let De=0;De<ie.length;De++)this._perViewChange(ie[De].view,ie[De].record);for(let De=0,tt=this._viewContainer.length;De<tt;De++){const ct=this._viewContainer.get(De);ct.context.index=De,ct.context.count=tt,ct.context.ngForOf=this._ngForOf}H.forEachIdentityChange(De=>{this._viewContainer.get(De.currentIndex).context.$implicit=De.item})}_perViewChange(H,ie){H.context.$implicit=ie.item}static ngTemplateContextGuard(H,ie){return!0}}return V.\u0275fac=function(H){return new(H||V)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))},V.\u0275dir=b.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),V})();class fs{constructor(ee,H){this.record=ee,this.view=H}}let gs=(()=>{class V{constructor(H,ie){this._viewContainer=H,this._context=new to,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ie}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){li("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){li("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,ie){return!0}}return V.\u0275fac=function(H){return new(H||V)(b.Y36(b.s_b),b.Y36(b.Rgc))},V.\u0275dir=b.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V})();class to{constructor(){this.$implicit=null,this.ngIf=null}}function li(V,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,b.AaK)(ee)}'.`)}let Zr=(()=>{class V{}return V.\u0275fac=function(H){return new(H||V)},V.\u0275mod=b.oAB({type:V}),V.\u0275inj=b.cJS({providers:[{provide:Qi,useClass:Vi}]}),V})();const Rs="browser";function W(V){return"server"===V}let Xe=(()=>{class V{}return V.\u0275prov=(0,b.Yz7)({token:V,providedIn:"root",factory:()=>new Kt((0,b.LFG)(he),window)}),V})();class Kt{constructor(ee,H){this.document=ee,this.window=H,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const H=function(V,ee){const H=V.getElementById(ee)||V.getElementsByName(ee)[0];if(H)return H;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const ie=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let De=ie.currentNode;for(;De;){const tt=De.shadowRoot;if(tt){const ct=tt.getElementById(ee)||tt.querySelector(`[name="${ee}"]`);if(ct)return ct}De=ie.nextNode()}}return null}(this.document,ee);H&&(this.scrollToElement(H),this.attemptFocus(H))}setHistoryScrollRestoration(ee){if(this.supportScrollRestoration()){const H=this.window.history;H&&H.scrollRestoration&&(H.scrollRestoration=ee)}}scrollToElement(ee){const H=ee.getBoundingClientRect(),ie=H.left+this.window.pageXOffset,De=H.top+this.window.pageYOffset,tt=this.offset();this.window.scrollTo(ie-tt[0],De-tt[1])}attemptFocus(ee){return ee.focus(),this.document.activeElement===ee}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ee=cr(this.window.history)||cr(Object.getPrototypeOf(this.window.history));return!(!ee||!ee.writable&&!ee.set)}catch(ee){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ee){return!1}}}function cr(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class zo{}},1841:(pt,Me,M)=>{"use strict";M.d(Me,{eN:()=>Ne,JF:()=>gn});var b=M(8583),P=M(7716),se=M(5917),oe=M(9897),ge=M(4612),re=M(5435),he=M(8002);class q{}class X{}class Y{constructor(we){this.normalizedNames=new Map,this.lazyUpdate=null,we?this.lazyInit="string"==typeof we?()=>{this.headers=new Map,we.split("\n").forEach(Ce=>{const et=Ce.indexOf(":");if(et>0){const ht=Ce.slice(0,et),Ot=ht.toLowerCase(),ft=Ce.slice(et+1).trim();this.maybeSetNormalizedName(ht,Ot),this.headers.has(Ot)?this.headers.get(Ot).push(ft):this.headers.set(Ot,[ft])}})}:()=>{this.headers=new Map,Object.keys(we).forEach(Ce=>{let et=we[Ce];const ht=Ce.toLowerCase();"string"==typeof et&&(et=[et]),et.length>0&&(this.headers.set(ht,et),this.maybeSetNormalizedName(Ce,ht))})}:this.headers=new Map}has(we){return this.init(),this.headers.has(we.toLowerCase())}get(we){this.init();const Ce=this.headers.get(we.toLowerCase());return Ce&&Ce.length>0?Ce[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(we){return this.init(),this.headers.get(we.toLowerCase())||null}append(we,Ce){return this.clone({name:we,value:Ce,op:"a"})}set(we,Ce){return this.clone({name:we,value:Ce,op:"s"})}delete(we,Ce){return this.clone({name:we,value:Ce,op:"d"})}maybeSetNormalizedName(we,Ce){this.normalizedNames.has(Ce)||this.normalizedNames.set(Ce,we)}init(){this.lazyInit&&(this.lazyInit instanceof Y?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(we=>this.applyUpdate(we)),this.lazyUpdate=null))}copyFrom(we){we.init(),Array.from(we.headers.keys()).forEach(Ce=>{this.headers.set(Ce,we.headers.get(Ce)),this.normalizedNames.set(Ce,we.normalizedNames.get(Ce))})}clone(we){const Ce=new Y;return Ce.lazyInit=this.lazyInit&&this.lazyInit instanceof Y?this.lazyInit:this,Ce.lazyUpdate=(this.lazyUpdate||[]).concat([we]),Ce}applyUpdate(we){const Ce=we.name.toLowerCase();switch(we.op){case"a":case"s":let et=we.value;if("string"==typeof et&&(et=[et]),0===et.length)return;this.maybeSetNormalizedName(we.name,Ce);const ht=("a"===we.op?this.headers.get(Ce):void 0)||[];ht.push(...et),this.headers.set(Ce,ht);break;case"d":const Ot=we.value;if(Ot){let ft=this.headers.get(Ce);if(!ft)return;ft=ft.filter(Rt=>-1===Ot.indexOf(Rt)),0===ft.length?(this.headers.delete(Ce),this.normalizedNames.delete(Ce)):this.headers.set(Ce,ft)}else this.headers.delete(Ce),this.normalizedNames.delete(Ce)}}forEach(we){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ce=>we(this.normalizedNames.get(Ce),this.headers.get(Ce)))}}class ce{encodeKey(we){return Pe(we)}encodeValue(we){return Pe(we)}decodeKey(we){return decodeURIComponent(we)}decodeValue(we){return decodeURIComponent(we)}}const fe=/%(\d[a-f0-9])/gi,_e={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Pe(Ke){return encodeURIComponent(Ke).replace(fe,(we,Ce)=>{var et;return null!==(et=_e[Ce])&&void 0!==et?et:we})}function qe(Ke){return`${Ke}`}class Je{constructor(we={}){if(this.updates=null,this.cloneFrom=null,this.encoder=we.encoder||new ce,we.fromString){if(we.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(Ke,we){const Ce=new Map;return Ke.length>0&&Ke.replace(/^\?/,"").split("&").forEach(ht=>{const Ot=ht.indexOf("="),[ft,Rt]=-1==Ot?[we.decodeKey(ht),""]:[we.decodeKey(ht.slice(0,Ot)),we.decodeValue(ht.slice(Ot+1))],Sn=Ce.get(ft)||[];Sn.push(Rt),Ce.set(ft,Sn)}),Ce}(we.fromString,this.encoder)}else we.fromObject?(this.map=new Map,Object.keys(we.fromObject).forEach(Ce=>{const et=we.fromObject[Ce];this.map.set(Ce,Array.isArray(et)?et:[et])})):this.map=null}has(we){return this.init(),this.map.has(we)}get(we){this.init();const Ce=this.map.get(we);return Ce?Ce[0]:null}getAll(we){return this.init(),this.map.get(we)||null}keys(){return this.init(),Array.from(this.map.keys())}append(we,Ce){return this.clone({param:we,value:Ce,op:"a"})}appendAll(we){const Ce=[];return Object.keys(we).forEach(et=>{const ht=we[et];Array.isArray(ht)?ht.forEach(Ot=>{Ce.push({param:et,value:Ot,op:"a"})}):Ce.push({param:et,value:ht,op:"a"})}),this.clone(Ce)}set(we,Ce){return this.clone({param:we,value:Ce,op:"s"})}delete(we,Ce){return this.clone({param:we,value:Ce,op:"d"})}toString(){return this.init(),this.keys().map(we=>{const Ce=this.encoder.encodeKey(we);return this.map.get(we).map(et=>Ce+"="+this.encoder.encodeValue(et)).join("&")}).filter(we=>""!==we).join("&")}clone(we){const Ce=new Je({encoder:this.encoder});return Ce.cloneFrom=this.cloneFrom||this,Ce.updates=(this.updates||[]).concat(we),Ce}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(we=>this.map.set(we,this.cloneFrom.map.get(we))),this.updates.forEach(we=>{switch(we.op){case"a":case"s":const Ce=("a"===we.op?this.map.get(we.param):void 0)||[];Ce.push(qe(we.value)),this.map.set(we.param,Ce);break;case"d":if(void 0===we.value){this.map.delete(we.param);break}{let et=this.map.get(we.param)||[];const ht=et.indexOf(qe(we.value));-1!==ht&&et.splice(ht,1),et.length>0?this.map.set(we.param,et):this.map.delete(we.param)}}}),this.cloneFrom=this.updates=null)}}class mt{constructor(){this.map=new Map}set(we,Ce){return this.map.set(we,Ce),this}get(we){return this.map.has(we)||this.map.set(we,we.defaultValue()),this.map.get(we)}delete(we){return this.map.delete(we),this}keys(){return this.map.keys()}}function _t(Ke){return"undefined"!=typeof ArrayBuffer&&Ke instanceof ArrayBuffer}function Ge(Ke){return"undefined"!=typeof Blob&&Ke instanceof Blob}function jt(Ke){return"undefined"!=typeof FormData&&Ke instanceof FormData}class Nt{constructor(we,Ce,et,ht){let Ot;if(this.url=Ce,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=we.toUpperCase(),function(Ke){switch(Ke){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ht?(this.body=void 0!==et?et:null,Ot=ht):Ot=et,Ot&&(this.reportProgress=!!Ot.reportProgress,this.withCredentials=!!Ot.withCredentials,Ot.responseType&&(this.responseType=Ot.responseType),Ot.headers&&(this.headers=Ot.headers),Ot.context&&(this.context=Ot.context),Ot.params&&(this.params=Ot.params)),this.headers||(this.headers=new Y),this.context||(this.context=new mt),this.params){const ft=this.params.toString();if(0===ft.length)this.urlWithParams=Ce;else{const Rt=Ce.indexOf("?");this.urlWithParams=Ce+(-1===Rt?"?":Rt<Ce.length-1?"&":"")+ft}}else this.params=new Je,this.urlWithParams=Ce}serializeBody(){return null===this.body?null:_t(this.body)||Ge(this.body)||jt(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Je?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jt(this.body)?null:Ge(this.body)?this.body.type||null:_t(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Je?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(we={}){var Ce;const et=we.method||this.method,ht=we.url||this.url,Ot=we.responseType||this.responseType,ft=void 0!==we.body?we.body:this.body,Rt=void 0!==we.withCredentials?we.withCredentials:this.withCredentials,Sn=void 0!==we.reportProgress?we.reportProgress:this.reportProgress;let Ir=we.headers||this.headers,xr=we.params||this.params;const In=null!==(Ce=we.context)&&void 0!==Ce?Ce:this.context;return void 0!==we.setHeaders&&(Ir=Object.keys(we.setHeaders).reduce((Dr,Nn)=>Dr.set(Nn,we.setHeaders[Nn]),Ir)),we.setParams&&(xr=Object.keys(we.setParams).reduce((Dr,Nn)=>Dr.set(Nn,we.setParams[Nn]),xr)),new Nt(et,ht,ft,{params:xr,headers:Ir,context:In,reportProgress:Sn,responseType:Ot,withCredentials:Rt})}}var St=(()=>((St=St||{})[St.Sent=0]="Sent",St[St.UploadProgress=1]="UploadProgress",St[St.ResponseHeader=2]="ResponseHeader",St[St.DownloadProgress=3]="DownloadProgress",St[St.Response=4]="Response",St[St.User=5]="User",St))();class Ae{constructor(we,Ce=200,et="OK"){this.headers=we.headers||new Y,this.status=void 0!==we.status?we.status:Ce,this.statusText=we.statusText||et,this.url=we.url||null,this.ok=this.status>=200&&this.status<300}}class He extends Ae{constructor(we={}){super(we),this.type=St.ResponseHeader}clone(we={}){return new He({headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class Re extends Ae{constructor(we={}){super(we),this.type=St.Response,this.body=void 0!==we.body?we.body:null}clone(we={}){return new Re({body:void 0!==we.body?we.body:this.body,headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class Ye extends Ae{constructor(we){super(we,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${we.url||"(unknown url)"}`:`Http failure response for ${we.url||"(unknown url)"}: ${we.status} ${we.statusText}`,this.error=we.error||null}}function Ze(Ke,we){return{body:we,headers:Ke.headers,context:Ke.context,observe:Ke.observe,params:Ke.params,reportProgress:Ke.reportProgress,responseType:Ke.responseType,withCredentials:Ke.withCredentials}}let Ne=(()=>{class Ke{constructor(Ce){this.handler=Ce}request(Ce,et,ht={}){let Ot;if(Ce instanceof Nt)Ot=Ce;else{let Sn,Ir;Sn=ht.headers instanceof Y?ht.headers:new Y(ht.headers),ht.params&&(Ir=ht.params instanceof Je?ht.params:new Je({fromObject:ht.params})),Ot=new Nt(Ce,et,void 0!==ht.body?ht.body:null,{headers:Sn,context:ht.context,params:Ir,reportProgress:ht.reportProgress,responseType:ht.responseType||"json",withCredentials:ht.withCredentials})}const ft=(0,se.of)(Ot).pipe((0,ge.b)(Sn=>this.handler.handle(Sn)));if(Ce instanceof Nt||"events"===ht.observe)return ft;const Rt=ft.pipe((0,re.h)(Sn=>Sn instanceof Re));switch(ht.observe||"body"){case"body":switch(Ot.responseType){case"arraybuffer":return Rt.pipe((0,he.U)(Sn=>{if(null!==Sn.body&&!(Sn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Sn.body}));case"blob":return Rt.pipe((0,he.U)(Sn=>{if(null!==Sn.body&&!(Sn.body instanceof Blob))throw new Error("Response is not a Blob.");return Sn.body}));case"text":return Rt.pipe((0,he.U)(Sn=>{if(null!==Sn.body&&"string"!=typeof Sn.body)throw new Error("Response is not a string.");return Sn.body}));case"json":default:return Rt.pipe((0,he.U)(Sn=>Sn.body))}case"response":return Rt;default:throw new Error(`Unreachable: unhandled observe type ${ht.observe}}`)}}delete(Ce,et={}){return this.request("DELETE",Ce,et)}get(Ce,et={}){return this.request("GET",Ce,et)}head(Ce,et={}){return this.request("HEAD",Ce,et)}jsonp(Ce,et){return this.request("JSONP",Ce,{params:(new Je).append(et,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ce,et={}){return this.request("OPTIONS",Ce,et)}patch(Ce,et,ht={}){return this.request("PATCH",Ce,Ze(ht,et))}post(Ce,et,ht={}){return this.request("POST",Ce,Ze(ht,et))}put(Ce,et,ht={}){return this.request("PUT",Ce,Ze(ht,et))}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)(P.LFG(q))},Ke.\u0275prov=P.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();class bt{constructor(we,Ce){this.next=we,this.interceptor=Ce}handle(we){return this.interceptor.intercept(we,this.next)}}const Gt=new P.OlP("HTTP_INTERCEPTORS");let Rn=(()=>{class Ke{intercept(Ce,et){return et.handle(Ce)}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)},Ke.\u0275prov=P.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const hr=/^\)\]\}',?\n/;let qn=(()=>{class Ke{constructor(Ce){this.xhrFactory=Ce}handle(Ce){if("JSONP"===Ce.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new oe.y(et=>{const ht=this.xhrFactory.build();if(ht.open(Ce.method,Ce.urlWithParams),Ce.withCredentials&&(ht.withCredentials=!0),Ce.headers.forEach((Nn,Qt)=>ht.setRequestHeader(Nn,Qt.join(","))),Ce.headers.has("Accept")||ht.setRequestHeader("Accept","application/json, text/plain, */*"),!Ce.headers.has("Content-Type")){const Nn=Ce.detectContentTypeHeader();null!==Nn&&ht.setRequestHeader("Content-Type",Nn)}if(Ce.responseType){const Nn=Ce.responseType.toLowerCase();ht.responseType="json"!==Nn?Nn:"text"}const Ot=Ce.serializeBody();let ft=null;const Rt=()=>{if(null!==ft)return ft;const Nn=1223===ht.status?204:ht.status,Qt=ht.statusText||"OK",Ee=new Y(ht.getAllResponseHeaders()),be=function(Ke){return"responseURL"in Ke&&Ke.responseURL?Ke.responseURL:/^X-Request-URL:/m.test(Ke.getAllResponseHeaders())?Ke.getResponseHeader("X-Request-URL"):null}(ht)||Ce.url;return ft=new He({headers:Ee,status:Nn,statusText:Qt,url:be}),ft},Sn=()=>{let{headers:Nn,status:Qt,statusText:Ee,url:be}=Rt(),ke=null;204!==Qt&&(ke=void 0===ht.response?ht.responseText:ht.response),0===Qt&&(Qt=ke?200:0);let We=Qt>=200&&Qt<300;if("json"===Ce.responseType&&"string"==typeof ke){const Ue=ke;ke=ke.replace(hr,"");try{ke=""!==ke?JSON.parse(ke):null}catch(Tt){ke=Ue,We&&(We=!1,ke={error:Tt,text:ke})}}We?(et.next(new Re({body:ke,headers:Nn,status:Qt,statusText:Ee,url:be||void 0})),et.complete()):et.error(new Ye({error:ke,headers:Nn,status:Qt,statusText:Ee,url:be||void 0}))},Ir=Nn=>{const{url:Qt}=Rt(),Ee=new Ye({error:Nn,status:ht.status||0,statusText:ht.statusText||"Unknown Error",url:Qt||void 0});et.error(Ee)};let xr=!1;const In=Nn=>{xr||(et.next(Rt()),xr=!0);let Qt={type:St.DownloadProgress,loaded:Nn.loaded};Nn.lengthComputable&&(Qt.total=Nn.total),"text"===Ce.responseType&&!!ht.responseText&&(Qt.partialText=ht.responseText),et.next(Qt)},Dr=Nn=>{let Qt={type:St.UploadProgress,loaded:Nn.loaded};Nn.lengthComputable&&(Qt.total=Nn.total),et.next(Qt)};return ht.addEventListener("load",Sn),ht.addEventListener("error",Ir),ht.addEventListener("timeout",Ir),ht.addEventListener("abort",Ir),Ce.reportProgress&&(ht.addEventListener("progress",In),null!==Ot&&ht.upload&&ht.upload.addEventListener("progress",Dr)),ht.send(Ot),et.next({type:St.Sent}),()=>{ht.removeEventListener("error",Ir),ht.removeEventListener("abort",Ir),ht.removeEventListener("load",Sn),ht.removeEventListener("timeout",Ir),Ce.reportProgress&&(ht.removeEventListener("progress",In),null!==Ot&&ht.upload&&ht.upload.removeEventListener("progress",Dr)),ht.readyState!==ht.DONE&&ht.abort()}})}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)(P.LFG(b.JF))},Ke.\u0275prov=P.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const dn=new P.OlP("XSRF_COOKIE_NAME"),$t=new P.OlP("XSRF_HEADER_NAME");class Un{}let vr=(()=>{class Ke{constructor(Ce,et,ht){this.doc=Ce,this.platform=et,this.cookieName=ht,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ce=this.doc.cookie||"";return Ce!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,b.Mx)(Ce,this.cookieName),this.lastCookieString=Ce),this.lastToken}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)(P.LFG(b.K0),P.LFG(P.Lbi),P.LFG(dn))},Ke.\u0275prov=P.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})(),Ar=(()=>{class Ke{constructor(Ce,et){this.tokenService=Ce,this.headerName=et}intercept(Ce,et){const ht=Ce.url.toLowerCase();if("GET"===Ce.method||"HEAD"===Ce.method||ht.startsWith("http://")||ht.startsWith("https://"))return et.handle(Ce);const Ot=this.tokenService.getToken();return null!==Ot&&!Ce.headers.has(this.headerName)&&(Ce=Ce.clone({headers:Ce.headers.set(this.headerName,Ot)})),et.handle(Ce)}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)(P.LFG(Un),P.LFG($t))},Ke.\u0275prov=P.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})(),fr=(()=>{class Ke{constructor(Ce,et){this.backend=Ce,this.injector=et,this.chain=null}handle(Ce){if(null===this.chain){const et=this.injector.get(Gt,[]);this.chain=et.reduceRight((ht,Ot)=>new bt(ht,Ot),this.backend)}return this.chain.handle(Ce)}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)(P.LFG(X),P.LFG(P.zs3))},Ke.\u0275prov=P.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})(),zt=(()=>{class Ke{static disable(){return{ngModule:Ke,providers:[{provide:Ar,useClass:Rn}]}}static withOptions(Ce={}){return{ngModule:Ke,providers:[Ce.cookieName?{provide:dn,useValue:Ce.cookieName}:[],Ce.headerName?{provide:$t,useValue:Ce.headerName}:[]]}}}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)},Ke.\u0275mod=P.oAB({type:Ke}),Ke.\u0275inj=P.cJS({providers:[Ar,{provide:Gt,useExisting:Ar,multi:!0},{provide:Un,useClass:vr},{provide:dn,useValue:"XSRF-TOKEN"},{provide:$t,useValue:"X-XSRF-TOKEN"}]}),Ke})(),gn=(()=>{class Ke{}return Ke.\u0275fac=function(Ce){return new(Ce||Ke)},Ke.\u0275mod=P.oAB({type:Ke}),Ke.\u0275inj=P.cJS({providers:[Ne,{provide:q,useClass:fr},qn,{provide:X,useExisting:qn}],imports:[[zt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Ke})()},7716:(pt,Me,M)=>{"use strict";M.d(Me,{deG:()=>Xa,tb:()=>Xb,AFp:()=>Yb,ip1:()=>oE,CZH:()=>kf,hGG:()=>VS,z2F:()=>Xg,sBO:()=>wI,Sil:()=>Jg,_Vd:()=>sh,EJc:()=>tw,SBq:()=>Ll,qLn:()=>S,vpe:()=>kl,gxx:()=>xl,tBr:()=>Or,XFs:()=>zt,OlP:()=>lr,zs3:()=>Wr,ZZ4:()=>qy,aQg:()=>Zy,soG:()=>o_,YKP:()=>z0,v3s:()=>yS,h0i:()=>oh,PXZ:()=>dS,R0b:()=>uu,FiY:()=>ea,Lbi:()=>Jb,g9A:()=>Qb,Qsj:()=>aI,FYo:()=>Ky,JOm:()=>ra,Tiy:()=>Nv,q3G:()=>Fr,tp0:()=>Ss,EAV:()=>bS,Rgc:()=>Bg,dDg:()=>sw,DyG:()=>bo,q4F:()=>Pv,GfV:()=>U0,s_b:()=>Jy,ifc:()=>ft,eFA:()=>cw,G48:()=>iS,Gpc:()=>ce,X6Q:()=>fE,_c5:()=>MS,VLi:()=>rS,c2e:()=>ew,zSh:()=>dc,wAp:()=>Hn,vHH:()=>Pe,EiD:()=>Mc,mCW:()=>$l,qzn:()=>yl,JVY:()=>_r,pB0:()=>xc,eBb:()=>Ac,L6k:()=>mh,LAX:()=>us,cg1:()=>Iv,Tjo:()=>xS,kL8:()=>a0,yhl:()=>qi,dqk:()=>In,sIi:()=>pf,CqO:()=>Dg,QGY:()=>Ig,F4k:()=>Ty,RDi:()=>vi,AaK:()=>q,z3N:()=>ks,qOj:()=>Js,TTD:()=>Zr,_Bn:()=>P0,xp6:()=>lp,uIk:()=>ay,Gre:()=>oa,ekj:()=>rh,Suo:()=>Ab,Xpm:()=>hn,lG2:()=>Wt,Yz7:()=>sn,cJS:()=>Bn,oAB:()=>rt,Yjl:()=>xn,Y36:()=>Yd,_UZ:()=>wy,qZA:()=>If,TgZ:()=>wg,EpF:()=>Dy,n5z:()=>qs,Ikx:()=>Cv,LFG:()=>Br,$8M:()=>Na,NdJ:()=>Sy,CRH:()=>xb,oxw:()=>Tg,Q6J:()=>wf,s9C:()=>Ag,iGM:()=>Sb,CHM:()=>qa,LSH:()=>tu,kYT:()=>Ct,YNc:()=>cy,_uU:()=>Ie,Oqu:()=>Fe,hij:()=>ot,AsE:()=>vt});var b=M(9765),P=M(826),se=M(9897),oe=M(6682),ge=M(8345);function re(i){for(let s in i)if(i[s]===re)return s;throw Error("Could not find renamed property on target object.")}function he(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function q(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(q).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function X(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Y=re({__forward_ref__:re});function ce(i){return i.__forward_ref__=ce,i.toString=function(){return q(this())},i}function Q(i){return fe(i)?i():i}function fe(i){return"function"==typeof i&&i.hasOwnProperty(Y)&&i.__forward_ref__===ce}class Pe extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function ye(i){return"string"==typeof i?i:null==i?"":String(i)}function mt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ye(i)}function jt(i,s){const o=s?` in ${s}`:"";throw new Pe("201",`No provider for ${mt(i)} found${o}`)}function Xt(i,s){null==i&&function(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function sn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Bn(i){return{providers:i.providers||[],imports:i.imports||[]}}function qn(i){return dn(i,Ar)||dn(i,Yi)}function dn(i,s){return i.hasOwnProperty(s)?i[s]:null}function vr(i){return i&&(i.hasOwnProperty(fr)||i.hasOwnProperty(yr))?i[fr]:null}const Ar=re({\u0275prov:re}),fr=re({\u0275inj:re}),Yi=re({ngInjectableDef:re}),yr=re({ngInjectorDef:re});var zt=(()=>((zt=zt||{})[zt.Default=0]="Default",zt[zt.Host=1]="Host",zt[zt.Self=2]="Self",zt[zt.SkipSelf=4]="SkipSelf",zt[zt.Optional=8]="Optional",zt))();let gn;function ur(i){const s=gn;return gn=i,s}function Ke(i,s,o){const l=qn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&zt.Optional?null:void 0!==s?s:void jt(q(i),"Injector")}function Ce(i){return{toString:i}.toString()}var et=(()=>((et=et||{})[et.OnPush=0]="OnPush",et[et.Default=1]="Default",et))(),ft=(()=>((ft=ft||{})[ft.Emulated=0]="Emulated",ft[ft.None=2]="None",ft[ft.ShadowDom=3]="ShadowDom",ft))();const Rt="undefined"!=typeof globalThis&&globalThis,Sn="undefined"!=typeof window&&window,Ir="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xr="undefined"!=typeof global&&global,In=Rt||xr||Sn||Ir,Qt={},Ee=[],be=re({\u0275cmp:re}),ke=re({\u0275dir:re}),We=re({\u0275pipe:re}),Ue=re({\u0275mod:re}),Tt=re({\u0275loc:re}),At=re({\u0275fac:re}),mn=re({__NG_ELEMENT_ID__:re});let An=0;function hn(i){return Ce(()=>{const o={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===et.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Ee,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||ft.Emulated,id:"c",styles:i.styles||Ee,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,y=i.pipes;return l.id+=An++,l.inputs=wt(i.inputs,o),l.outputs=wt(i.outputs),f&&f.forEach(w=>w(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(Nr):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(nt):null,l})}function Nr(i){return Yt(i)||function(i){return i[ke]||null}(i)}function nt(i){return function(i){return i[We]||null}(i)}const Qe={};function rt(i){return Ce(()=>{const s={type:i.type,bootstrap:i.bootstrap||Ee,declarations:i.declarations||Ee,imports:i.imports||Ee,exports:i.exports||Ee,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Qe[i.id]=i.type),s})}function Ct(i,s){return Ce(()=>{const o=$n(i,!0);o.declarations=s.declarations||Ee,o.imports=s.imports||Ee,o.exports=s.exports||Ee})}function wt(i,s){if(null==i)return Qt;const o={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),o[d]=l,s&&(s[d]=f)}return o}const Wt=hn;function xn(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Yt(i){return i[be]||null}function $n(i,s){const o=i[Ue]||null;if(!o&&!0===s)throw new Error(`Type ${q(i)} does not have '\u0275mod' property.`);return o}function Oi(i){return Array.isArray(i)&&"object"==typeof i[1]}function gi(i){return Array.isArray(i)&&!0===i[1]}function jn(i){return 0!=(8&i.flags)}function mi(i){return 2==(2&i.flags)}function yi(i){return 1==(1&i.flags)}function gr(i){return null!==i.template}function di(i){return 0!=(512&i[2])}function Ji(i,s){return i.hasOwnProperty(At)?i[At]:null}class _s{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Zr(){return Rs}function Rs(i){return i.type.prototype.ngOnChanges&&(i.setInput=Hi),po}function po(){const i=Di(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===Qt)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Hi(i,s,o,l){const d=Di(i)||function(i,s){return i[Ws]=s}(i,{previous:Qt,current:null}),f=d.current||(d.current={}),y=d.previous,w=this.declaredInputs[o],x=y[w];f[w]=new _s(x&&x.currentValue,s,y===Qt),i[l]=s}Zr.ngInherit=!0;const Ws="__ngSimpleChanges__";function Di(i){return i[Ws]||null}let cr;function vi(i){cr=i}function V(i){return!!i.listen}const H={createRenderer:(i,s)=>void 0!==cr?cr:"undefined"!=typeof document?document:void 0};function De(i){for(;Array.isArray(i);)i=i[0];return i}function Zt(i,s){return De(s[i])}function On(i,s){return De(s[i.index])}function rr(i,s){return i.data[s]}function pr(i,s){const o=s[i];return Oi(o)?o:o[0]}function dr(i){return 4==(4&i[2])}function ri(i){return 128==(128&i[2])}function sr(i,s){return null==s?null:i[s]}function Ns(i){i[18]=0}function ii(i,s){i[5]+=s;let o=i,l=i[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const an={lFrame:lo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function da(){return an.bindingsEnabled}function Et(){return an.lFrame.lView}function Qn(){return an.lFrame.tView}function qa(i){return an.lFrame.contextLView=i,i[8]}function kr(){let i=Da();for(;null!==i&&64===i.type;)i=i.parent;return i}function Da(){return an.lFrame.currentTNode}function is(i,s){const o=an.lFrame;o.currentTNode=i,o.isParent=s}function oo(){return an.lFrame.isParent}function Ps(){return an.isInCheckNoChangesMode}function Fs(i){an.isInCheckNoChangesMode=i}function Es(){return an.lFrame.bindingIndex++}function $i(i){const s=an.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function uo(i,s){const o=an.lFrame;o.bindingIndex=o.bindingRootIndex=i,qo(s)}function qo(i){an.lFrame.currentDirectiveIndex=i}function xa(){return an.lFrame.currentQueryIndex}function Zo(i){an.lFrame.currentQueryIndex=i}function ku(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function zs(i,s,o){if(o&zt.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||o&zt.Host||(d=ku(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const l=an.lFrame=Za();return l.currentTNode=s,l.lView=i,!0}function yo(i){const s=Za(),o=i[1];an.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Za(){const i=an.lFrame,s=null===i?null:i.child;return null===s?lo(i):s}function lo(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Ti(){const i=an.lFrame;return an.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const lu=Ti;function Ls(){const i=Ti();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Yr(){return an.lFrame.selectedIndex}function Ks(i){an.lFrame.selectedIndex=i}function $r(){const i=an.lFrame;return rr(i.tView,i.selectedIndex)}function ko(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const f=i.data[o].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:x,ngAfterViewChecked:k,ngOnDestroy:z}=f;y&&(i.contentHooks||(i.contentHooks=[])).push(-o,y),w&&((i.contentHooks||(i.contentHooks=[])).push(o,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,w)),x&&(i.viewHooks||(i.viewHooks=[])).push(-o,x),k&&((i.viewHooks||(i.viewHooks=[])).push(o,k),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,k)),null!=z&&(i.destroyHooks||(i.destroyHooks=[])).push(o,z)}}function Yo(i,s,o){Uo(i,s,3,o)}function ss(i,s,o,l){(3&i[2])===o&&Uo(i,s,o,l)}function Vo(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function Uo(i,s,o,l){const f=null!=l?l:-1,y=s.length-1;let w=0;for(let x=void 0!==l?65535&i[18]:0;x<y;x++)if("number"==typeof s[x+1]){if(w=s[x],null!=l&&w>=l)break}else s[x]<0&&(i[18]+=65536),(w<f||-1==f)&&(Ya(i,o,s,x),i[18]=(4294901760&i[18])+x+2),x++}function Ya(i,s,o,l){const d=o[l]<0,f=o[l+1],w=i[d?-o[l]:o[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(w)}finally{}}}else try{f.call(w)}finally{}}class bs{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Ur(i,s,o){const l=V(i);let d=0;for(;d<o.length;){const f=o[d];if("number"==typeof f){if(0!==f)break;d++;const y=o[d++],w=o[d++],x=o[d++];l?i.setAttribute(s,w,x,y):s.setAttributeNS(y,w,x)}else{const y=f,w=o[++d];Bo(y)?l&&i.setProperty(s,y,w):l?i.setAttribute(s,y,w):s.setAttribute(y,w),d++}}return d}function ws(i){return 3===i||4===i||6===i}function Bo(i){return 64===i.charCodeAt(0)}function Sr(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?o=d:0===o||Vu(i,o,d,null,-1===o||2===o?s[++l]:null)}}return i}function Vu(i,s,o,l,d){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const w=i[f++];if("number"==typeof w){if(w===s){y=-1;break}if(w>s){y=f-1;break}}}for(;f<i.length;){const w=i[f];if("number"==typeof w)break;if(w===o){if(null===l)return void(null!==d&&(i[f+1]=d));if(l===i[f+1])return void(i[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,o),null!==l&&i.splice(f++,0,l),null!==d&&i.splice(f++,0,d)}function N(i){return-1!==i}function O(i){return 32767&i}function U(i,s){let o=function(i){return i>>16}(i),l=s;for(;o>0;)l=l[15],o--;return l}let K=!0;function ne(i){const s=K;return K=i,s}let Ut=0;function Gn(i,s){const o=ln(i,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,yt(l.data,i),yt(s,null),yt(l.blueprint,null));const d=Wi(i,s),f=i.injectorIndex;if(N(d)){const y=O(d),w=U(d,s),x=w[1].data;for(let k=0;k<8;k++)s[f+k]=w[y+k]|x[y+k]}return s[f+8]=d,f}function yt(i,s){i.push(0,0,0,0,0,0,0,0,s)}function ln(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Wi(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,d=s;for(;null!==d;){const f=d[1],y=f.type;if(l=2===y?f.declTNode:1===y?d[6]:null,null===l)return-1;if(o++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Cs(i,s,o){!function(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(mn)&&(l=o[mn]),null==l&&(l=o[mn]=Ut++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,o)}function cn(i,s,o){if(o&zt.Optional)return i;jt(s,"NodeInjector")}function ma(i,s,o,l){if(o&zt.Optional&&void 0===l&&(l=null),0==(o&(zt.Self|zt.Host))){const d=i[9],f=ur(void 0);try{return d?d.get(s,l,o&zt.Optional):Ke(s,l,o&zt.Optional)}finally{ur(f)}}return cn(l,s,o)}function Mt(i,s,o,l=zt.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(mn)?i[mn]:void 0;return"number"==typeof s?s>=0?255&s:Dt:s}(o);if("function"==typeof f){if(!zs(s,i,l))return l&zt.Host?cn(d,o,l):ma(s,o,l,d);try{const y=f(l);if(null!=y||l&zt.Optional)return y;jt(o)}finally{lu()}}else if("number"==typeof f){let y=null,w=ln(i,s),x=-1,k=l&zt.Host?s[16][6]:null;for((-1===w||l&zt.SkipSelf)&&(x=-1===w?Wi(i,s):s[w+8],-1!==x&&Bu(l,!1)?(y=s[1],w=O(x),s=U(x,s)):w=-1);-1!==w;){const z=s[1];if(Uu(f,w,z.data)){const ae=Xi(w,s,o,y,l,k);if(ae!==it)return ae}x=s[w+8],-1!==x&&Bu(l,s[1].data[w+8]===k)&&Uu(f,w,s)?(y=z,w=O(x),s=U(x,s)):w=-1}}}return ma(s,o,l,d)}const it={};function Dt(){return new Ja(kr(),Et())}function Xi(i,s,o,l,d,f){const y=s[1],w=y.data[i+8],z=cu(w,y,o,null==l?mi(w)&&K:l!=y&&0!=(3&w.type),d&zt.Host&&f===w);return null!==z?Qa(s,y,z,w):it}function cu(i,s,o,l,d){const f=i.providerIndexes,y=s.data,w=1048575&f,x=i.directiveStart,z=f>>20,pe=d?w+z:i.directiveEnd;for(let xe=l?w:w+z;xe<pe;xe++){const Ve=y[xe];if(xe<x&&o===Ve||xe>=x&&Ve.type===o)return xe}if(d){const xe=y[x];if(xe&&gr(xe)&&xe.type===o)return x}return null}function Qa(i,s,o,l){let d=i[o];const f=s.data;if(function(i){return i instanceof bs}(d)){const y=d;y.resolving&&function(i,s){throw new Pe("200",`Circular dependency in DI detected for ${i}`)}(mt(f[o]));const w=ne(y.canSeeViewProviders);y.resolving=!0;const x=y.injectImpl?ur(y.injectImpl):null;zs(i,l,zt.Default);try{d=i[o]=y.factory(void 0,f,i,l),s.firstCreatePass&&o>=l.directiveStart&&function(i,s,o){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(l){const y=Rs(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,y),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,y)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,d),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,f))}(o,f[o],s)}finally{null!==x&&ur(x),ne(w),y.resolving=!1,lu()}}return d}function Uu(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function Bu(i,s){return!(i&zt.Self||i&zt.Host&&s)}class Ja{constructor(s,o){this._tNode=s,this._lView=o}get(s,o){return Mt(this._tNode,this._lView,s,void 0,o)}}function qs(i){return Ce(()=>{const s=i.prototype.constructor,o=s[At]||Vl(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const f=d[At]||Vl(d);if(f&&f!==o)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Vl(i){return fe(i)?()=>{const s=Vl(Q(i));return s&&s()}:Ji(i)}function Na(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let d=0;for(;d<l;){const f=o[d];if(ws(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof o[d];)d++;else{if(f===s)return o[d+1];d+=2}}}return null}(kr(),i)}const jo="__parameters__";function Fa(i,s,o){return Ce(()=>{const l=function(i){return function(...o){if(i){const l=i(...o);for(const d in l)this[d]=l[d]}}}(s);function d(...f){if(this instanceof d)return l.apply(this,f),this;const y=new d(...f);return w.annotation=y,w;function w(x,k,z){const ae=x.hasOwnProperty(jo)?x[jo]:Object.defineProperty(x,jo,{value:[]})[jo];for(;ae.length<=z;)ae.push(null);return(ae[z]=ae[z]||[]).push(y),x}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class lr{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=sn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Xa=new lr("AnalyzeForEntryComponents"),bo=Function;function Is(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let l=i[o];Array.isArray(l)?(s===i&&(s=i.slice(0,o)),Is(l,s)):s!==i&&s.push(l)}return s}function Zs(i,s){i.forEach(o=>Array.isArray(o)?Zs(o,s):s(o))}function gu(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function ya(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function J(i,s,o){let l=Se(i,s);return l>=0?i[1|l]=o:(l=~l,function(i,s,o,l){let d=i.length;if(d==s)i.push(o,l);else if(1===d)i.push(l,i[0]),i[0]=o;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function me(i,s){const o=Se(i,s);if(o>=0)return i[1|o]}function Se(i,s){return function(i,s,o){let l=0,d=i.length>>o;for(;d!==l;){const f=l+(d-l>>1),y=i[f<<o];if(s===y)return f<<o;y>s?d=f:l=f+1}return~(d<<o)}(i,s,1)}const Ai={},Gi="__NG_DI_FLAG__",Ho="ngTempTokenPath",zi=/\n/gm,Ki="__source",mu=re({provide:String,useValue:re});let Io;function Ni(i){const s=Io;return Io=i,s}function cl(i,s=zt.Default){if(void 0===Io)throw new Error("inject() must be called from an injection context");return null===Io?Ke(i,void 0,s):Io.get(i,s&zt.Optional?null:void 0,s)}function Br(i,s=zt.Default){return(gn||cl)(Q(i),s)}function _n(i){const s=[];for(let o=0;o<i.length;o++){const l=Q(i[o]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,f=zt.Default;for(let y=0;y<l.length;y++){const w=l[y],x=Pi(w);"number"==typeof x?-1===x?d=w.token:f|=x:d=w}s.push(Br(d,f))}else s.push(Br(l))}return s}function er(i,s){return i[Gi]=s,i.prototype[Gi]=s,i}function Pi(i){return i[Gi]}function Ds(i,s,o,l){const d=i[Ho];throw s[Ki]&&d.unshift(s[Ki]),i.message=function(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=q(s);if(Array.isArray(s))d=s.map(q).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let w=s[y];f.push(y+":"+("string"==typeof w?JSON.stringify(w):q(w)))}d=`{${f.join(", ")}}`}return`${o}${l?"("+l+")":""}[${d}]: ${i.replace(zi,"\n  ")}`}("\n"+i.message,d,o,l),i.ngTokenPath=d,i[Ho]=null,i}const Or=er(Fa("Inject",i=>({token:i})),-1),ea=er(Fa("Optional"),8),Ss=er(Fa("SkipSelf"),4);let vu;function gl(i){var s;return(null===(s=function(){if(void 0===vu&&(vu=null,In.trustedTypes))try{vu=In.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return vu}())||void 0===s?void 0:s.createHTML(i))||i}class _a{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Eu extends _a{getTypeName(){return"HTML"}}class fh extends _a{getTypeName(){return"Style"}}class ph extends _a{getTypeName(){return"Script"}}class gh extends _a{getTypeName(){return"URL"}}class Sc extends _a{getTypeName(){return"ResourceURL"}}function ks(i){return i instanceof _a?i.changingThisBreaksApplicationSecurity:i}function yl(i,s){const o=qi(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function qi(i){return i instanceof _a&&i.getTypeName()||null}function _r(i){return new Eu(i)}function mh(i){return new fh(i)}function Ac(i){return new ph(i)}function us(i){return new gh(i)}function xc(i){return new Sc(i)}class Li{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(gl(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class yh{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=gl(s),o;const l=this.inertDocument.createElement("body");return l.innerHTML=gl(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const o=s.attributes;for(let d=o.length-1;0<d;d--){const y=o.item(d).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const ta=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,gd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $l(i){return(i=String(i)).match(ta)||i.match(gd)?i:"unsafe:"+i}function va(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Cr(...i){const s={};for(const o of i)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const _h=va("area,br,col,hr,img,wbr"),Wl=va("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bu=va("rp,rt"),Gu=Cr(_h,Cr(Wl,va("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cr(bu,va("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cr(bu,Wl)),Oc=va("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_d=va("srcset"),Eh=Cr(Oc,_d,va("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),va("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Kf=va("script,style,template");class qf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let d=this.checkClobberedElement(o,o.nextSibling);if(d){o=d;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!Gu.hasOwnProperty(o))return this.sanitizedSomething=!0,!Kf.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let d=0;d<l.length;d++){const f=l.item(d),y=f.name,w=y.toLowerCase();if(!Eh.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let x=f.value;Oc[w]&&(x=$l(x)),_d[w]&&(i=x,x=(i=String(i)).split(",").map(s=>$l(s.trim())).join(", ")),this.buf.push(" ",y,'="',bh(x),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();Gu.hasOwnProperty(o)&&!_h.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(bh(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const Gl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zl=/([^\#-~ |!])/g;function bh(i){return i.replace(/&/g,"&amp;").replace(Gl,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(zl,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ki;function Mc(i,s){let o=null;try{ki=ki||function(i){const s=new yh(i);return function(){try{return!!(new window.DOMParser).parseFromString(gl(""),"text/html")}catch(i){return!1}}()?new Li(s):s}(i);let l=s?String(s):"";o=ki.getInertBodyElement(l);let d=5,f=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=f,f=o.innerHTML,o=ki.getInertBodyElement(l)}while(l!==f);return gl((new qf).sanitizeChildren(Rc(o)||o))}finally{if(o){const l=Rc(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Rc(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Fr=(()=>((Fr=Fr||{})[Fr.NONE=0]="NONE",Fr[Fr.HTML=1]="HTML",Fr[Fr.STYLE=2]="STYLE",Fr[Fr.SCRIPT=3]="SCRIPT",Fr[Fr.URL=4]="URL",Fr[Fr.RESOURCE_URL=5]="RESOURCE_URL",Fr))();function tu(i){const s=function(){const i=Et();return i&&i[12]}();return s?s.sanitize(Fr.URL,i)||"":yl(i,"URL")?ks(i):$l(ye(i))}const Ua="__ngContext__";function As(i,s){i[Ua]=s}function vd(i){const s=function(i){return i[Ua]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function C(i){return i.ngOriginalError}function m(i,...s){i.error(...s)}class S{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),l=this._findContext(s),d=(i=s)&&i.ngErrorLogger||m;var i;d(this._console,"ERROR",s),o&&d(this._console,"ORIGINAL ERROR",o),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(C(s)):null}_findOriginalError(s){let o=s&&C(s);for(;o&&C(o);)o=C(o);return o||null}}const To=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(In))();function Us(i){return i instanceof Function?i():i}var ra=(()=>((ra=ra||{})[ra.Important=1]="Important",ra[ra.DashCase=2]="DashCase",ra))();function Iu(i,s){return undefined(i,s)}function Uc(i){const s=i[3];return gi(s)?s[3]:s}function bl(i){return Xl(i[13])}function wl(i){return Xl(i[4])}function Xl(i){for(;null!==i&&!gi(i);)i=i[4];return i}function ec(i,s,o,l,d){if(null!=l){let f,y=!1;gi(l)?f=l:Oi(l)&&(y=!0,l=l[0]);const w=De(l);0===i&&null!==o?null==d?nc(s,o,w):tc(s,o,w,d||null,!0):1===i&&null!==o?tc(s,o,w,d||null,!0):2===i?function(i,s,o){const l=Du(i,s);l&&function(i,s,o,l){V(i)?i.removeChild(s,o,l):s.removeChild(o)}(i,l,s,o)}(s,w,y):3===i&&s.destroyNode(w),null!=f&&function(i,s,o,l,d){const f=o[7];f!==De(o)&&ec(s,i,l,f,d);for(let w=10;w<o.length;w++){const x=o[w];Ba(x[1],x,i,s,l,f)}}(s,i,f,o,d)}}function xh(i,s,o){return V(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function Xf(i,s){const o=i[9],l=o.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,ii(d,-1)),o.splice(l,1)}function Bc(i,s){if(i.length<=10)return;const o=10+s,l=i[o];if(l){const d=l[17];null!==d&&d!==i&&Xf(d,l),s>0&&(i[o-1][4]=l[4]);const f=ya(i,10+s);!function(i,s){Ba(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const y=f[19];null!==y&&y.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Oh(i,s){if(!(256&s[2])){const o=s[11];V(o)&&o.destroyNode&&Ba(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return Mh(i[1],i);for(;s;){let o=null;if(Oi(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==i;)Oi(s)&&Mh(s[1],s),s=s[3];null===s&&(s=i),Oi(s)&&Mh(s[1],s),o=s&&s[4]}s=o}}(s)}}function Mh(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const d=s[o[l]];if(!(d instanceof bs)){const f=o[l+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const w=d[f[y]],x=f[y+1];try{x.call(w)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,l=s[7];let d=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const y=o[f+1],w="function"==typeof y?y(s):De(s[y]),x=l[d=o[f+2]],k=o[f+3];"boolean"==typeof k?w.removeEventListener(o[f],x,k):k>=0?l[d=k]():l[d=-k].unsubscribe(),f+=2}else{const y=l[d=o[f+1]];o[f].call(y)}if(null!==l){for(let f=d+1;f<l.length;f++)l[f]();s[7]=null}}(i,s),1===s[1].type&&V(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&gi(s[3])){o!==s[3]&&Xf(o,s);const l=s[19];null!==l&&l.detachView(i)}}}function ep(i,s,o){return function(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===ft.None||d===ft.Emulated)return null}return On(l,o)}(i,s.parent,o)}function tc(i,s,o,l,d){V(i)?i.insertBefore(s,o,l,d):s.insertBefore(o,l,d)}function nc(i,s,o){V(i)?i.appendChild(s,o):s.appendChild(o)}function tp(i,s,o,l,d){null!==l?tc(i,s,o,l,d):nc(i,s,o)}function Du(i,s){return V(i)?i.parentNode(s):s.parentNode}let hm=function(i,s,o){return 40&i.type?On(i,o):null};function rc(i,s,o,l){const d=ep(i,l,s),f=s[11],w=function(i,s,o){return hm(i,s,o)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(o))for(let x=0;x<o.length;x++)tp(f,d,o[x],w,!1);else tp(f,d,o,w,!1)}function qu(i,s){if(null!==s){const o=s.type;if(3&o)return On(s,i);if(4&o)return op(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return qu(i,l);{const d=i[s.index];return gi(d)?op(-1,d):De(d)}}if(32&o)return Iu(s,i)()||De(i[s.index]);{const l=sp(i,s);return null!==l?Array.isArray(l)?l[0]:qu(Uc(i[16]),l):qu(i,s.next)}}return null}function sp(i,s){return null!==s?i[16][6].projection[s.projection]:null}function op(i,s){const o=10+i+1;if(o<s.length){const l=s[o],d=l[1].firstChild;if(null!==d)return qu(l,d)}return s[7]}function Rh(i,s,o,l,d,f,y){for(;null!=o;){const w=l[o.index],x=o.type;if(y&&0===s&&(w&&As(De(w),l),o.flags|=4),64!=(64&o.flags))if(8&x)Rh(i,s,o.child,l,d,f,!1),ec(s,i,d,w,f);else if(32&x){const k=Iu(o,l);let z;for(;z=k();)ec(s,i,d,z,f);ec(s,i,d,w,f)}else 16&x?gm(i,s,l,o,d,f):ec(s,i,d,w,f);o=y?o.projectionNext:o.next}}function Ba(i,s,o,l,d,f){Rh(o,l,i.firstChild,s,d,f,!1)}function gm(i,s,o,l,d,f){const y=o[16],x=y[6].projection[l.projection];if(Array.isArray(x))for(let k=0;k<x.length;k++)ec(s,i,d,x[k],f);else Rh(i,s,x,y[3],d,f,!0)}function Ph(i,s,o){V(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function ic(i,s,o){V(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function xd(i,s,o){let l=i.length;for(;;){const d=i.indexOf(s,o);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===l||i.charCodeAt(d+f)<=32)return d}o=d+1}}const _m="ng-template";function vm(i,s,o){let l=0;for(;l<i.length;){let d=i[l++];if(o&&"class"===d){if(d=i[l],-1!==xd(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Fh(i){return 4===i.type&&i.value!==_m}function Em(i,s,o){return s===(4!==i.type||o?i.value:_m)}function v_(i,s,o){let l=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(ws(i[s]))return s;return i.length}(d);let y=!1;for(let w=0;w<s.length;w++){const x=s[w];if("number"!=typeof x){if(!y)if(4&l){if(l=2|1&l,""!==x&&!Em(i,x,o)||""===x&&1===s.length){if(ja(l))return!1;y=!0}}else{const k=8&l?x:s[++w];if(8&l&&null!==i.attrs){if(!vm(i.attrs,k,o)){if(ja(l))return!1;y=!0}continue}const ae=bm(8&l?"class":x,d,Fh(i),o);if(-1===ae){if(ja(l))return!1;y=!0;continue}if(""!==k){let pe;pe=ae>f?"":d[ae+1].toLowerCase();const xe=8&l?pe:null;if(xe&&-1!==xd(xe,k,0)||2&l&&k!==pe){if(ja(l))return!1;y=!0}}}}else{if(!y&&!ja(l)&&!ja(x))return!1;if(y&&ja(x))continue;y=!1,l=x|1&l}}return ja(l)||y}function ja(i){return 0==(1&i)}function bm(i,s,o,l){if(null===s)return-1;let d=0;if(l||!o){let f=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)f=!0;else{if(1===y||2===y){let w=s[++d];for(;"string"==typeof w;)w=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function Lh(i,s,o=!1){for(let l=0;l<s.length;l++)if(v_(i,s[l],o))return!0;return!1}function Im(i,s){return i?":not("+s.trim()+")":s}function Hc(i){let s=i[0],o=1,l=2,d="",f=!1;for(;o<i.length;){let y=i[o];if("string"==typeof y)if(2&l){const w=i[++o];d+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+y:4&l&&(d+=" "+y);else""!==d&&!ja(y)&&(s+=Im(f,d),d=""),l=y,f=f||!ja(l);o++}return""!==d&&(s+=Im(f,d)),s}const Kn={};function lp(i){cp(Qn(),Et(),Yr()+i,Ps())}function cp(i,s,o,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Yo(s,f,o)}else{const f=i.preOrderHooks;null!==f&&ss(s,f,0,o)}Ks(o)}function kh(i,s){return i<<17|s<<2}function ba(i){return i>>17&32767}function hp(i){return 2|i}function ru(i){return(131068&i)>>2}function fp(i,s){return-131069&i|s<<2}function xs(i){return 1|i}function Yu(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const d=o[l],f=o[l+1];if(-1!==f){const y=i.data[f];Zo(d),y.contentQueries(2,s[f],f)}}}function oc(i,s,o,l,d,f,y,w,x,k){const z=s.blueprint.slice();return z[0]=d,z[2]=140|l,Ns(z),z[3]=z[15]=i,z[8]=o,z[10]=y||i&&i[10],z[11]=w||i&&i[11],z[12]=x||i&&i[12]||null,z[9]=k||i&&i[9]||null,z[6]=f,z[16]=2==s.type?i[16]:z,z}function Gc(i,s,o,l,d){let f=i.data[s];if(null===f)f=function(i,s,o,l,d){const f=Da(),y=oo(),x=i.data[s]=function(i,s,o,l,d,f){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,o,s,l,d);return null===i.firstChild&&(i.firstChild=x),null!==f&&(y?null==f.child&&null!==x.parent&&(f.child=x):null===f.next&&(f.next=x)),x}(i,s,o,l,d),an.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=o,f.value=l,f.attrs=d;const y=function(){const i=an.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return is(f,!0),f}function zc(i,s,o,l){if(0===o)return-1;const d=s.length;for(let f=0;f<o;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function ac(i,s,o){yo(s);try{const l=i.viewQuery;null!==l&&Bd(1,l,o);const d=i.template;null!==d&&Cp(i,s,d,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Yu(i,s),i.staticViewQueries&&Bd(2,i.viewQuery,o);const f=i.components;null!==f&&function(i,s){for(let o=0;o<s.length;o++)Mp(i,s[o])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Ls()}}function Qu(i,s,o,l){const d=s[2];if(256==(256&d))return;yo(s);const f=Ps();try{Ns(s),function(i){an.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Cp(i,s,o,2,l);const y=3==(3&d);if(!f)if(y){const k=i.preOrderCheckHooks;null!==k&&Yo(s,k,null)}else{const k=i.preOrderHooks;null!==k&&ss(s,k,0,null),Vo(s,0)}if(function(i){for(let s=bl(i);null!==s;s=wl(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const d=o[l],f=d[3];0==(1024&d[2])&&ii(f,1),d[2]|=1024}}}(s),function(i){for(let s=bl(i);null!==s;s=wl(s))for(let o=10;o<s.length;o++){const l=s[o],d=l[1];ri(l)&&Qu(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&Yu(i,s),!f)if(y){const k=i.contentCheckHooks;null!==k&&Yo(s,k)}else{const k=i.contentHooks;null!==k&&ss(s,k,1),Vo(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const d=o[l];if(d<0)Ks(~d);else{const f=d,y=o[++l],w=o[++l];uo(y,f),w(2,s[f])}}}finally{Ks(-1)}}(i,s);const w=i.components;null!==w&&function(i,s){for(let o=0;o<s.length;o++)L_(i,s[o])}(s,w);const x=i.viewQuery;if(null!==x&&Bd(2,x,l),!f)if(y){const k=i.viewCheckHooks;null!==k&&Yo(s,k)}else{const k=i.viewHooks;null!==k&&ss(s,k,2),Vo(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ii(s[3],-1))}finally{Ls()}}function wp(i,s,o,l){const d=s[10],f=!Ps(),y=dr(s);try{f&&!y&&d.begin&&d.begin(),y&&ac(i,s,l),Qu(i,s,o,l)}finally{f&&!y&&d.end&&d.end()}}function Cp(i,s,o,l,d){const f=Yr(),y=2&l;try{Ks(-1),y&&s.length>20&&cp(i,s,20,Ps()),o(l,d)}finally{Ks(f)}}function Pd(i,s,o){!da()||(function(i,s,o,l){const d=o.directiveStart,f=o.directiveEnd;i.firstCreatePass||Gn(o,s),As(l,s);const y=o.initialInputs;for(let w=d;w<f;w++){const x=i.data[w],k=gr(x);k&&jm(s,o,x);const z=Qa(s,i,w,o);As(z,s),null!==y&&Hm(0,w-d,z,x,0,y),k&&(pr(o.index,s)[8]=z)}}(i,s,o,On(o,s)),128==(128&o.flags)&&function(i,s,o){const l=o.directiveStart,d=o.directiveEnd,y=o.index,w=an.lFrame.currentDirectiveIndex;try{Ks(y);for(let x=l;x<d;x++){const k=i.data[x],z=s[x];qo(x),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&Zh(k,z)}}finally{Ks(-1),qo(w)}}(i,s,o))}function Ip(i,s,o=On){const l=s.localNames;if(null!==l){let d=s.index+1;for(let f=0;f<l.length;f+=2){const y=l[f+1],w=-1===y?o(s,i):i[y];i[d++]=w}}}function Mm(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Fd(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Fd(i,s,o,l,d,f,y,w,x,k){const z=20+l,ae=z+d,pe=function(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:Kn);return o}(z,ae),xe="function"==typeof k?k():k;return pe[1]={type:i,blueprint:pe,template:o,queries:null,viewQuery:w,declTNode:s,data:pe.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:x,consts:xe,incompleteFirstPass:!1}}function Kh(i,s,o,l){const d=zm(s);null===o?d.push(l):(d.push(o),i.firstCreatePass&&tf(i).push(l,d.length-1))}function qh(i,s,o){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(s,d):o[l]=[s,d]}return o}function Wo(i,s,o,l,d,f,y,w){const x=On(s,o);let z,k=s.inputs;!w&&null!=k&&(z=k[l])?(rf(i,o,z,l,d),mi(s)&&function(i,s){const o=pr(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=y?y(d,s.value||"",l):d,V(f)?f.setProperty(x,l,d):Bo(l)||(x.setProperty?x.setProperty(l,d):x[l]=d))}function Al(i,s,o,l){let d=!1;if(da()){const f=function(i,s,o){const l=i.directiveRegistry;let d=null;if(l)for(let f=0;f<l.length;f++){const y=l[f];Lh(o,y.selectors,!1)&&(d||(d=[]),Cs(Gn(o,s),i,y.type),gr(y)?(Um(i,o),d.unshift(y)):d.push(y))}return d}(i,s,o),y=null===l?null:{"":-1};if(null!==f){d=!0,Yh(o,i.data.length,f.length);for(let z=0;z<f.length;z++){const ae=f[z];ae.providersResolver&&ae.providersResolver(ae)}let w=!1,x=!1,k=zc(i,s,f.length,null);for(let z=0;z<f.length;z++){const ae=f[z];o.mergedAttrs=Sr(o.mergedAttrs,ae.hostAttrs),Bm(i,o,s,k,ae),Op(k,ae,y),null!==ae.contentQueries&&(o.flags|=8),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(o.flags|=128);const pe=ae.type.prototype;!w&&(pe.ngOnChanges||pe.ngOnInit||pe.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),w=!0),!x&&(pe.ngOnChanges||pe.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),x=!0),k++}!function(i,s){const l=s.directiveEnd,d=i.data,f=s.attrs,y=[];let w=null,x=null;for(let k=s.directiveStart;k<l;k++){const z=d[k],ae=z.inputs,pe=null===f||Fh(s)?null:$m(ae,f);y.push(pe),w=qh(ae,k,w),x=qh(z.outputs,k,x)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=w,s.outputs=x}(i,o)}y&&function(i,s,o){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=o[s[d+1]];if(null==f)throw new Pe("301",`Export of name '${s[d+1]}' not found!`);l.push(s[d],f)}}}(o,l,y)}return o.mergedAttrs=Sr(o.mergedAttrs,o.attrs),d}function Vm(i,s,o,l,d,f){const y=f.hostBindings;if(y){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const x=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(w)!=x&&w.push(x),w.push(l,d,y)}}function Zh(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Um(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Op(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;gr(s)&&(o[""]=i)}}function Yh(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function Bm(i,s,o,l,d){i.data[l]=d;const f=d.factory||(d.factory=Ji(d.type)),y=new bs(f,gr(d),null);i.blueprint[l]=y,o[l]=y,Vm(i,s,0,l,zc(i,o,d.hostVars,Kn),d)}function jm(i,s,o){const l=On(s,i),d=Mm(o),f=i[10],y=Jh(i,oc(i,d,null,o.onPush?64:16,l,s,f,f.createRenderer(l,o),null,null));i[s.index]=y}function Tu(i,s,o,l,d,f){const y=On(i,s);!function(i,s,o,l,d,f,y){if(null==f)V(i)?i.removeAttribute(s,d,o):s.removeAttribute(d);else{const w=null==y?ye(f):y(f,l||"",d);V(i)?i.setAttribute(s,d,w,o):o?s.setAttributeNS(o,d,w):s.setAttribute(d,w)}}(s[11],y,f,i.value,o,l,d)}function Hm(i,s,o,l,d,f){const y=f[s];if(null!==y){const w=l.setInput;for(let x=0;x<y.length;){const k=y[x++],z=y[x++],ae=y[x++];null!==w?l.setInput(o,ae,k,z):o[z]=ae}}}function $m(i,s){let o=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return o}function Wm(i,s,o,l){return new Array(i,!0,!1,s,null,0,l,o,null,null)}function L_(i,s){const o=pr(s,i);if(ri(o)){const l=o[1];80&o[2]?Qu(l,o,l.template,o[8]):o[5]>0&&kd(o)}}function kd(i){for(let l=bl(i);null!==l;l=wl(l))for(let d=10;d<l.length;d++){const f=l[d];if(1024&f[2]){const y=f[1];Qu(y,f,y.template,f[8])}else f[5]>0&&kd(f)}const o=i[1].components;if(null!==o)for(let l=0;l<o.length;l++){const d=pr(o[l],i);ri(d)&&d[5]>0&&kd(d)}}function Mp(i,s){const o=pr(s,i),l=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(l,o),ac(l,o,o[8])}function Jh(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Vd(i){for(;i;){i[2]|=64;const s=Uc(i);if(di(i)&&!s)return i;i=s}return null}function Xh(i,s,o){const l=s[10];l.begin&&l.begin();try{Qu(i,s,i.template,o)}catch(d){throw nf(s,d),d}finally{l.end&&l.end()}}function ef(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],l=vd(o),d=l[1];wp(d,l,d.template,o)}}(i[8])}function Bd(i,s,o){Zo(0),s(i,o)}const Np=(()=>Promise.resolve(null))();function zm(i){return i[7]||(i[7]=[])}function tf(i){return i.cleanup||(i.cleanup=[])}function nf(i,s){const o=i[9],l=o?o.get(S,null):null;l&&l.handleError(s)}function rf(i,s,o,l,d){for(let f=0;f<o.length;){const y=o[f++],w=o[f++],x=s[y],k=i.data[y];null!==k.setInput?k.setInput(x,d,l,w):x[w]=d}}function su(i,s,o){const l=Zt(s,i);!function(i,s,o){V(i)?i.setValue(s,o):s.textContent=o}(i[11],l,o)}function Ju(i,s,o){let l=o?i.styles:null,d=o?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const w=s[y];"number"==typeof w?f=w:1==f?d=X(d,w):2==f&&(l=X(l,w+": "+s[++y]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=d:i.classesWithoutHost=d}const xl=new lr("INJECTOR",-1);class Su{get(s,o=Ai){if(o===Ai){const l=new Error(`NullInjectorError: No provider for ${q(s)}!`);throw l.name="NullInjectorError",l}return o}}const dc=new lr("Set Injector scope."),jd={},Fp={};let Lp;function Zm(){return void 0===Lp&&(Lp=new Su),Lp}function Ym(i,s=null,o=null,l){return new Vp(i,o,s||Zm(),l)}class Vp{constructor(s,o,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];o&&Zs(o,w=>this.processProvider(w,s,o)),Zs([s],w=>this.processInjectorType(w,[],f)),this.records.set(xl,hc(void 0,this));const y=this.records.get(dc);this.scope=null!=y?y.value:null,this.source=d||("object"==typeof s?null:q(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=Ai,l=zt.Default){this.assertNotDestroyed();const d=Ni(this),f=ur(void 0);try{if(!(l&zt.SkipSelf)){let w=this.records.get(s);if(void 0===w){const x=("function"==typeof(i=s)||"object"==typeof i&&i instanceof lr)&&qn(s);w=x&&this.injectableDefInScope(x)?hc(Up(s),jd):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&zt.Self?Zm():this.parent).get(s,o=l&zt.Optional&&o===Ai?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[Ho]=y[Ho]||[]).unshift(q(s)),d)throw y;return Ds(y,s,"R3InjectorError",this.source)}throw y}finally{ur(f),Ni(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(q(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,l){if(!(s=Q(s)))return!1;let d=vr(s);const f=null==d&&s.ngModule||void 0,y=void 0===f?s:f,w=-1!==l.indexOf(y);if(void 0!==f&&(d=vr(f)),null==d)return!1;if(null!=d.imports&&!w){let z;l.push(y);try{Zs(d.imports,ae=>{this.processInjectorType(ae,o,l)&&(void 0===z&&(z=[]),z.push(ae))})}finally{}if(void 0!==z)for(let ae=0;ae<z.length;ae++){const{ngModule:pe,providers:xe}=z[ae];Zs(xe,Ve=>this.processProvider(Ve,pe,xe||Ee))}}this.injectorDefTypes.add(y);const x=Ji(y)||(()=>new y);this.records.set(y,hc(x,jd));const k=d.providers;if(null!=k&&!w){const z=s;Zs(k,ae=>this.processProvider(ae,z,k))}return void 0!==f&&void 0!==s.providers}processProvider(s,o,l){let d=qc(s=Q(s))?s:Q(s&&s.provide);const f=of(i=s)?hc(void 0,i.useValue):hc(sf(i),jd);var i;if(qc(s)||!0!==s.multi)this.records.get(d);else{let y=this.records.get(d);y||(y=hc(void 0,jd,!0),y.factory=()=>_n(y.multi),this.records.set(d,y)),d=s,y.multi.push(s)}this.records.set(d,f)}hydrate(s,o){return o.value===jd&&(o.value=Fp,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=Q(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Up(i){const s=qn(i),o=null!==s?s.factory:Ji(i);if(null!==o)return o;if(i instanceof lr)throw new Error(`Token ${q(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=function(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}(s,"?");throw new Error(`Can't resolve all parameters for ${q(i)}: (${l.join(", ")}).`)}const o=function(i){const s=i&&(i[Ar]||i[Yi]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function sf(i,s,o){let l;if(qc(i)){const d=Q(i);return Ji(d)||Up(d)}if(of(i))l=()=>Q(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(..._n(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>Br(Q(i.useExisting));else{const d=Q(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Ji(d)||Up(d);l=()=>new d(..._n(i.deps))}return l}function hc(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function of(i){return null!==i&&"object"==typeof i&&mu in i}function qc(i){return"function"==typeof i}const Wp=function(i,s,o){return function(i,s=null,o=null,l){const d=Ym(i,s,o,l);return d._resolveInjectorDefTypes(),d}({name:o},s,i,o)};class Wr{static create(s,o){return Array.isArray(s)?Wp(s,o,""):Wp(s.providers,s.parent,s.name||"")}}function $d(i,s){ko(vd(i)[1],kr())}function Js(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const l=[i];for(;s;){let d;if(gr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(o){l.push(d);const y=i;y.inputs=df(i.inputs),y.declaredInputs=df(i.declaredInputs),y.outputs=df(i.outputs);const w=d.hostBindings;w&&iy(i,w);const x=d.viewQuery,k=d.contentQueries;if(x&&J_(i,x),k&&hf(i,k),he(i.inputs,d.inputs),he(i.declaredInputs,d.declaredInputs),he(i.outputs,d.outputs),gr(d)&&d.data.animation){const z=i.data;z.animation=(z.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let y=0;y<f.length;y++){const w=f[y];w&&w.ngInherit&&w(i),w===Js&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=Sr(d.hostAttrs,o=Sr(o,d.hostAttrs))}}(l)}function df(i){return i===Qt?{}:i===Ee?[]:i}function J_(i,s){const o=i.viewQuery;i.viewQuery=o?(l,d)=>{s(l,d),o(l,d)}:s}function hf(i,s){const o=i.contentQueries;i.contentQueries=o?(l,d,f)=>{s(l,d,f),o(l,d,f)}:s}function iy(i,s){const o=i.hostBindings;i.hostBindings=o?(l,d)=>{s(l,d),o(l,d)}:s}Wr.THROW_IF_NOT_FOUND=Ai,Wr.NULL=new Su,Wr.\u0275prov=sn({token:Wr,providedIn:"any",factory:()=>Br(xl)}),Wr.__NG_ELEMENT_ID__=-1;let ff=null;function Qc(){if(!ff){const i=In.Symbol;if(i&&i.iterator)ff=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(ff=l)}}}return ff}function pf(i){return!!og(i)&&(Array.isArray(i)||!(i instanceof Map)&&Qc()in i)}function og(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function So(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function ay(i,s,o,l){const d=Et();return So(d,Es(),s)&&(Qn(),Tu($r(),d,i,s,o,l)),ay}function ed(i,s,o,l){return So(i,Es(),o)?s+ye(o)+l:Kn}function gc(i,s,o,l,d,f){const w=function(i,s,o,l){const d=So(i,s,o);return So(i,s+1,l)||d}(i,an.lFrame.bindingIndex,o,d);return $i(2),w?s+ye(o)+l+ye(d)+f:Kn}function cy(i,s,o,l,d,f,y,w){const x=Et(),k=Qn(),z=i+20,ae=k.firstCreatePass?function(i,s,o,l,d,f,y,w,x){const k=s.consts,z=Gc(s,i,4,y||null,sr(k,w));Al(s,o,z,sr(k,x)),ko(s,z);const ae=z.tViews=Fd(2,z,l,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,k);return null!==s.queries&&(s.queries.template(s,z),ae.queries=s.queries.embeddedTView(z)),z}(z,k,x,s,o,l,d,f,y):k.data[z];is(ae,!1);const pe=x[11].createComment("");rc(k,x,pe,ae),As(pe,x),Jh(x,x[z]=Wm(pe,x,pe,ae)),yi(ae)&&Pd(k,x,ae),null!=y&&Ip(x,ae,w)}function Yd(i,s=zt.Default){const o=Et();return null===o?Br(i,s):Mt(kr(),o,Q(i),s)}function wf(i,s,o){const l=Et();return So(l,Es(),s)&&Wo(Qn(),$r(),l,i,s,l[11],o,!1),wf}function Cf(i,s,o,l,d){const y=d?"class":"style";rf(i,o,s.inputs[y],y,l)}function wg(i,s,o,l){const d=Et(),f=Qn(),y=20+i,w=d[11],x=d[y]=xh(w,s,an.lFrame.currentNamespace),k=f.firstCreatePass?function(i,s,o,l,d,f,y){const w=s.consts,k=Gc(s,i,2,d,sr(w,f));return Al(s,o,k,sr(w,y)),null!==k.attrs&&Ju(k,k.attrs,!1),null!==k.mergedAttrs&&Ju(k,k.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,k),k}(y,f,d,0,s,o,l):f.data[y];is(k,!0);const z=k.mergedAttrs;null!==z&&Ur(w,x,z);const ae=k.classes;null!==ae&&ic(w,x,ae);const pe=k.styles;null!==pe&&Ph(w,x,pe),64!=(64&k.flags)&&rc(f,d,x,k),0===an.lFrame.elementDepthCount&&As(x,d),an.lFrame.elementDepthCount++,yi(k)&&(Pd(f,d,k),function(i,s,o){if(jn(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const y=i.data[f];y.contentQueries&&y.contentQueries(1,o[f],f)}}}(f,k,d)),null!==l&&Ip(d,k)}function If(){let i=kr();oo()?an.lFrame.isParent=!1:(i=i.parent,is(i,!1));const s=i;an.lFrame.elementDepthCount--;const o=Qn();o.firstCreatePass&&(ko(o,i),jn(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Cf(o,s,Et(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Cf(o,s,Et(),s.stylesWithoutHost,!1)}function wy(i,s,o,l){wg(i,s,o,l),If()}function Dy(){return Et()}function Ig(i){return!!i&&"function"==typeof i.then}function Ty(i){return!!i&&"function"==typeof i.subscribe}const Dg=Ty;function Sy(i,s,o,l){const d=Et(),f=Qn(),y=kr();return function(i,s,o,l,d,f,y,w){const x=yi(l),z=i.firstCreatePass&&tf(i),ae=s[8],pe=zm(s);let xe=!0;if(3&l.type||w){const ze=On(l,s),xt=w?w(ze):ze,gt=pe.length,vn=w?Yn=>w(De(Yn[l.index])):l.index;if(V(o)){let Yn=null;if(!w&&x&&(Yn=function(i,s,o,l){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const y=d[f];if(y===o&&d[f+1]===l){const w=s[7],x=d[f+2];return w.length>x?w[x]:null}"string"==typeof y&&(f+=2)}return null}(i,s,d,l.index)),null!==Yn)(Yn.__ngLastListenerFn__||Yn).__ngNextListenerFn__=f,Yn.__ngLastListenerFn__=f,xe=!1;else{f=Tf(l,s,ae,f,!1);const Mr=o.listen(xt,d,f);pe.push(f,Mr),z&&z.push(d,vn,gt,gt+1)}}else f=Tf(l,s,ae,f,!0),xt.addEventListener(d,f,y),pe.push(f),z&&z.push(d,vn,gt,y)}else f=Tf(l,s,ae,f,!1);const Ve=l.outputs;let st;if(xe&&null!==Ve&&(st=Ve[d])){const ze=st.length;if(ze)for(let xt=0;xt<ze;xt+=2){const fo=s[st[xt]][st[xt+1]].subscribe(f),Lu=pe.length;pe.push(f,fo),z&&z.push(d,l.index,Lu,-(Lu+1))}}}(f,d,d[11],y,i,s,!!o,l),Sy}function Df(i,s,o,l){try{return!1!==o(l)}catch(d){return nf(i,d),!1}}function Tf(i,s,o,l,d){return function f(y){if(y===Function)return l;const w=2&i.flags?pr(i.index,s):s;0==(32&s[2])&&Vd(w);let x=Df(s,0,l,y),k=f.__ngNextListenerFn__;for(;k;)x=Df(s,0,k,y)&&x,k=k.__ngNextListenerFn__;return d&&!1===x&&(y.preventDefault(),y.returnValue=!1),x}}function Tg(i=1){return function(i){return(an.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,an.lFrame.contextLView))[8]}(i)}function Ag(i,s,o){return Sf(i,"",s,"",o),Ag}function Sf(i,s,o,l,d){const f=Et(),y=ed(f,s,o,l);return y!==Kn&&Wo(Qn(),$r(),f,i,y,f[11],d,!1),Sf}function xo(i,s,o,l,d){const f=i[o+1],y=null===s;let w=l?ba(f):ru(f),x=!1;for(;0!==w&&(!1===x||y);){const z=i[w+1];mv(i[w],s)&&(x=!0,i[w+1]=l?xs(z):hp(z)),w=l?ba(z):ru(z)}x&&(i[o+1]=l?hp(f):xs(f))}function mv(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Se(i,s)>=0}const cs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vc(i){return i.substring(cs.key,cs.keyEnd)}function Fl(i,s){const o=cs.textEnd;return o===s?-1:(s=cs.keyEnd=function(i,s,o){for(;s<o&&i.charCodeAt(s)>32;)s++;return s}(i,cs.key=s,o),Ga(i,s,o))}function Ga(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function rh(i,s){return function(i,s,o,l){const d=Et(),f=Qn(),y=$i(2);f.firstUpdatePass&&Vy(f,i,y,l),s!==Kn&&So(d,y,s)&&E(f,f.data[Yr()],d,d[11],i,d[y+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=q(ks(i)))),i}(s,o),l,y)}(i,s,null,!0),rh}function ou(i,s){for(let o=function(i){return function(i){cs.key=0,cs.keyEnd=0,cs.value=0,cs.valueEnd=0,cs.textEnd=i.length}(i),Fl(i,Ga(i,0,cs.textEnd))}(s);o>=0;o=Fl(s,o))J(i,vc(s),!0)}function Pg(i,s){return s>=i.expandoStartIndex}function Vy(i,s,o,l){const d=i.data;if(null===d[o+1]){const f=d[Yr()],y=Pg(i,o);ve(f,l)&&null===s&&!y&&(s=!1),s=function(i,s,o,l){const d=function(i){const s=an.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(o=r(o=u(null,i,s,o,l),s.attrs,l),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(o=u(d,i,s,o,l),null===f){let x=function(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==ru(l))return i[ba(l)]}(i,s,l);void 0!==x&&Array.isArray(x)&&(x=u(null,i,s,x[1],l),x=r(x,s.attrs,l),function(i,s,o,l){i[ba(o?s.classBindings:s.styleBindings)]=l}(i,s,l,x))}else f=function(i,s,o){let l;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)l=r(l,i[f].hostAttrs,o);return r(l,s.attrs,o)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),o}(d,f,s,l),function(i,s,o,l,d,f){let y=f?s.classBindings:s.styleBindings,w=ba(y),x=ru(y);i[l]=o;let z,k=!1;if(Array.isArray(o)){const ae=o;z=ae[1],(null===z||Se(ae,z)>0)&&(k=!0)}else z=o;if(d)if(0!==x){const pe=ba(i[w+1]);i[l+1]=kh(pe,w),0!==pe&&(i[pe+1]=fp(i[pe+1],l)),i[w+1]=function(i,s){return 131071&i|s<<17}(i[w+1],l)}else i[l+1]=kh(w,0),0!==w&&(i[w+1]=fp(i[w+1],l)),w=l;else i[l+1]=kh(x,0),0===w?w=l:i[x+1]=fp(i[x+1],l),x=l;k&&(i[l+1]=hp(i[l+1])),xo(i,z,l,!0),xo(i,z,l,!1),function(i,s,o,l,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Se(f,s)>=0&&(o[l+1]=xs(o[l+1]))}(s,z,i,l,f),y=kh(w,x),f?s.classBindings=y:s.styleBindings=y}(d,f,s,o,y,l)}}function u(i,s,o,l,d){let f=null;const y=o.directiveEnd;let w=o.directiveStylingLast;for(-1===w?w=o.directiveStart:w++;w<y&&(f=s[w],l=r(l,f.hostAttrs,d),f!==i);)w++;return null!==i&&(o.directiveStylingLast=w),l}function r(i,s,o){const l=o?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?d=y:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),J(i,y,!!o||s[++f]))}return void 0===i?null:i}function E(i,s,o,l,d,f,y,w){if(!(3&s.type))return;const x=i.data,k=x[w+1];B(function(i){return 1==(1&i)}(k)?A(x,s,o,d,ru(k),y):void 0)||(B(f)||function(i){return 2==(2&i)}(k)&&(f=A(x,null,o,d,w,y)),function(i,s,o,l,d){const f=V(i);if(s)d?f?i.addClass(o,l):o.classList.add(l):f?i.removeClass(o,l):o.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:ra.DashCase;if(null==d)f?i.removeStyle(o,l,y):o.style.removeProperty(l);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),y|=ra.Important),f?i.setStyle(o,l,d,y):o.style.setProperty(l,d,w?"important":"")}}}(l,y,Zt(Yr(),o),d,f))}function A(i,s,o,l,d,f){const y=null===s;let w;for(;d>0;){const x=i[d],k=Array.isArray(x),z=k?x[1]:x,ae=null===z;let pe=o[d+1];pe===Kn&&(pe=ae?Ee:void 0);let xe=ae?me(pe,l):z===l?pe:void 0;if(k&&!B(xe)&&(xe=me(x,l)),B(xe)&&(w=xe,y))return w;const Ve=i[d+1];d=y?ba(Ve):ru(Ve)}if(null!==s){let x=f?s.residualClasses:s.residualStyles;null!=x&&(w=me(x,l))}return w}function B(i){return void 0!==i}function ve(i,s){return 0!=(i.flags&(s?16:32))}function Ie(i,s=""){const o=Et(),l=Qn(),d=i+20,f=l.firstCreatePass?Gc(l,d,1,s,null):l.data[d],y=o[d]=function(i,s){return V(i)?i.createText(s):i.createTextNode(s)}(o[11],s);rc(l,o,y,f),is(f,!1)}function Fe(i){return ot("",i,""),Fe}function ot(i,s,o){const l=Et(),d=ed(l,i,s,o);return d!==Kn&&su(l,Yr(),d),ot}function vt(i,s,o,l,d){const f=Et(),y=gc(f,i,s,o,l,d);return y!==Kn&&su(f,Yr(),y),vt}function oa(i,s,o){!function(i,s,o,l){const d=Qn(),f=$i(2);d.firstUpdatePass&&Vy(d,null,f,l);const y=Et();if(o!==Kn&&So(y,f,o)){const w=d.data[Yr()];if(ve(w,l)&&!Pg(d,f)){let x=l?w.classesWithoutHost:w.stylesWithoutHost;null!==x&&(o=X(x,o||"")),Cf(d,w,y,o,l)}else!function(i,s,o,l,d,f,y,w){d===Kn&&(d=Ee);let x=0,k=0,z=0<d.length?d[0]:null,ae=0<f.length?f[0]:null;for(;null!==z||null!==ae;){const pe=x<d.length?d[x+1]:void 0,xe=k<f.length?f[k+1]:void 0;let st,Ve=null;z===ae?(x+=2,k+=2,pe!==xe&&(Ve=ae,st=xe)):null===ae||null!==z&&z<ae?(x+=2,Ve=z):(k+=2,Ve=ae,st=xe),null!==Ve&&E(i,s,o,l,Ve,st,y,w),z=x<d.length?d[x]:null,ae=k<f.length?f[k]:null}}(d,w,y,y[11],y[f+1],y[f+1]=function(i,s,o){if(null==o||""===o)return Ee;const l=[],d=ks(o);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(l,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(l,f,d[f]);else"string"==typeof d&&s(l,d);return l}(i,s,o),l,f)}}(J,ou,ed(Et(),i,s,o),!0)}function Cv(i,s,o){const l=Et();return So(l,Es(),s)&&Wo(Qn(),$r(),l,i,s,l[11],o,!0),Cv}const ih=void 0;var rC=["en",[["a","p"],["AM","PM"],ih],[["AM","PM"],ih,ih],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ih,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ih,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ih,"{1} 'at' {0}",ih],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let Af={};function Iv(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=u0(s);if(o)return o;const l=s.split("-")[0];if(o=u0(l),o)return o;if("en"===l)return rC;throw new Error(`Missing locale data for the locale "${i}".`)}function a0(i){return Iv(i)[Hn.PluralCase]}function u0(i){return i in Af||(Af[i]=In.ng&&In.ng.common&&In.ng.common.locales&&In.ng.common.locales[i]),Af[i]}var Hn=(()=>((Hn=Hn||{})[Hn.LocaleId=0]="LocaleId",Hn[Hn.DayPeriodsFormat=1]="DayPeriodsFormat",Hn[Hn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Hn[Hn.DaysFormat=3]="DaysFormat",Hn[Hn.DaysStandalone=4]="DaysStandalone",Hn[Hn.MonthsFormat=5]="MonthsFormat",Hn[Hn.MonthsStandalone=6]="MonthsStandalone",Hn[Hn.Eras=7]="Eras",Hn[Hn.FirstDayOfWeek=8]="FirstDayOfWeek",Hn[Hn.WeekendRange=9]="WeekendRange",Hn[Hn.DateFormat=10]="DateFormat",Hn[Hn.TimeFormat=11]="TimeFormat",Hn[Hn.DateTimeFormat=12]="DateTimeFormat",Hn[Hn.NumberSymbols=13]="NumberSymbols",Hn[Hn.NumberFormats=14]="NumberFormats",Hn[Hn.CurrencyCode=15]="CurrencyCode",Hn[Hn.CurrencySymbol=16]="CurrencySymbol",Hn[Hn.CurrencyName=17]="CurrencyName",Hn[Hn.Currencies=18]="Currencies",Hn[Hn.Directionality=19]="Directionality",Hn[Hn.PluralCase=20]="PluralCase",Hn[Hn.ExtraData=21]="ExtraData",Hn))();const jy="en-US";let l0=jy;function Dv(i){Xt(i,"Expected localeId to be defined"),"string"==typeof i&&(l0=i.toLowerCase().replace(/_/g,"-"))}function Av(i,s,o,l,d){if(i=Q(i),Array.isArray(i))for(let f=0;f<i.length;f++)Av(i[f],s,o,l,d);else{const f=Qn(),y=Et();let w=qc(i)?i:Q(i.provide),x=sf(i);const k=kr(),z=1048575&k.providerIndexes,ae=k.directiveStart,pe=k.providerIndexes>>20;if(qc(i)||!i.multi){const xe=new bs(x,d,Yd),Ve=Ov(w,s,d?z:z+pe,ae);-1===Ve?(Cs(Gn(k,y),f,w),xv(f,i,s.length),s.push(w),k.directiveStart++,k.directiveEnd++,d&&(k.providerIndexes+=1048576),o.push(xe),y.push(xe)):(o[Ve]=xe,y[Ve]=xe)}else{const xe=Ov(w,s,z+pe,ae),Ve=Ov(w,s,z,z+pe),st=xe>=0&&o[xe],ze=Ve>=0&&o[Ve];if(d&&!ze||!d&&!st){Cs(Gn(k,y),f,w);const xt=function(i,s,o,l,d){const f=new bs(i,o,Yd);return f.multi=[],f.index=s,f.componentProviders=0,N0(f,d,l&&!o),f}(d?eI:XC,o.length,d,l,x);!d&&ze&&(o[Ve].providerFactory=xt),xv(f,i,s.length,0),s.push(w),k.directiveStart++,k.directiveEnd++,d&&(k.providerIndexes+=1048576),o.push(xt),y.push(xt)}else xv(f,i,xe>-1?xe:Ve,N0(o[d?Ve:xe],x,!d&&l));!d&&l&&ze&&o[Ve].componentProviders++}}}function xv(i,s,o,l){const d=qc(s);if(d||function(i){return!!i.useClass}(s)){const y=(s.useClass||s).prototype.ngOnDestroy;if(y){const w=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const x=w.indexOf(o);-1===x?w.push(o,[l,y]):w[x+1].push(l,y)}else w.push(o,y)}}}function N0(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Ov(i,s,o,l){for(let d=o;d<l;d++)if(s[d]===i)return d;return-1}function XC(i,s,o,l){return Mv(this.multi,[])}function eI(i,s,o,l){const d=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Qa(o,o[1],this.providerFactory.index,l);f=w.slice(0,y),Mv(d,f);for(let x=y;x<w.length;x++)f.push(w[x])}else f=[],Mv(d,f);return f}function Mv(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function P0(i,s=[]){return o=>{o.providersResolver=(l,d)=>function(i,s,o){const l=Qn();if(l.firstCreatePass){const d=gr(i);Av(o,l.data,l.blueprint,d,!0),Av(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class F0{}const k0="ngComponent";class rI{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${q(i)}. Did you add it to @NgModule.entryComponents?`);return s[k0]=i,s}(s)}}class sh{}function zy(...i){}function Of(i,s){return new Ll(On(i,s))}sh.NULL=new rI;const oI=function(){return Of(kr(),Et())};let Ll=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=oI,i})();function V0(i){return i instanceof Ll?i.nativeElement:i}class Ky{}let aI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>lI(),i})();const lI=function(){const i=Et(),o=pr(kr().index,i);return function(i){return i[11]}(Oi(o)?o:i)};let Nv=(()=>{class i{}return i.\u0275prov=sn({token:i,providedIn:"root",factory:()=>null}),i})();class U0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Pv=new U0("12.2.3");class B0{constructor(){}supports(s){return pf(s)}create(s){return new fI(s)}}const hI=(i,s)=>s;class fI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||hI}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,d=0,f=null;for(;o||l;){const y=!l||o&&o.currentIndex<H0(l,d,f)?o:l,w=H0(y,d,f),x=y.currentIndex;if(y===l)d--,l=l._nextRemoved;else if(o=o._next,null==y.previousIndex)d++;else{f||(f=[]);const k=w-d,z=x-d;if(k!=z){for(let pe=0;pe<k;pe++){const xe=pe<f.length?f[pe]:f[pe]=0,Ve=xe+pe;z<=Ve&&Ve<k&&(f[pe]=xe+1)}f[y.previousIndex]=z-k}}w!==x&&s(y,w,x)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!pf(s))throw new Error(`Error trying to diff '${q(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,y,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)f=s[w],y=this._trackByFn(w,f),null!==o&&Object.is(o.trackById,y)?(l&&(o=this._verifyReinsertion(o,f,y,w)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,y,w),l=!0),o=o._next}else d=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Qc()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,w=>{y=this._trackByFn(d,w),null!==o&&Object.is(o.trackById,y)?(l&&(o=this._verifyReinsertion(o,w,y,d)),Object.is(o.item,w)||this._addIdentityChange(o,w)):(o=this._mismatch(o,w,y,d),l=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,f,d)):s=this._addAfter(new pI(o,l),f,d),s}_verifyReinsertion(s,o,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const d=null===o?this._itHead:o._next;return s._next=d,s._prev=o,null===d?this._itTail=s:d._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new j0),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new j0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class pI{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gI{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class j0{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new gI,this.map.set(o,l)),l.add(s)}get(s,o){const d=this.map.get(s);return d?d.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function H0(i,s,o){const l=i.previousIndex;if(null===l)return l;let d=0;return o&&l<o.length&&(d=o[l]),l+s+d}class $0{constructor(){}supports(s){return s instanceof Map||og(s)}create(){return new mI}}class mI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||og(s)))throw new Error(`Error trying to diff '${q(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(d,l);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,o);const f=d._prev,y=d._next;return f&&(f._next=y),y&&(y._prev=f),d._next=null,d._prev=null,d}const l=new yI(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class yI{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function W0(){return new qy([new B0])}let qy=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(null!=l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||W0()),deps:[[i,new Ss,new ea]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=sn({token:i,providedIn:"root",factory:W0}),i})();function G0(){return new Zy([new $0])}let Zy=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||G0()),deps:[[i,new Ss,new ea]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(l)return l;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=sn({token:i,providedIn:"root",factory:G0}),i})();function Yy(i,s,o,l,d=!1){for(;null!==o;){const f=s[o.index];if(null!==f&&l.push(De(f)),gi(f))for(let w=10;w<f.length;w++){const x=f[w],k=x[1].firstChild;null!==k&&Yy(x[1],x,k,l)}const y=o.type;if(8&y)Yy(i,s,o.child,l);else if(32&y){const w=Iu(o,s);let x;for(;x=w();)l.push(x)}else if(16&y){const w=sp(s,o);if(Array.isArray(w))l.push(...w);else{const x=Uc(s[16]);Yy(x[1],x,w,l,!0)}}o=d?o.projectionNext:o.next}return l}class Ug{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return Yy(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(gi(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(Bc(s,l),ya(o,l))}this._attachedToViewContainer=!1}Oh(this._lView[1],this._lView)}onDestroy(s){Kh(this._lView[1],this._lView,null,s)}markForCheck(){Vd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Xh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){Fs(!0);try{Xh(i,s,o)}finally{Fs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Ba(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class vI extends Ug{constructor(s){super(s),this._view=s}detectChanges(){ef(this._view)}checkNoChanges(){!function(i){Fs(!0);try{ef(i)}finally{Fs(!1)}}(this._view)}get context(){return null}}const bI=function(i){return function(i,s,o){if(mi(i)&&!o){const l=pr(i.index,s);return new Ug(l,l)}return 47&i.type?new Ug(s[16],s):null}(kr(),Et(),16==(16&i))};let wI=(()=>{class i{}return i.__NG_ELEMENT_ID__=bI,i})();const DI=[new $0],SI=new qy([new B0]),AI=new Zy(DI),OI=function(){return Qy(kr(),Et())};let Bg=(()=>{class i{}return i.__NG_ELEMENT_ID__=OI,i})();const MI=Bg,RI=class extends MI{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s){const o=this._declarationTContainer.tViews,l=oc(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(o)),ac(o,l,s),new Ug(l)}};function Qy(i,s){return 4&i.type?new RI(s,i,Of(i,s)):null}class oh{}class z0{}const FI=function(){return Z0(kr(),Et())};let Jy=(()=>{class i{}return i.__NG_ELEMENT_ID__=FI,i})();const kI=Jy,K0=class extends kI{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return Of(this._hostTNode,this._hostLView)}get injector(){return new Ja(this._hostTNode,this._hostLView)}get parentInjector(){const s=Wi(this._hostTNode,this._hostLView);if(N(s)){const o=U(s,this._hostLView),l=O(s);return new Ja(o[1].data[l+8],o)}return new Ja(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=q0(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){const d=s.createEmbeddedView(o||{});return this.insert(d,l),d}createComponent(s,o,l,d,f){const y=l||this.parentInjector;if(!f&&null==s.ngModule&&y){const x=y.get(oh,null);x&&(f=x)}const w=s.create(y,d,void 0,f);return this.insert(w.hostView,o),w}insert(s,o){const l=s._lView,d=l[1];if(gi(l[3])){const z=this.indexOf(s);if(-1!==z)this.detach(z);else{const ae=l[3],pe=new K0(ae,ae[6],ae[3]);pe.detach(pe.indexOf(s))}}const f=this._adjustIndex(o),y=this._lContainer;!function(i,s,o,l){const d=10+l,f=o.length;l>0&&(o[d-1][4]=s),l<f-10?(s[4]=o[d],gu(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const y=s[17];null!==y&&o!==y&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(y,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(d,l,y,f);const w=op(f,y),x=l[11],k=Du(x,y[7]);return null!==k&&function(i,s,o,l,d,f){l[0]=d,l[6]=s,Ba(i,l,o,1,d,f)}(d,y[6],x,l,k,w),s.attachToViewContainerRef(),gu(Fv(y),f,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=q0(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=Bc(this._lContainer,o);l&&(ya(Fv(this._lContainer),o),Oh(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=Bc(this._lContainer,o);return l&&null!=ya(Fv(this._lContainer),o)?new Ug(l):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function q0(i){return i[8]}function Fv(i){return i[8]||(i[8]=[])}function Z0(i,s){let o;const l=s[i.index];if(gi(l))o=l;else{let d;if(8&i.type)d=De(l);else{const f=s[11];d=f.createComment("");const y=On(i,s);tc(f,Du(f,y),d,function(i,s){return V(i)?i.nextSibling(s):s.nextSibling}(f,y),!1)}s[i.index]=o=Wm(l,s,d,i),Jh(s,o)}return new K0(o,i,s)}const Pf={};class gb extends sh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Yt(s);return new yb(o,this.ngModule)}}function mb(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const ND=new lr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>To});class yb extends F0{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(Hc).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return mb(this.componentDef.inputs)}get outputs(){return mb(this.componentDef.outputs)}create(s,o,l,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(o,l,d)=>{const f=i.get(o,Pf,d);return f!==Pf||l===Pf?f:s.get(o,l,d)}}}(s,d.injector):s,y=f.get(Ky,H),w=f.get(Nv,null),x=y.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",z=l?function(i,s,o){if(V(i))return i.selectRootElement(s,o===ft.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(x,l,this.componentDef.encapsulation):xh(y.createRenderer(null,this.componentDef),k,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(k)),ae=this.componentDef.onPush?576:528,pe=function(i,s){return{components:[],scheduler:i||To,clean:Np,playerHandler:s||null,flags:0}}(),xe=Fd(0,null,null,1,0,null,null,null,null,null),Ve=oc(null,xe,pe,ae,null,null,y,x,w,f);let st,ze;yo(Ve);try{const xt=function(i,s,o,l,d,f){const y=o[1];o[20]=i;const x=Gc(y,20,2,"#host",null),k=x.mergedAttrs=s.hostAttrs;null!==k&&(Ju(x,k,!0),null!==i&&(Ur(d,i,k),null!==x.classes&&ic(d,i,x.classes),null!==x.styles&&Ph(d,i,x.styles)));const z=l.createRenderer(i,s),ae=oc(o,Mm(s),null,s.onPush?64:16,o[20],x,l,z,f||null,null);return y.firstCreatePass&&(Cs(Gn(x,o),y,s.type),Um(y,x),Yh(x,o.length,1)),Jh(o,ae),o[20]=ae}(z,this.componentDef,Ve,y,x);if(z)if(l)Ur(x,z,["ng-version",Pv.full]);else{const{attrs:gt,classes:vn}=function(i){const s=[],o=[];let l=1,d=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++l]):8===d&&o.push(f);else{if(!ja(d))break;d=f}l++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);gt&&Ur(x,z,gt),vn&&vn.length>0&&ic(x,z,vn.join(" "))}if(ze=rr(xe,20),void 0!==o){const gt=ze.projection=[];for(let vn=0;vn<this.ngContentSelectors.length;vn++){const Yn=o[vn];gt.push(null!=Yn?Array.from(Yn):null)}}st=function(i,s,o,l,d){const f=o[1],y=function(i,s,o){const l=kr();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Bm(i,l,s,zc(i,s,1,null),o));const d=Qa(s,i,l.directiveStart,l);As(d,s);const f=On(l,s);return f&&As(f,s),d}(f,o,s);if(l.components.push(y),i[8]=y,d&&d.forEach(x=>x(y,s)),s.contentQueries){const x=kr();s.contentQueries(1,y,x.directiveStart)}const w=kr();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Ks(w.index),Vm(o[1],w,0,w.directiveStart,w.directiveEnd,s),Zh(s,y)),y}(xt,this.componentDef,Ve,pe,[$d]),ac(xe,Ve,null)}finally{Ls()}return new LD(this.componentType,st,Of(ze,Ve),Ve,ze)}}class LD extends class{}{constructor(s,o,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new vI(d),this.componentType=s}get injector(){return new Ja(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Ff=new Map;class UD extends oh{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new gb(this);const l=$n(s),d=s[Tt]||null;d&&Dv(d),this._bootstrapComponents=Us(l.bootstrap),this._r3Injector=Ym(s,o,[{provide:oh,useValue:this},{provide:sh,useValue:this.componentFactoryResolver}],q(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Wr.THROW_IF_NOT_FOUND,l=zt.Default){return s===Wr||s===oh||s===xl?this:this._r3Injector.get(s,o,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class qv extends z0{constructor(s){super(),this.moduleType=s,null!==$n(s)&&function(i){const s=new Set;!function o(l){const d=$n(l,!0),f=d.id;null!==f&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${q(s)} vs ${q(s.name)}`)}(f,Ff.get(f),l),Ff.set(f,l));const y=Us(d.imports);for(const w of y)s.has(w)||(s.add(w),o(w))}(i)}(s)}create(s){return new UD(this.moduleType,s)}}function Zv(i){return s=>{setTimeout(i,void 0,s)}}const kl=class extends b.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){var d,f,y;let w=s,x=o||(()=>null),k=l;if(s&&"object"==typeof s){const ae=s;w=null===(d=ae.next)||void 0===d?void 0:d.bind(ae),x=null===(f=ae.error)||void 0===f?void 0:f.bind(ae),k=null===(y=ae.complete)||void 0===y?void 0:y.bind(ae)}this.__isAsync&&(x=Zv(x),w&&(w=Zv(w)),k&&(k=Zv(k)));const z=super.subscribe({next:w,error:x,complete:k});return s instanceof P.w&&s.add(z),z}};function iT(){return this._results[Qc()]()}class r_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Qc(),l=r_.prototype;l[o]||(l[o]=iT)}get changes(){return this._changes||(this._changes=new kl)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const d=Is(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],f=s[l];if(o&&(d=o(d),f=o(f)),f!==d)return!1}return!0}(l._results,d,o))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Yv{constructor(s){this.queryList=s,this.matches=null}clone(){return new Yv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,d=[];for(let f=0;f<l;f++){const y=o.getByIndex(f);d.push(this.queries[y.indexInDeclarationView].clone())}return new Qv(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Rb(s,o).matches&&this.queries[o].setDirty()}}class Db{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class Jv{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const d=null!==o?o.length:0,f=this.getByIndex(l).embeddedTView(s,d);f&&(f.indexInDeclarationView=l,null!==o?o.push(f):o=[f])}return null!==o?new Jv(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Xv{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new Xv(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(s,o,aT(o,f)),this.matchTNodeWithReadOption(s,o,cu(o,s,f,!1,!1))}else l===Bg?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,cu(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Ll||d===Jy||d===Bg&&4&o.type)this.addMatch(o.index,-2);else{const f=cu(o,s,d,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function aT(i,s){const o=i.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function lT(i,s,o,l){return-1===o?function(i,s){return 11&i.type?Of(i,s):4&i.type?Qy(i,s):null}(s,i):-2===o?function(i,s,o){return o===Ll?Of(s,i):o===Bg?Qy(s,i):o===Jy?Z0(s,i):void 0}(i,s,l):Qa(i,i[1],o,s)}function Tb(i,s,o,l){const d=s[19].queries[l];if(null===d.matches){const f=i.data,y=o.matches,w=[];for(let x=0;x<y.length;x+=2){const k=y[x];w.push(k<0?null:lT(s,f[k],y[x+1],o.metadata.read))}d.matches=w}return d.matches}function eE(i,s,o,l){const d=i.queries.getByIndex(o),f=d.matches;if(null!==f){const y=Tb(i,s,d,o);for(let w=0;w<f.length;w+=2){const x=f[w];if(x>0)l.push(y[w/2]);else{const k=f[w+1],z=s[-x];for(let ae=10;ae<z.length;ae++){const pe=z[ae];pe[17]===pe[3]&&eE(pe[1],pe,k,l)}if(null!==z[9]){const ae=z[9];for(let pe=0;pe<ae.length;pe++){const xe=ae[pe];eE(xe[1],xe,k,l)}}}}}return l}function Sb(i){const s=Et(),o=Qn(),l=xa();Zo(l+1);const d=Rb(o,l);if(i.dirty&&dr(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?eE(o,s,l,[]):Tb(o,s,d,l);i.reset(f,V0),i.notifyOnChanges()}return!0}return!1}function Ab(i,s,o,l){const d=Qn();if(d.firstCreatePass){const f=kr();(function(i,s,o){null===i.queries&&(i.queries=new Jv),i.queries.track(new Xv(s,o))})(d,new Db(s,o,l),f.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(d,i),2==(2&o)&&(d.staticContentQueries=!0)}!function(i,s,o){const l=new r_(4==(4&o));Kh(i,s,l,l.destroy),null===s[19]&&(s[19]=new Qv),s[19].queries.push(new Yv(l))}(d,Et(),o)}function xb(){return i=Et(),s=xa(),i[19].queries[s].queryList;var i,s}function Rb(i,s){return i.queries.getByIndex(s)}const oE=new lr("Application Initializer");let kf=(()=>{class i{constructor(o){this.appInits=o,this.resolve=zy,this.reject=zy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Ig(f))o.push(f);else if(Dg(f)){const y=new Promise((w,x)=>{f.subscribe({complete:w,error:x})});o.push(y)}}Promise.all(o).then(()=>{l()}).catch(d=>{this.reject(d)}),0===o.length&&l(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(Br(oE,8))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const Yb=new lr("AppId"),jT={provide:Yb,useFactory:function(){return`${aE()}${aE()}${aE()}`},deps:[]};function aE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Qb=new lr("Platform Initializer"),Jb=new lr("Platform ID"),Xb=new lr("appBootstrapListener");let ew=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const o_=new lr("LocaleId"),tw=new lr("DefaultCurrencyCode");class $T{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const uE=function(i){return new qv(i)},WT=uE,GT=function(i){return Promise.resolve(uE(i))},nw=function(i){const s=uE(i),l=Us($n(i).declarations).reduce((d,f)=>{const y=Yt(f);return y&&d.push(new yb(y)),d},[]);return new $T(s,l)},zT=nw,KT=function(i){return Promise.resolve(nw(i))};let Jg=(()=>{class i{constructor(){this.compileModuleSync=WT,this.compileModuleAsync=GT,this.compileModuleAndAllComponentsSync=zT,this.compileModuleAndAllComponentsAsync=KT}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const YT=(()=>Promise.resolve(0))();function lE(i){"undefined"==typeof Zone?YT.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class uu{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kl(!1),this.onMicrotaskEmpty=new kl(!1),this.onStable=new kl(!1),this.onError=new kl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&o,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=In.requestAnimationFrame,s=In.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(In,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,dE(i),i.isCheckStableRunning=!0,cE(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),dE(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,d,f,y,w)=>{try{return rw(i),o.invokeTask(d,f,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),iw(i)}},onInvoke:(o,l,d,f,y,w,x)=>{try{return rw(i),o.invoke(d,f,y,w,x)}finally{i.shouldCoalesceRunChangeDetection&&s(),iw(i)}},onHasTask:(o,l,d,f)=>{o.hasTask(d,f),l===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,dE(i),cE(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,l,d,f)=>(o.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!uu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(uu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,d){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+d,s,JT,zy,zy);try{return f.runTask(y,o,l)}finally{f.cancelTask(y)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const JT={};function cE(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function dE(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function rw(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function iw(i){i._nesting--,cE(i)}class tS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kl,this.onMicrotaskEmpty=new kl,this.onStable=new kl,this.onError=new kl}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,d){return s.apply(o,l)}}let sw=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{uu.assertNotInAngularZone(),lE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lE(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:d})}whenStable(o,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,d){return[]}}return i.\u0275fac=function(o){return new(o||i)(Br(uu))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})(),ow=(()=>{class i{constructor(){this._applications=new Map,hE.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return hE.findTestabilityInTree(this,o,l)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();class nS{addToWindow(s){}findTestabilityInTree(s,o,l){return null}}function rS(i){hE=i}let hE=new nS,aw=!0,uw=!1;function fE(){return uw=!0,aw}function iS(){if(uw)throw new Error("Cannot enable prod mode after platform setup.");aw=!1}let rl;const lw=new lr("AllowMultipleToken");class dS{constructor(s,o){this.name=s,this.token=o}}function cw(i,s,o=[]){const l=`Platform: ${s}`,d=new lr(l);return(f=[])=>{let y=dw();if(!y||y.injector.get(lw,!1))if(i)i(o.concat(f).concat({provide:d,useValue:!0}));else{const w=o.concat(f).concat({provide:d,useValue:!0},{provide:dc,useValue:"platform"});!function(i){if(rl&&!rl.destroyed&&!rl.injector.get(lw,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");rl=i.get(hw);const s=i.get(Qb,null);s&&s.forEach(o=>o())}(Wr.create({providers:w,name:l}))}return function(i){const s=dw();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function dw(){return rl&&!rl.destroyed?rl:null}let hw=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const w=function(i,s){let o;return o="noop"===i?new tS:("zone.js"===i?void 0:i)||new uu({enableLongStackTrace:fE(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),x=[{provide:uu,useValue:w}];return w.run(()=>{const k=Wr.create({providers:x,parent:this.injector,name:o.moduleType.name}),z=o.create(k),ae=z.injector.get(S,null);if(!ae)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const pe=w.onError.subscribe({next:xe=>{ae.handleError(xe)}});z.onDestroy(()=>{pE(this._modules,z),pe.unsubscribe()})}),function(i,s,o){try{const l=o();return Ig(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(ae,w,()=>{const pe=z.injector.get(kf);return pe.runInitializers(),pe.donePromise.then(()=>(Dv(z.injector.get(o_,jy)||jy),this._moduleDoBootstrap(z),z))})})}bootstrapModule(o,l=[]){const d=fw({},l);return function(i,s,o){const l=new qv(o);return Promise.resolve(l)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(o){const l=o.injector.get(Xg);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${q(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(Br(Wr))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function fw(i,s){return Array.isArray(s)?s.reduce(fw,i):Object.assign(Object.assign({},i),s)}let Xg=(()=>{class i{constructor(o,l,d,f,y){this._zone=o,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new se.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),x=new se.y(k=>{let z;this._zone.runOutsideAngular(()=>{z=this._zone.onStable.subscribe(()=>{uu.assertNotInAngularZone(),lE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const ae=this._zone.onUnstable.subscribe(()=>{uu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{z.unsubscribe(),ae.unsubscribe()}});this.isStable=(0,oe.T)(w,x.pipe((0,ge.B)()))}bootstrap(o,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=o instanceof F0?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(oh),w=d.create(Wr.NULL,[],l||d.selector,f),x=w.location.nativeElement,k=w.injector.get(sw,null),z=k&&w.injector.get(ow);return k&&z&&z.registerApplication(x,k),w.onDestroy(()=>{this.detachView(w.hostView),pE(this.components,w),z&&z.unregisterApplication(x)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;pE(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Xb,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(Br(uu),Br(Wr),Br(S),Br(sh),Br(kf))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function pE(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class yS{}class vS{}const ES={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let bS=(()=>{class i{constructor(o,l){this._compiler=o,this._config=l||ES}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[l,d]=o.split("#");return void 0===d&&(d="default"),M(8255)(l).then(f=>f[d]).then(f=>yw(f,l,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(o){let[l,d]=o.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),M(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(y=>y[d+f]).then(y=>yw(y,l,d))}}return i.\u0275fac=function(o){return new(o||i)(Br(Jg),Br(vS,8))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function yw(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const xS=function(i){return null},MS=cw(null,"core",[{provide:Jb,useValue:"unknown"},{provide:hw,deps:[Wr]},{provide:ow,deps:[]},{provide:ew,deps:[]}]),LS=[{provide:Xg,useClass:Xg,deps:[uu,Wr,S,sh,kf]},{provide:ND,deps:[uu],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:kf,useClass:kf,deps:[[new ea,oE]]},{provide:Jg,useClass:Jg,deps:[]},jT,{provide:qy,useFactory:function(){return SI},deps:[]},{provide:Zy,useFactory:function(){return AI},deps:[]},{provide:o_,useFactory:function(i){return Dv(i=i||"undefined"!=typeof $localize&&$localize.locale||jy),i},deps:[[new Or(o_),new ea,new Ss]]},{provide:tw,useValue:"USD"}];let VS=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(Br(Xg))},i.\u0275mod=rt({type:i}),i.\u0275inj=Bn({providers:LS}),i})()},1325:(pt,Me,M)=>{"use strict";M.d(Me,{zQ:()=>Nt,ww:()=>St,rT:()=>Ge,f7:()=>$e,L6:()=>rn,_Q:()=>_t,lh:()=>jt,Qv:()=>mt});var b=M(7716),P=M(9765),se=M(5917),oe=M(9897),ge=M(9412),re=M(6682),he=M(9746),q=M(3190),X=M(8002),Y=M(7349),ce=M(8049),Q=M(9499),fe=M(9673),_e=M(5435),Pe=M(9126),qe=M(9958),Je=M(8583);const mt=new b.OlP("angularfire2.auth.use-emulator"),rn=new b.OlP("angularfire2.auth.settings"),_t=new b.OlP("angularfire2.auth.tenant-id"),Ge=new b.OlP("angularfire2.auth.langugage-code"),jt=new b.OlP("angularfire2.auth.use-device-language"),$e=new b.OlP("angularfire.auth.persistence");let Nt=(()=>{class Ae{constructor(Re,Ye,Ze,Ne,bt,Gt,Rn,Ht,Xt,Bt,tr){const Jn=new P.xQ,En=(0,se.of)(void 0).pipe((0,he.QV)(bt.outsideAngular),(0,q.w)(()=>Ne.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,6300)))),(0,X.U)(()=>(0,qe.on)(Re,Ne,Ye)),(0,X.U)(sn=>Ne.runOutsideAngular(()=>{const hr=Gt,Bn=Rn;return(0,Pe.cc)(`${sn.name}.auth`,"AngularFireAuth",sn.name,()=>{const qn=Ne.runOutsideAngular(()=>sn.auth());if(hr&&qn.useEmulator(...hr),Ht&&(qn.tenantId=Ht),qn.languageCode=Xt,Bt&&qn.useDeviceLanguage(),Bn)for(const[dn,$t]of Object.entries(Bn))qn.settings[dn]=$t;return tr&&qn.setPersistence(tr),qn},[hr,Ht,Xt,Bt,Bn,tr])})),(0,Y.d)({bufferSize:1,refCount:!1}));if((0,Je.PM)(Ze))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,se.of)(null);else{En.pipe((0,ce.P)()).subscribe();const hr=En.pipe((0,q.w)(dn=>dn.getRedirectResult().then($t=>$t,()=>null)),Pe.iC,(0,Y.d)({bufferSize:1,refCount:!1})),Bn=En.pipe((0,q.w)(dn=>new oe.y($t=>({unsubscribe:Ne.runOutsideAngular(()=>dn.onAuthStateChanged(Un=>$t.next(Un),Un=>$t.error(Un),()=>$t.complete()))})))),qn=En.pipe((0,q.w)(dn=>new oe.y($t=>({unsubscribe:Ne.runOutsideAngular(()=>dn.onIdTokenChanged(Un=>$t.next(Un),Un=>$t.error(Un),()=>$t.complete()))}))));this.authState=hr.pipe((0,Q.c)(Bn),(0,fe.R)(bt.outsideAngular),(0,he.QV)(bt.insideAngular)),this.user=hr.pipe((0,Q.c)(qn),(0,fe.R)(bt.outsideAngular),(0,he.QV)(bt.insideAngular)),this.idToken=this.user.pipe((0,q.w)(dn=>dn?(0,ge.D)(dn.getIdToken()):(0,se.of)(null))),this.idTokenResult=this.user.pipe((0,q.w)(dn=>dn?(0,ge.D)(dn.getIdTokenResult()):(0,se.of)(null))),this.credential=(0,re.T)(hr,Jn,this.authState.pipe((0,_e.h)(dn=>!dn))).pipe((0,X.U)(dn=>(null==dn?void 0:dn.user)?dn:null),(0,fe.R)(bt.outsideAngular),(0,he.QV)(bt.insideAngular))}return(0,qe.pX)(this,En,Ne,{spy:{apply:(sn,hr,Bn)=>{(sn.startsWith("signIn")||sn.startsWith("createUser"))&&Bn.then(qn=>Jn.next(qn))}}})}}return Ae.\u0275fac=function(Re){return new(Re||Ae)(b.LFG(qe.Dh),b.LFG(qe.xv,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(Pe.HU),b.LFG(mt,8),b.LFG(rn,8),b.LFG(_t,8),b.LFG(Ge,8),b.LFG(jt,8),b.LFG($e,8))},Ae.\u0275prov=b.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"any"}),Ae})(),St=(()=>{class Ae{}return Ae.\u0275fac=function(Re){return new(Re||Ae)},Ae.\u0275mod=b.oAB({type:Ae}),Ae.\u0275inj=b.cJS({providers:[Nt]}),Ae})()},2825:(pt,Me,M)=>{"use strict";M.d(Me,{ST:()=>By,yb:()=>bv});var b=M(7716),P=M(3637),se=M(9897),oe=M(9412),ge=M(5917),re=M(9126),he=M(9761),q=M(9328),X=M(8002),Y=M(2145),ce=M(7519),Q=M(5435),fe=M(9746),_e=M(9958),Pe=M(8583),Je=(M(6300),M(4486)),ye=M(8239),mt=M(5452),rn=M(6034),_t=M(300),Ge=M(4685),jt=function(u,r){return(jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])})(u,r)};function Nt(u){var r="function"==typeof Symbol&&Symbol.iterator,a=r&&u[r],c=0;if(a)return a.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ae,St="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},He=He||{},Re=St||self;function Ye(){}function Ze(u){var r=typeof u;return"array"==(r="object"!=r?r:u?Array.isArray(u)?"array":r:"null")||"object"==r&&"number"==typeof u.length}function Ne(u){var r=typeof u;return"object"==r&&null!=u||"function"==r}var Gt="closure_uid_"+(1e9*Math.random()>>>0),Rn=0;function Ht(u,r,a){return u.call.apply(u.bind,arguments)}function Xt(u,r,a){if(!u)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,c),u.apply(r,h)}}return function(){return u.apply(r,arguments)}}function Bt(u,r,a){return(Bt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ht:Xt).apply(null,arguments)}function tr(u,r){var a=Array.prototype.slice.call(arguments,1);return function(){var c=a.slice();return c.push.apply(c,arguments),u.apply(this,c)}}function Jn(u,r){function a(){}a.prototype=r.prototype,u.Z=r.prototype,u.prototype=new a,u.prototype.constructor=u,u.Vb=function(c,h,E){for(var A=Array(arguments.length-2),B=2;B<arguments.length;B++)A[B-2]=arguments[B];return r.prototype[h].apply(c,A)}}function En(){this.s=this.s,this.o=this.o}var hr={};En.prototype.s=!1,En.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var u=function(u){return Object.prototype.hasOwnProperty.call(u,Gt)&&u[Gt]||(u[Gt]=++Rn)}(this);delete hr[u]}},En.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Bn=Array.prototype.indexOf?function(u,r){return Array.prototype.indexOf.call(u,r,void 0)}:function(u,r){if("string"==typeof u)return"string"!=typeof r||1!=r.length?-1:u.indexOf(r,0);for(var a=0;a<u.length;a++)if(a in u&&u[a]===r)return a;return-1},qn=Array.prototype.forEach?function(u,r,a){Array.prototype.forEach.call(u,r,a)}:function(u,r,a){for(var c=u.length,h="string"==typeof u?u.split(""):u,E=0;E<c;E++)E in h&&r.call(a,h[E],E,u)};function $t(u){return Array.prototype.concat.apply([],arguments)}function Un(u){var r=u.length;if(0<r){for(var a=Array(r),c=0;c<r;c++)a[c]=u[c];return a}return[]}function vr(u){return/^[\s\xa0]*$/.test(u)}var yr,Ar=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]};function fr(u,r){return-1!=u.indexOf(r)}function Yi(u,r){return u<r?-1:u>r?1:0}e:{var zt=Re.navigator;if(zt){var gn=zt.userAgent;if(gn){yr=gn;break e}}yr=""}function Gr(u,r,a){for(var c in u)r.call(a,u[c],c,u)}function ur(u){var r={};for(var a in u)r[a]=u[a];return r}var Ke="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(u,r){for(var a,c,h=1;h<arguments.length;h++){for(a in c=arguments[h])u[a]=c[a];for(var E=0;E<Ke.length;E++)a=Ke[E],Object.prototype.hasOwnProperty.call(c,a)&&(u[a]=c[a])}}function Ce(u){return Ce[" "](u),u}Ce[" "]=Ye;var In,u,ht=fr(yr,"Opera"),Ot=fr(yr,"Trident")||fr(yr,"MSIE"),ft=fr(yr,"Edge"),Rt=ft||Ot,Sn=fr(yr,"Gecko")&&!(fr(yr.toLowerCase(),"webkit")&&!fr(yr,"Edge"))&&!(fr(yr,"Trident")||fr(yr,"MSIE"))&&!fr(yr,"Edge"),Ir=fr(yr.toLowerCase(),"webkit")&&!fr(yr,"Edge");function xr(){var u=Re.document;return u?u.documentMode:void 0}e:{var Dr="",Nn=(u=yr,Sn?/rv:([^\);]+)(\)|;)/.exec(u):ft?/Edge\/([\d\.]+)/.exec(u):Ot?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):Ir?/WebKit\/(\S+)/.exec(u):ht?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(Nn&&(Dr=Nn?Nn[1]:""),Ot){var Qt=xr();if(null!=Qt&&Qt>parseFloat(Dr)){In=String(Qt);break e}}In=Dr}var Ee={};function be(){return r=Ee,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var u=0,r=Ar(String(In)).split("."),a=Ar("9").split("."),c=Math.max(r.length,a.length),h=0;0==u&&h<c;h++){var E=r[h]||"",A=a[h]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],0==E[0].length&&0==A[0].length)break;u=Yi(0==E[1].length?0:parseInt(E[1],10),0==A[1].length?0:parseInt(A[1],10))||Yi(0==E[2].length,0==A[2].length)||Yi(E[2],A[2]),E=E[3],A=A[3]}while(0==u)}return 0<=u}();var r}var Ue=Re.document&&Ot&&(xr()||parseInt(In,10))||void 0,Tt=function(){if(!Re.addEventListener||!Object.defineProperty)return!1;var u=!1,r=Object.defineProperty({},"passive",{get:function(){u=!0}});try{Re.addEventListener("test",Ye,r),Re.removeEventListener("test",Ye,r)}catch(a){}return u}();function At(u,r){this.type=u,this.g=this.target=r,this.defaultPrevented=!1}function mn(u,r){if(At.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var a=this.type=u.type,c=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=r,r=u.relatedTarget){if(Sn){e:{try{Ce(r.nodeName);var h=!0;break e}catch(E){}h=!1}h||(r=null)}}else"mouseover"==a?r=u.fromElement:"mouseout"==a&&(r=u.toElement);this.relatedTarget=r,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:An[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&mn.Z.h.call(this)}}At.prototype.h=function(){this.defaultPrevented=!0},Jn(mn,At);var An={2:"touch",3:"pen",4:"mouse"};mn.prototype.h=function(){mn.Z.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var hn="closure_listenable_"+(1e6*Math.random()|0),Er=0;function Nr(u,r,a,c,h){this.listener=u,this.proxy=null,this.src=r,this.type=a,this.capture=!!c,this.ia=h,this.key=++Er,this.ca=this.fa=!1}function nt(u){u.ca=!0,u.listener=null,u.proxy=null,u.src=null,u.ia=null}function Qe(u){this.src=u,this.g={},this.h=0}function rt(u,r){var a=r.type;if(a in u.g){var E,c=u.g[a],h=Bn(c,r);(E=0<=h)&&Array.prototype.splice.call(c,h,1),E&&(nt(r),0==u.g[a].length&&(delete u.g[a],u.h--))}}function Ct(u,r,a,c){for(var h=0;h<u.length;++h){var E=u[h];if(!E.ca&&E.listener==r&&E.capture==!!a&&E.ia==c)return h}return-1}Qe.prototype.add=function(u,r,a,c,h){var E=u.toString();(u=this.g[E])||(u=this.g[E]=[],this.h++);var A=Ct(u,r,c,h);return-1<A?(r=u[A],a||(r.fa=!1)):((r=new Nr(r,this.src,E,!!c,h)).fa=a,u.push(r)),r};var wt="closure_lm_"+(1e6*Math.random()|0),Wt={};function xn(u,r,a,c,h){if(c&&c.once)return Dn(u,r,a,c,h);if(Array.isArray(r)){for(var E=0;E<r.length;E++)xn(u,r[E],a,c,h);return null}return a=zr(a),u&&u[hn]?u.N(r,a,Ne(c)?!!c.capture:!!c,h):Yt(u,r,a,!1,c,h)}function Yt(u,r,a,c,h,E){if(!r)throw Error("Invalid event type");var A=Ne(h)?!!h.capture:!!h,B=Pn(u);if(B||(u[wt]=B=new Qe(u)),(a=B.add(r,a,c,A,E)).proxy)return a;if(c=function(){var r=Vt;return function u(a){return r.call(u.src,u.listener,a)}}(),a.proxy=c,c.src=u,c.listener=a,u.addEventListener)Tt||(h=A),void 0===h&&(h=!1),u.addEventListener(r.toString(),c,h);else if(u.attachEvent)u.attachEvent(ui(r.toString()),c);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(c)}return a}function Dn(u,r,a,c,h){if(Array.isArray(r)){for(var E=0;E<r.length;E++)Dn(u,r[E],a,c,h);return null}return a=zr(a),u&&u[hn]?u.O(r,a,Ne(c)?!!c.capture:!!c,h):Yt(u,r,a,!0,c,h)}function $n(u,r,a,c,h){if(Array.isArray(r))for(var E=0;E<r.length;E++)$n(u,r[E],a,c,h);else c=Ne(c)?!!c.capture:!!c,a=zr(a),u&&u[hn]?(u=u.i,(r=String(r).toString())in u.g&&-1<(a=Ct(E=u.g[r],a,c,h))&&(nt(E[a]),Array.prototype.splice.call(E,a,1),0==E.length&&(delete u.g[r],u.h--))):u&&(u=Pn(u))&&(r=u.g[r.toString()],u=-1,r&&(u=Ct(r,a,c,h)),(a=-1<u?r[u]:null)&&wi(a))}function wi(u){if("number"!=typeof u&&u&&!u.ca){var r=u.src;if(r&&r[hn])rt(r.i,u);else{var a=u.type,c=u.proxy;r.removeEventListener?r.removeEventListener(a,c,u.capture):r.detachEvent?r.detachEvent(ui(a),c):r.addListener&&r.removeListener&&r.removeListener(c),(a=Pn(r))?(rt(a,u),0==a.h&&(a.src=null,r[wt]=null)):nt(u)}}}function ui(u){return u in Wt?Wt[u]:Wt[u]="on"+u}function Vt(u,r){if(u.ca)u=!0;else{r=new mn(r,this);var a=u.listener,c=u.ia||u.src;u.fa&&wi(u),u=a.call(c,r)}return u}function Pn(u){return(u=u[wt])instanceof Qe?u:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function zr(u){return"function"==typeof u?u:(u[yn]||(u[yn]=function(r){return u.handleEvent(r)}),u[yn])}function nr(){En.call(this),this.i=new Qe(this),this.P=this,this.I=null}function Fn(u,r){var a,c=u.I;if(c)for(a=[];c;c=c.I)a.push(c);if(u=u.P,c=r.type||r,"string"==typeof r)r=new At(r,u);else if(r instanceof At)r.target=r.target||u;else{var h=r;we(r=new At(c,u),h)}if(h=!0,a)for(var E=a.length-1;0<=E;E--){var A=r.g=a[E];h=Ci(A,c,!0,r)&&h}if(h=Ci(A=r.g=u,c,!0,r)&&h,h=Ci(A,c,!1,r)&&h,a)for(E=0;E<a.length;E++)h=Ci(A=r.g=a[E],c,!1,r)&&h}function Ci(u,r,a,c){if(!(r=u.i.g[String(r)]))return!0;r=r.concat();for(var h=!0,E=0;E<r.length;++E){var A=r[E];if(A&&!A.ca&&A.capture==a){var B=A.listener,Z=A.ia||A.src;A.fa&&rt(u.i,A),h=!1!==B.call(Z,c)&&h}}return h&&!c.defaultPrevented}Jn(nr,En),nr.prototype[hn]=!0,nr.prototype.removeEventListener=function(u,r,a,c){$n(this,u,r,a,c)},nr.prototype.M=function(){if(nr.Z.M.call(this),this.i){var r,u=this.i;for(r in u.g){for(var a=u.g[r],c=0;c<a.length;c++)nt(a[c]);delete u.g[r],u.h--}}this.I=null},nr.prototype.N=function(u,r,a,c){return this.i.add(String(u),r,!1,a,c)},nr.prototype.O=function(u,r,a,c){return this.i.add(String(u),r,!0,a,c)};var Tr=Re.JSON.stringify;function eo(){var u=Bi,r=null;return u.g&&(r=u.g,u.g=u.g.next,u.g||(u.h=null),r.next=null),r}var hs,Kr=function(){function u(){this.h=this.g=null}return u.prototype.add=function(r,a){var c=bn.get();c.set(r,a),this.h?this.h.next=c:this.g=c,this.h=c},u}(),bn=new(function(){function u(r,a){this.i=r,this.j=a,this.h=0,this.g=null}return u.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},u}())(function(){return new Qi},function(u){return u.reset()}),Qi=function(){function u(){this.next=this.g=this.h=null}return u.prototype.set=function(r,a){this.h=r,this.g=a,this.next=null},u.prototype.reset=function(){this.next=this.g=this.h=null},u}();function ei(u){Re.setTimeout(function(){throw u},0)}function Vi(u,r){hs||function(){var u=Re.Promise.resolve(void 0);hs=function(){u.then(Hr)}}(),Ui||(hs(),Ui=!0),Bi.add(u,r)}var Ui=!1,Bi=new Kr;function Hr(){for(var u;u=eo();){try{u.h.call(u.g)}catch(a){ei(a)}var r=bn;r.j(u),100>r.h&&(r.h++,u.next=r.g,r.g=u)}Ui=!1}function Wn(u,r){nr.call(this),this.h=u||1,this.g=r||Re,this.j=Bt(this.kb,this),this.l=Date.now()}function fs(u){u.da=!1,u.S&&(u.g.clearTimeout(u.S),u.S=null)}function ps(u,r,a){if("function"==typeof u)a&&(u=Bt(u,a));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=Bt(u.handleEvent,u)}return 2147483647<Number(r)?-1:Re.setTimeout(u,r||0)}function gs(u){u.g=ps(function(){u.g=null,u.i&&(u.i=!1,gs(u))},u.j);var r=u.h;u.h=null,u.m.apply(null,r)}Jn(Wn,nr),(Ae=Wn.prototype).da=!1,Ae.S=null,Ae.kb=function(){if(this.da){var u=Date.now()-this.l;0<u&&u<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-u):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Fn(this,"tick"),this.da&&(fs(this),this.start()))}},Ae.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ae.M=function(){Wn.Z.M.call(this),fs(this),delete this.g};var to=function(u){function r(a,c){var h=u.call(this)||this;return h.m=a,h.j=c,h.h=null,h.i=!1,h.g=null,h}return function(u,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=u}jt(u,r),u.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}(r,u),r.prototype.l=function(a){this.h=arguments,this.g?this.i=!0:gs(this)},r.prototype.M=function(){u.prototype.M.call(this),this.g&&(Re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(En);function li(u){En.call(this),this.h=u,this.g={}}Jn(li,En);var pi=[];function ci(u,r,a,c){Array.isArray(a)||(a&&(pi[0]=a.toString()),a=pi);for(var h=0;h<a.length;h++){var E=xn(r,a[h],c||u.handleEvent,!1,u.h||u);if(!E)break;u.g[E.key]=E}}function Pr(u){Gr(u.g,function(r,a){this.g.hasOwnProperty(a)&&wi(r)},u),u.g={}}function no(){this.g=!0}function jn(u,r,a,c){u.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(u,r){if(!u.g)return r;if(!r)return null;try{var a=JSON.parse(r);if(a)for(u=0;u<a.length;u++)if(Array.isArray(a[u])){var c=a[u];if(!(2>c.length)){var h=c[1];if(Array.isArray(h)&&!(1>h.length)){var E=h[0];if("noop"!=E&&"stop"!=E&&"close"!=E)for(var A=1;A<h.length;A++)h[A]=""}}}return Tr(a)}catch(B){return r}}(u,a)+(c?" "+c:"")})}li.prototype.M=function(){li.Z.M.call(this),Pr(this)},li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},no.prototype.Aa=function(){this.g=!1},no.prototype.info=function(){};var gr={},di=null;function _i(){return di=di||new nr}function ms(u){At.call(this,gr.Ma,u)}function rs(u){var r=_i();Fn(r,new ms(r,u))}function hi(u,r){At.call(this,gr.STAT_EVENT,u),this.stat=r}function Lr(u){var r=_i();Fn(r,new hi(r,u))}function No(u,r){At.call(this,gr.Na,u),this.size=r}function js(u,r){if("function"!=typeof u)throw Error("Fn must not be null and must be a function");return Re.setTimeout(function(){u()},r)}gr.Ma="serverreachability",Jn(ms,At),gr.STAT_EVENT="statevent",Jn(hi,At),gr.Na="timingevent",Jn(No,At);var ti={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},la={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ms(){}function ro(){}Ms.prototype.h=null;var Hs,ji={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Mi(){At.call(this,"d")}function Po(){At.call(this,"c")}function Ri(){}function qr(u,r,a,c){this.l=u,this.j=r,this.m=a,this.X=c||1,this.V=new li(this),this.P=io,this.W=new Wn(u=Rt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}Jn(Mi,At),Jn(Po,At),Jn(Ri,Ms),Ri.prototype.g=function(){return new XMLHttpRequest},Ri.prototype.i=function(){return{}},Hs=new Ri;var io=45e3,ys={},$s={};function Ji(u,r,a){u.K=1,u.v=Zt(ee(r)),u.s=a,u.U=!0,_s(u,null)}function _s(u,r){u.F=Date.now(),Hi(u),u.A=ee(u.v);var a=u.A,c=u.X;Array.isArray(c)||(c=[String(c)]),go(a.h,"t",c),u.C=0,a=u.l.H,u.h=new ni,u.g=F(u.l,a?r:null,!u.s),0<u.O&&(u.L=new to(Bt(u.Ia,u,u.g),u.O)),ci(u.V,u.g,"readystatechange",u.gb),r=u.H?ur(u.H):{},u.s?(u.u||(u.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.s,r)):(u.u="GET",u.g.ea(u.A,u.u,null,r)),rs(1),function(u,r,a,c,h,E){u.info(function(){if(u.g)if(E)for(var A="",B=E.split("&"),Z=0;Z<B.length;Z++){var ve=B[Z].split("=");if(1<ve.length){var Ie=ve[0];ve=ve[1];var Fe=Ie.split("_");A=2<=Fe.length&&"type"==Fe[1]?A+(Ie+"=")+ve+"&":A+(Ie+"=redacted&")}}else A=null;else A=E;return"XMLHTTP REQ ("+c+") [attempt "+h+"]: "+r+"\n"+a+"\n"+A})}(u.j,u.u,u.A,u.m,u.X,u.s)}function Zr(u){return!!u.g&&"GET"==u.u&&2!=u.K&&u.l.Ba}function Rs(u,r,a){for(var h,c=!0;!u.I&&u.C<a.length;){if((h=po(u,a))==$s){4==r&&(u.o=4,Lr(14),c=!1),jn(u.j,u.m,null,"[Incomplete Response]");break}if(h==ys){u.o=4,Lr(15),jn(u.j,u.m,a,"[Invalid Chunk]"),c=!1;break}jn(u.j,u.m,h,null),L(u,h)}Zr(u)&&h!=$s&&h!=ys&&(u.h.g="",u.C=0),4!=r||0!=a.length||u.h.h||(u.o=1,Lr(16),c=!1),u.i=u.i&&c,c?0<a.length&&!u.aa&&(u.aa=!0,(r=u.l).g==u&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+a.length),ss(r),r.L=!0,Lr(11))):(jn(u.j,u.m,a,"[Invalid Chunked Response]"),j(u),W(u))}function po(u,r){var a=u.C,c=r.indexOf("\n",a);return-1==c?$s:(a=Number(r.substring(a,c)),isNaN(a)?ys:(c+=1)+a>r.length?$s:(r=r.substr(c,a),u.C=c+a,r))}function Hi(u){u.Y=Date.now()+u.P,Ws(u,u.P)}function Ws(u,r){if(null!=u.B)throw Error("WatchDog timer not null");u.B=js(Bt(u.eb,u),r)}function Di(u){u.B&&(Re.clearTimeout(u.B),u.B=null)}function W(u){0==u.l.G||u.I||Ya(u.l,u)}function j(u){Di(u);var r=u.L;r&&"function"==typeof r.na&&r.na(),u.L=null,fs(u.W),Pr(u.V),u.g&&(r=u.g,u.g=null,r.abort(),r.na())}function L(u,r){try{var a=u.l;if(0!=a.G&&(a.g==u||kr(a.i,u)))if(a.I=u.N,!u.J&&kr(a.i,u)&&3==a.G){try{var c=a.Ca.g.parse(r)}catch(Zn){c=null}if(Array.isArray(c)&&3==c.length){var h=c;if(0==h[0])e:if(a.u)a.ta=h[1],0<a.ta-a.U&&37500>h[2]&&a.N&&0==a.A&&!a.v&&(a.v=js(Bt(a.ab,a),6e3));else{if(a.g){if(!(a.g.F+3e3<u.F))break e;Uo(a),Ks(a)}Yo(a),Lr(18)}if(1>=qa(a.i)&&a.ka){try{a.ka()}catch(Zn){}a.ka=void 0}}else bs(a,11)}else if((u.J||a.g==u)&&Uo(a),!vr(r))for(h=a.Ca.g.parse(r),r=0;r<h.length;r++){var E=h[r];if(a.U=E[0],E=E[1],2==a.G)if("c"==E[0]){a.J=E[1],a.la=E[2];var A=E[3];null!=A&&(a.ma=A,a.h.info("VER="+a.ma));var B=E[4];null!=B&&(a.za=B,a.h.info("SVER="+a.za));var Z=E[5];null!=Z&&"number"==typeof Z&&0<Z&&(a.K=c=1.5*Z,a.h.info("backChannelRequestTimeoutMs_="+c)),c=a;var ve=u.g;if(ve){var Ie=ve.g?ve.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ie){var Fe=c.i;!Fe.g&&(fr(Ie,"spdy")||fr(Ie,"quic")||fr(Ie,"h2"))&&(Fe.j=Fe.l,Fe.g=new Set,Fe.h&&(Da(Fe,Fe.h),Fe.h=null))}if(c.D){var ot=ve.g?ve.g.getResponseHeader("X-HTTP-Session-Id"):null;ot&&(c.sa=ot,ct(c.F,c.D,ot))}}a.G=3,a.j&&a.j.xa(),a.$&&(a.O=Date.now()-u.F,a.h.info("Handshake RTT: "+a.O+"ms"));var vt=u;if((c=a).oa=I(c,c.H?c.la:null,c.W),vt.J){Lo(c.i,vt);var kt=vt,pn=c.K;pn&&kt.setTimeout(pn),kt.B&&(Di(kt),Hi(kt)),c.g=vt}else ko(c);0<a.l.length&&Ma(a)}else"stop"!=E[0]&&"close"!=E[0]||bs(a,7);else 3==a.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?bs(a,7):Yr(a):"noop"!=E[0]&&a.j&&a.j.wa(E),a.A=0)}rs(4)}catch(Zn){}}function Xe(u,r){if(u.forEach&&"function"==typeof u.forEach)u.forEach(r,void 0);else if(Ze(u)||"string"==typeof u)qn(u,r,void 0);else{if(u.T&&"function"==typeof u.T)var a=u.T();else if(u.R&&"function"==typeof u.R)a=void 0;else if(Ze(u)||"string"==typeof u){a=[];for(var c=u.length,h=0;h<c;h++)a.push(h)}else for(h in a=[],c=0,u)a[c++]=h;h=(c=function(u){if(u.R&&"function"==typeof u.R)return u.R();if("string"==typeof u)return u.split("");if(Ze(u)){for(var r=[],a=u.length,c=0;c<a;c++)r.push(u[c]);return r}for(c in r=[],a=0,u)r[a++]=u[c];return r}(u)).length;for(var E=0;E<h;E++)r.call(void 0,c[E],a&&a[E],u)}}function Kt(u,r){this.h={},this.g=[],this.i=0;var a=arguments.length;if(1<a){if(a%2)throw Error("Uneven number of arguments");for(var c=0;c<a;c+=2)this.set(arguments[c],arguments[c+1])}else if(u)if(u instanceof Kt)for(a=u.T(),c=0;c<a.length;c++)this.set(a[c],u.get(a[c]));else for(c in u)this.set(c,u[c])}function cr(u){if(u.i!=u.g.length){for(var r=0,a=0;r<u.g.length;){var c=u.g[r];vi(u.h,c)&&(u.g[a++]=c),r++}u.g.length=a}if(u.i!=u.g.length){var h={};for(a=r=0;r<u.g.length;)vi(h,c=u.g[r])||(u.g[a++]=c,h[c]=1),r++;u.g.length=a}}function vi(u,r){return Object.prototype.hasOwnProperty.call(u,r)}(Ae=qr.prototype).setTimeout=function(u){this.P=u},Ae.gb=function(u){u=u.target;var r=this.L;r&&3==lo(u)?r.l():this.Ia(u)},Ae.Ia=function(u){try{if(u==this.g)e:{var r=lo(this.g),a=this.g.Da(),c=this.g.ba();if(!(3>r)&&(3!=r||Rt||this.g&&(this.h.h||this.g.ga()||Ti(this.g)))){this.I||4!=r||7==a||rs(8==a||0>=c?3:2),Di(this);var h=this.g.ba();this.N=h;t:if(Zr(this)){var E=Ti(this.g);u="";var A=E.length,B=4==lo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){j(this),W(this);var Z="";break t}this.h.i=new Re.TextDecoder}for(a=0;a<A;a++)this.h.h=!0,u+=this.h.i.decode(E[a],{stream:B&&a==A-1});E.splice(0,A),this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.ga();if(this.i=200==h,function(u,r,a,c,h,E,A){u.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+h+"]: "+r+"\n"+a+"\n"+E+" "+A})}(this.j,this.u,this.A,this.m,this.X,r,h),this.i){if(this.$&&!this.J){t:{if(this.g){var ve,Ie=this.g;if((ve=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vr(ve)){var Fe=ve;break t}}Fe=null}if(!(h=Fe)){this.i=!1,this.o=3,Lr(12),j(this),W(this);break e}jn(this.j,this.m,h,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,L(this,h)}this.U?(Rs(this,r,Z),Rt&&this.i&&3==r&&(ci(this.V,this.W,"tick",this.fb),this.W.start())):(jn(this.j,this.m,Z,null),L(this,Z)),4==r&&j(this),this.i&&!this.I&&(4==r?Ya(this.l,this):(this.i=!1,Hi(this)))}else 400==h&&0<Z.indexOf("Unknown SID")?(this.o=3,Lr(12)):(this.o=0,Lr(13)),j(this),W(this)}}}catch(ot){}},Ae.fb=function(){if(this.g){var u=lo(this.g),r=this.g.ga();this.C<r.length&&(Di(this),Rs(this,u,r),this.i&&4!=u&&Hi(this))}},Ae.cancel=function(){this.I=!0,j(this)},Ae.eb=function(){this.B=null;var u=Date.now();0<=u-this.Y?(function(u,r){u.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(rs(3),Lr(17)),j(this),this.o=2,W(this)):Ws(this,this.Y-u)},(Ae=Kt.prototype).R=function(){cr(this);for(var u=[],r=0;r<this.g.length;r++)u.push(this.h[this.g[r]]);return u},Ae.T=function(){return cr(this),this.g.concat()},Ae.get=function(u,r){return vi(this.h,u)?this.h[u]:r},Ae.set=function(u,r){vi(this.h,u)||(this.i++,this.g.push(u)),this.h[u]=r},Ae.forEach=function(u,r){for(var a=this.T(),c=0;c<a.length;c++){var h=a[c],E=this.get(h);u.call(r,E,h,this)}};var fi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function V(u,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,u instanceof V){this.g=void 0!==r?r:u.g,H(this,u.j),this.s=u.s,ie(this,u.i),De(this,u.m),this.l=u.l,r=u.h;var a=new ii;a.i=r.i,r.g&&(a.g=new Kt(r.g),a.h=r.h),tt(this,a),this.o=u.o}else u&&(a=String(u).match(fi))?(this.g=!!r,H(this,a[1]||"",!0),this.s=rr(a[2]||""),ie(this,a[3]||"",!0),De(this,a[4]),this.l=rr(a[5]||"",!0),tt(this,a[6]||"",!0),this.o=rr(a[7]||"")):(this.g=!!r,this.h=new ii(null,this.g))}function ee(u){return new V(u)}function H(u,r,a){u.j=a?rr(r,!0):r,u.j&&(u.j=u.j.replace(/:$/,""))}function ie(u,r,a){u.i=a?rr(r,!0):r}function De(u,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);u.m=r}else u.m=null}function tt(u,r,a){r instanceof ii?(u.h=r,function(u,r){r&&!u.j&&(an(u),u.i=null,u.g.forEach(function(a,c){var h=c.toLowerCase();c!=h&&(Fo(this,c),go(this,h,a))},u)),u.j=r}(u.h,u.g)):(a||(r=wn(r,sr)),u.h=new ii(r,u.g))}function ct(u,r,a){u.h.set(r,a)}function Zt(u){return ct(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function rr(u,r){return u?r?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wn(u,r,a){return"string"==typeof u?(u=encodeURI(u).replace(r,pr),a&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pr(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}V.prototype.toString=function(){var u=[],r=this.j;r&&u.push(wn(r,dr,!0),":");var a=this.i;return(a||"file"==r)&&(u.push("//"),(r=this.s)&&u.push(wn(r,dr,!0),"@"),u.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(a=this.m)&&u.push(":",String(a))),(a=this.l)&&(this.i&&"/"!=a.charAt(0)&&u.push("/"),u.push(wn(a,"/"==a.charAt(0)?Gs:ri,!0))),(a=this.h.toString())&&u.push("?",a),(a=this.o)&&u.push("#",wn(a,Ns)),u.join("")};var dr=/[#\/\?@]/g,ri=/[#\?:]/g,Gs=/[#\?]/g,sr=/[#\?@]/g,Ns=/#/g;function ii(u,r){this.h=this.g=null,this.i=u||null,this.j=!!r}function an(u){u.g||(u.g=new Kt,u.h=0,u.i&&function(u,r){if(u){u=u.split("&");for(var a=0;a<u.length;a++){var c=u[a].indexOf("="),h=null;if(0<=c){var E=u[a].substring(0,c);h=u[a].substring(c+1)}else E=u[a];r(E,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(u.i,function(r,a){u.add(decodeURIComponent(r.replace(/\+/g," ")),a)}))}function Fo(u,r){an(u),r=so(u,r),vi(u.g.h,r)&&(u.i=null,u.h-=u.g.get(r).length,vi((u=u.g).h,r)&&(delete u.h[r],u.i--,u.g.length>2*u.i&&cr(u)))}function ca(u,r){return an(u),r=so(u,r),vi(u.g.h,r)}function go(u,r,a){Fo(u,r),0<a.length&&(u.i=null,u.g.set(so(u,r),Un(a)),u.h+=a.length)}function so(u,r){return r=String(r),u.j&&(r=r.toLowerCase()),r}(Ae=ii.prototype).add=function(u,r){an(this),this.i=null,u=so(this,u);var a=this.g.get(u);return a||this.g.set(u,a=[]),a.push(r),this.h+=1,this},Ae.forEach=function(u,r){an(this),this.g.forEach(function(a,c){qn(a,function(h){u.call(r,h,c,this)},this)},this)},Ae.T=function(){an(this);for(var u=this.g.R(),r=this.g.T(),a=[],c=0;c<r.length;c++)for(var h=u[c],E=0;E<h.length;E++)a.push(r[c]);return a},Ae.R=function(u){an(this);var r=[];if("string"==typeof u)ca(this,u)&&(r=$t(r,this.g.get(so(this,u))));else{u=this.g.R();for(var a=0;a<u.length;a++)r=$t(r,u[a])}return r},Ae.set=function(u,r){return an(this),this.i=null,ca(this,u=so(this,u))&&(this.h-=this.g.get(u).length),this.g.set(u,[r]),this.h+=1,this},Ae.get=function(u,r){return u&&0<(u=this.R(u)).length?String(u[0]):r},Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var u=[],r=this.g.T(),a=0;a<r.length;a++){var c=r[a],h=encodeURIComponent(String(c));c=this.R(c);for(var E=0;E<c.length;E++){var A=h;""!==c[E]&&(A+="="+encodeURIComponent(String(c[E]))),u.push(A)}}return this.i=u.join("&")};var Ka=function(r,a){this.h=r,this.g=a};function ha(u){this.l=u||Et,u=Re.PerformanceNavigationTiming?0<(u=Re.performance.getEntriesByType("navigation")).length&&("hq"==u[0].nextHopProtocol||"h2"==u[0].nextHopProtocol):!!(Re.g&&Re.g.Ea&&Re.g.Ea()&&Re.g.Ea().Zb),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Et=10;function Qn(u){return!!u.h||!!u.g&&u.g.size>=u.j}function qa(u){return u.h?1:u.g?u.g.size:0}function kr(u,r){return u.h?u.h==r:!!u.g&&u.g.has(r)}function Da(u,r){u.g?u.g.add(r):u.h=r}function Lo(u,r){u.h&&u.h==r?u.h=null:u.g&&u.g.has(r)&&u.g.delete(r)}function is(u){var r,a;if(null!=u.h)return u.i.concat(u.h.D);if(null!=u.g&&0!==u.g.size){var c=u.i;try{for(var h=Nt(u.g.values()),E=h.next();!E.done;E=h.next())c=c.concat(E.value.D)}catch(B){r={error:B}}finally{try{E&&!E.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}return c}return Un(u.i)}function oo(){}function Ta(){this.g=new oo}function ao(u,r,a){var c=a||"";try{Xe(u,function(h,E){var A=h;Ne(h)&&(A=Tr(h)),r.push(c+E+"="+encodeURIComponent(A))})}catch(h){throw r.push(c+"type="+encodeURIComponent("_badmap")),h}}function Ps(u,r,a,c,h){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,h(c)}catch(E){}}function Fs(u){this.l=u.$b||null,this.j=u.ib||!1}function si(u,r){nr.call(this),this.D=u,this.u=r,this.m=void 0,this.readyState=vs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ha.prototype.cancel=function(){var u,r;if(this.i=is(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var a=Nt(this.g.values()),c=a.next();!c.done;c=a.next())c.value.cancel()}catch(E){u={error:E}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(u)throw u.error}}this.g.clear()}},oo.prototype.stringify=function(u){return Re.JSON.stringify(u,void 0)},oo.prototype.parse=function(u){return Re.JSON.parse(u,void 0)},Jn(Fs,Ms),Fs.prototype.g=function(){return new si(this.l,this.j)},Fs.prototype.i=function(u){return function(){return u}}({}),Jn(si,nr);var vs=0;function fa(u){u.j.read().then(u.Sa.bind(u)).catch(u.ha.bind(u))}function Es(u){u.readyState=4,u.l=null,u.j=null,u.A=null,$i(u)}function $i(u){u.onreadystatechange&&u.onreadystatechange.call(u)}(Ae=si.prototype).open=function(u,r){if(this.readyState!=vs)throw this.abort(),Error("Error reopening a connection");this.C=u,this.B=r,this.readyState=1,$i(this)},Ae.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};u&&(r.body=u),(this.D||Re).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Es(this)),this.readyState=vs},Ae.Va=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$i(this)),this.g&&(this.readyState=3,$i(this),this.g)))if("arraybuffer"===this.responseType)u.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Re.ReadableStream&&"body"in u){if(this.j=u.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fa(this)}else u.text().then(this.Ua.bind(this),this.ha.bind(this))},Ae.Sa=function(u){if(this.g){if(this.u&&u.value)this.response.push(u.value);else if(!this.u){var r=u.value?u.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!u.done}))&&(this.response=this.responseText+=r)}u.done?Es(this):$i(this),3==this.readyState&&fa(this)}},Ae.Ua=function(u){this.g&&(this.response=this.responseText=u,Es(this))},Ae.Ta=function(u){this.g&&(this.response=u,Es(this))},Ae.ha=function(){this.g&&Es(this)},Ae.setRequestHeader=function(u,r){this.v.append(u,r)},Ae.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},Ae.getAllResponseHeaders=function(){if(!this.h)return"";for(var u=[],r=this.h.entries(),a=r.next();!a.done;)u.push((a=a.value)[0]+": "+a[1]),a=r.next();return u.join("\r\n")},Object.defineProperty(si.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(u){this.m=u?"include":"same-origin"}});var Aa=Re.JSON.parse;function Vr(u){nr.call(this),this.headers=new Kt,this.u=u||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uo,this.K=this.L=!1}Jn(Vr,nr);var uo="",Ko=/^https?$/i,qo=["POST","PUT"];function xa(u){return"content-type"==u.toLowerCase()}function Zo(u,r){u.h=!1,u.g&&(u.l=!0,u.g.abort(),u.l=!1),u.j=r,u.m=5,ku(u),yo(u)}function ku(u){u.D||(u.D=!0,Fn(u,"complete"),Fn(u,"error"))}function zs(u){if(u.h&&void 0!==He&&(!u.C[1]||4!=lo(u)||2!=u.ba()))if(u.v&&4==lo(u))ps(u.Fa,0,u);else if(Fn(u,"readystatechange"),4==lo(u)){u.h=!1;try{var c,r=u.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}if(!(c=a)){var h;if(h=0===r){var E=String(u.H).match(fi)[1]||null;if(!E&&Re.self&&Re.self.location){var A=Re.self.location.protocol;E=A.substr(0,A.length-1)}h=!Ko.test(E?E.toLowerCase():"")}c=h}if(c)Fn(u,"complete"),Fn(u,"success");else{u.m=6;try{var B=2<lo(u)?u.g.statusText:""}catch(Z){B=""}u.j=B+" ["+u.ba()+"]",ku(u)}}finally{yo(u)}}}function yo(u,r){if(u.g){Za(u);var a=u.g,c=u.C[0]?Ye:null;u.g=null,u.C=null,r||Fn(u,"ready");try{a.onreadystatechange=c}catch(h){}}}function Za(u){u.g&&u.K&&(u.g.ontimeout=null),u.A&&(Re.clearTimeout(u.A),u.A=null)}function lo(u){return u.g?u.g.readyState:0}function Ti(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.J){case uo:case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch(r){return null}}function Ls(u,r,a){e:{for(c in a){var c=!1;break e}c=!0}c||(a=function(u){var r="";return Gr(u,function(a,c){r+=c,r+=":",r+=a,r+="\r\n"}),r}(a),"string"==typeof u?null!=a&&encodeURIComponent(String(a)):ct(u,r,a))}function _o(u,r,a){return a&&a.internalChannelParams&&a.internalChannelParams[u]||r}function pa(u){this.za=0,this.l=[],this.h=new no,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_o("failFast",!1,u),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_o("baseRetryDelayMs",5e3,u),this.$a=_o("retryDelaySeedMs",1e4,u),this.Ya=_o("forwardChannelMaxRetries",2,u),this.ra=_o("forwardChannelRequestTimeoutMs",2e4,u),this.qa=u&&u.xmlHttpFactory||void 0,this.Ba=u&&u.Yb||!1,this.K=void 0,this.H=u&&u.supportsCrossDomainXhr||!1,this.J="",this.i=new ha(u&&u.concurrentRequestLimit),this.Ca=new Ta,this.ja=u&&u.fastHandshake||!1,this.Ra=u&&u.Wb||!1,u&&u.Aa&&this.h.Aa(),u&&u.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&u&&u.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!u||!1!==u.Xb}function Yr(u){if($r(u),3==u.G){var r=u.V++,a=ee(u.F);ct(a,"SID",u.J),ct(a,"RID",r),ct(a,"TYPE","terminate"),Eo(u,a),(r=new qr(u,u.h,r,void 0)).K=2,r.v=Zt(ee(a)),a=!1,Re.navigator&&Re.navigator.sendBeacon&&(a=Re.navigator.sendBeacon(r.v.toString(),"")),!a&&Re.Image&&((new Image).src=r.v,a=!0),a||(r.g=F(r.l,null),r.g.ea(r.v)),r.F=Date.now(),Hi(r)}ue(u)}function Ks(u){u.g&&(ss(u),u.g.cancel(),u.g=null)}function $r(u){Ks(u),u.u&&(Re.clearTimeout(u.u),u.u=null),Uo(u),u.i.cancel(),u.m&&("number"==typeof u.m&&Re.clearTimeout(u.m),u.m=null)}function Oa(u,r){u.l.push(new Ka(u.Za++,r)),3==u.G&&Ma(u)}function Ma(u){Qn(u.i)||u.m||(u.m=!0,Vi(u.Ha,u),u.C=0)}function vo(u,r){var a;a=r?r.m:u.V++;var c=ee(u.F);ct(c,"SID",u.J),ct(c,"RID",a),ct(c,"AID",u.U),Eo(u,c),u.o&&u.s&&Ls(c,u.o,u.s),a=new qr(u,u.h,a,u.C+1),null===u.o&&(a.H=u.s),r&&(u.l=r.D.concat(u.l)),r=Ra(u,a,1e3),a.setTimeout(Math.round(.5*u.ra)+Math.round(.5*u.ra*Math.random())),Da(u.i,a),Ji(a,c,r)}function Eo(u,r){u.j&&Xe({},function(a,c){ct(r,c,a)})}function Ra(u,r,a){a=Math.min(u.l.length,a);var c=u.j?Bt(u.j.Oa,u.j,u):null;e:for(var h=u.l,E=-1;;){var A=["count="+a];-1==E?0<a?A.push("ofs="+(E=h[0].h)):E=0:A.push("ofs="+E);for(var B=!0,Z=0;Z<a;Z++){var ve=h[Z].h,Ie=h[Z].g;if(0>(ve-=E))E=Math.max(0,h[Z].h-100),B=!1;else try{ao(Ie,A,"req"+ve+"_")}catch(Fe){c&&c(Ie)}}if(B){c=A.join("&");break e}}return u=u.l.splice(0,a),r.D=u,c}function ko(u){u.g||u.u||(u.Y=1,Vi(u.Ga,u),u.A=0)}function Yo(u){return!(u.g||u.u||3<=u.A||(u.Y++,u.u=js(Bt(u.Ga,u),os(u,u.A)),u.A++,0))}function ss(u){null!=u.B&&(Re.clearTimeout(u.B),u.B=null)}function Vo(u){u.g=new qr(u,u.h,"rpc",u.Y),null===u.o&&(u.g.H=u.s),u.g.O=0;var r=ee(u.oa);ct(r,"RID","rpc"),ct(r,"SID",u.J),ct(r,"CI",u.N?"0":"1"),ct(r,"AID",u.U),Eo(u,r),ct(r,"TYPE","xmlhttp"),u.o&&u.s&&Ls(r,u.o,u.s),u.K&&u.g.setTimeout(u.K);var a=u.g;u=u.la,a.K=1,a.v=Zt(ee(r)),a.s=null,a.U=!0,_s(a,u)}function Uo(u){null!=u.v&&(Re.clearTimeout(u.v),u.v=null)}function Ya(u,r){var a=null;if(u.g==r){Uo(u),ss(u),u.g=null;var c=2}else{if(!kr(u.i,r))return;a=r.D,Lo(u.i,r),c=1}if(u.I=r.N,0!=u.G)if(r.i)if(1==c){a=r.s?r.s.length:0,r=Date.now()-r.F;var h=u.C;Fn(c=_i(),new No(c,a,r,h)),Ma(u)}else ko(u);else if(3==(h=r.o)||0==h&&0<u.I||!(1==c&&function(u,r){return!(qa(u.i)>=u.i.j-(u.m?1:0)||(u.m?(u.l=r.D.concat(u.l),0):1==u.G||2==u.G||u.C>=(u.Xa?0:u.Ya)||(u.m=js(Bt(u.Ha,u,r),os(u,u.C)),u.C++,0)))}(u,r)||2==c&&Yo(u)))switch(a&&0<a.length&&(r=u.i,r.i=r.i.concat(a)),h){case 1:bs(u,5);break;case 4:bs(u,10);break;case 3:bs(u,6);break;default:bs(u,2)}}function os(u,r){var a=u.Pa+Math.floor(Math.random()*u.$a);return u.j||(a*=2),a*r}function bs(u,r){if(u.h.info("Error code "+r),2==r){var a=null;u.j&&(a=null);var c=Bt(u.jb,u);a||(a=new V("//www.google.com/images/cleardot.gif"),Re.location&&"http"==Re.location.protocol||H(a,"https"),Zt(a)),function(u,r){var a=new no;if(Re.Image){var c=new Image;c.onload=tr(Ps,a,c,"TestLoadImage: loaded",!0,r),c.onerror=tr(Ps,a,c,"TestLoadImage: error",!1,r),c.onabort=tr(Ps,a,c,"TestLoadImage: abort",!1,r),c.ontimeout=tr(Ps,a,c,"TestLoadImage: timeout",!1,r),Re.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=u}else r(!1)}(a.toString(),c)}else Lr(2);u.G=0,u.j&&u.j.va(r),ue(u),$r(u)}function ue(u){u.G=0,u.I=-1,u.j&&((0!=is(u.i).length||0!=u.l.length)&&(u.i.i.length=0,Un(u.l),u.l.length=0),u.j.ua())}function I(u,r,a){var c=function(u){return u instanceof V?ee(u):new V(u,void 0)}(a);if(""!=c.i)r&&ie(c,r+"."+c.i),De(c,c.m);else{var h=Re.location;c=function(u,r,a,c){var h=new V(null,void 0);return u&&H(h,u),r&&ie(h,r),a&&De(h,a),c&&(h.l=c),h}(h.protocol,r?r+"."+h.hostname:h.hostname,+h.port,a)}return u.aa&&Gr(u.aa,function(E,A){ct(c,A,E)}),a=u.sa,(r=u.D)&&a&&ct(c,r,a),ct(c,"VER",u.ma),Eo(u,c),c}function F(u,r,a){if(r&&!u.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new Vr(a&&u.Ba&&!u.qa?new Fs({ib:!0}):u.qa)).L=u.H,r}function de(){}function Be(){if(Ot&&!(10<=Number(Ue)))throw Error("Environmental error: no available transport.")}function dt(u,r){nr.call(this),this.g=new pa(r),this.l=u,this.h=r&&r.messageUrlParams||null,u=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.s=u,u=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(u?u["X-WebChannel-Content-Type"]=r.messageContentType:u={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(u?u["X-WebChannel-Client-Profile"]=r.ya:u={"X-WebChannel-Client-Profile":r.ya}),this.g.P=u,(u=r&&r.httpHeadersOverwriteParam)&&!vr(u)&&(this.g.o=u),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!vr(r)&&(this.g.D=r,null!==(u=this.h)&&r in u&&r in(u=this.h)&&delete u[r]),this.j=new Ur(this)}function en(u){Mi.call(this);var r=u.__sm__;if(r){e:{for(var a in r){u=a;break e}u=void 0}(this.i=u)&&(u=this.i,r=null!==r&&u in r?r[u]:void 0),this.data=r}else this.data=u}function br(){Po.call(this),this.status=1}function Ur(u){this.g=u}(Ae=Vr.prototype).ea=function(u,r,a,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+u);r=r?r.toUpperCase():"GET",this.H=u,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hs.g(),this.C=function(u){return u.h||(u.h=u.i())}(this.u?this.u:Hs),this.g.onreadystatechange=Bt(this.Fa,this);try{this.F=!0,this.g.open(r,String(u),!0),this.F=!1}catch(E){return void Zo(this,E)}u=a||"";var h=new Kt(this.headers);c&&Xe(c,function(E,A){h.set(A,E)}),c=function(u){e:{for(var r=xa,a=u.length,c="string"==typeof u?u.split(""):u,h=0;h<a;h++)if(h in c&&r.call(void 0,c[h],h,u)){r=h;break e}r=-1}return 0>r?null:"string"==typeof u?u.charAt(r):u[r]}(h.T()),a=Re.FormData&&u instanceof Re.FormData,!(0<=Bn(qo,r))||c||a||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(E,A){this.g.setRequestHeader(A,E)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Za(this),0<this.B&&((this.K=function(u){return Ot&&be()&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bt(this.pa,this)):this.A=ps(this.pa,this.B,this)),this.v=!0,this.g.send(u),this.v=!1}catch(E){Zo(this,E)}},Ae.pa=function(){void 0!==He&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fn(this,"timeout"),this.abort(8))},Ae.abort=function(u){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=u||7,Fn(this,"complete"),Fn(this,"abort"),yo(this))},Ae.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yo(this,!0)),Vr.Z.M.call(this)},Ae.Fa=function(){this.s||(this.F||this.v||this.l?zs(this):this.cb())},Ae.cb=function(){zs(this)},Ae.ba=function(){try{return 2<lo(this)?this.g.status:-1}catch(u){return-1}},Ae.ga=function(){try{return this.g?this.g.responseText:""}catch(u){return""}},Ae.Qa=function(u){if(this.g){var r=this.g.responseText;return u&&0==r.indexOf(u)&&(r=r.substring(u.length)),Aa(r)}},Ae.Da=function(){return this.m},Ae.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ae=pa.prototype).ma=8,Ae.G=1,Ae.hb=function(u){try{this.h.info("Origin Trials invoked: "+u)}catch(r){}},Ae.Ha=function(u){if(this.m)if(this.m=null,1==this.G){if(!u){this.V=Math.floor(1e5*Math.random()),u=this.V++;var r=new qr(this,this.h,u,void 0),a=this.s;if(this.P&&(a?we(a=ur(a),this.P):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var c=0,h=0;h<this.l.length;h++){var E=this.l[h];if(void 0===(E="__data__"in E.g&&"string"==typeof(E=E.g.__data__)?E.length:void 0))break;if(4096<(c+=E)){c=h;break e}if(4096===c||h===this.l.length-1){c=h+1;break e}}c=1e3}else c=1e3;c=Ra(this,r,c),ct(h=ee(this.F),"RID",u),ct(h,"CVER",22),this.D&&ct(h,"X-HTTP-Session-Id",this.D),Eo(this,h),this.o&&a&&Ls(h,this.o,a),Da(this.i,r),this.Ra&&ct(h,"TYPE","init"),this.ja?(ct(h,"$req",c),ct(h,"SID","null"),r.$=!0,Ji(r,h,null)):Ji(r,h,c),this.G=2}}else 3==this.G&&(u?vo(this,u):0==this.l.length||Qn(this.i)||vo(this))},Ae.Ga=function(){if(this.u=null,Vo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var u=2*this.O;this.h.info("BP detection timer enabled: "+u),this.B=js(Bt(this.bb,this),u)}},Ae.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Lr(10),Ks(this),Vo(this))},Ae.ab=function(){null!=this.v&&(this.v=null,Ks(this),Yo(this),Lr(19))},Ae.jb=function(u){u?(this.h.info("Successfully pinged google.com"),Lr(2)):(this.h.info("Failed to ping google.com"),Lr(1))},(Ae=de.prototype).xa=function(){},Ae.wa=function(){},Ae.va=function(){},Ae.ua=function(){},Ae.Oa=function(){},Be.prototype.g=function(u,r){return new dt(u,r)},Jn(dt,nr),dt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var u=this.g,r=this.l,a=this.h||void 0;u.Wa&&(u.h.info("Origin Trials enabled."),Vi(Bt(u.hb,u,r))),Lr(0),u.W=r,u.aa=a||{},u.N=u.X,u.F=I(u,null,u.W),Ma(u)},dt.prototype.close=function(){Yr(this.g)},dt.prototype.u=function(u){if("string"==typeof u){var r={};r.__data__=u,Oa(this.g,r)}else this.v?((r={}).__data__=Tr(u),Oa(this.g,r)):Oa(this.g,u)},dt.prototype.M=function(){this.g.j=null,delete this.j,Yr(this.g),delete this.g,dt.Z.M.call(this)},Jn(en,Mi),Jn(br,Po),Jn(Ur,de),Ur.prototype.xa=function(){Fn(this.g,"a")},Ur.prototype.wa=function(u){Fn(this.g,new en(u))},Ur.prototype.va=function(u){Fn(this.g,new br(u))},Ur.prototype.ua=function(){Fn(this.g,"b")},Be.prototype.createWebChannel=Be.prototype.g,dt.prototype.send=dt.prototype.u,dt.prototype.open=dt.prototype.m,dt.prototype.close=dt.prototype.close,ti.NO_ERROR=0,ti.TIMEOUT=8,ti.HTTP_ERROR=6,la.COMPLETE="complete",ro.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",nr.prototype.listen=nr.prototype.N,Vr.prototype.listenOnce=Vr.prototype.O,Vr.prototype.getLastError=Vr.prototype.La,Vr.prototype.getLastErrorCode=Vr.prototype.Da,Vr.prototype.getStatus=Vr.prototype.ba,Vr.prototype.getResponseJson=Vr.prototype.Qa,Vr.prototype.getResponseText=Vr.prototype.ga,Vr.prototype.send=Vr.prototype.ea;var Sr=ti,Vu=la,N=gr,O_PROXY=10,O_NOPROXY=11,D=Fs,U=ro,K=Vr;class Oe{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}Oe.UNAUTHENTICATED=new Oe(null),Oe.GOOGLE_CREDENTIALS=new Oe("google-credentials-uid"),Oe.FIRST_PARTY=new Oe("first-party-uid"),Oe.MOCK_USER=new Oe("mock-user");let lt="9.0.0";const Ut=new _t.Yd("@firebase/firestore");function on(){return Ut.logLevel}function yt(u,...r){if(Ut.logLevel<=_t.in.DEBUG){const a=r.map(Cs);Ut.debug(`Firestore (${lt}): ${u}`,...a)}}function ln(u,...r){if(Ut.logLevel<=_t.in.ERROR){const a=r.map(Cs);Ut.error(`Firestore (${lt}): ${u}`,...a)}}function Wi(u,...r){if(Ut.logLevel<=_t.in.WARN){const a=r.map(Cs);Ut.warn(`Firestore (${lt}): ${u}`,...a)}}function Cs(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch(a){return u}}function qt(u="Unexpected state"){const r=`FIRESTORE (${lt}) INTERNAL ASSERTION FAILED: `+u;throw ln(r),new Error(r)}function cn(u,r){u||qt()}function Mt(u,r){return u}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends Error{constructor(r,a){super(a),this.code=r,this.message=a,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xi{constructor(){this.promise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}}class cu{constructor(r,a){this.user=a,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class Qa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,a){r.enqueueRetryable(()=>a(Oe.UNAUTHENTICATED))}shutdown(){}}class ol{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,a){this.changeListener=a,r.enqueueRetryable(()=>a(this.token.user))}shutdown(){this.changeListener=null}}class Uu{constructor(r){this.t=r,this.currentUser=Oe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,a){var c=this;let h=this.i;const E=Z=>this.i!==h?(h=this.i,a(Z)):Promise.resolve();let A=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),A.resolve(),A=new Xi,r.enqueueRetryable(()=>E(this.currentUser))};const B=Z=>{r.enqueueRetryable((0,ye.Z)(function*(){yt("FirebaseCredentialsProvider","Auth detected"),c.auth=Z,c.auth.addAuthTokenListener(c.o),yield A.promise,yield E(c.currentUser)}))};this.t.onInit(Z=>B(Z)),setTimeout(()=>{if(!this.auth){const Z=this.t.getImmediate({optional:!0});Z?B(Z):(yt("FirebaseCredentialsProvider","Auth not yet detected"),A.resolve(),A=new Xi)}},0),r.enqueueRetryable((0,ye.Z)(function*(){0===c.i&&(yield A.promise,yield E(c.currentUser))}))}getToken(){const r=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(c=>this.i!==r?(yt("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(cn("string"==typeof c.accessToken),new cu(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return cn(null===r||"string"==typeof r),new Oe(r)}}class Bu{constructor(r,a,c){this.h=r,this.l=a,this.m=c,this.type="FirstParty",this.user=Oe.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},a=this.h.auth.getAuthHeaderValueForFirstParty([]);return a&&(r.Authorization=a),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class Ja{constructor(r,a,c){this.h=r,this.l=a,this.m=c}getToken(){return Promise.resolve(new Bu(this.h,this.l,this.m))}start(r,a){r.enqueueRetryable(()=>a(Oe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qs{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=c=>this.g(c),this.p=c=>a.writeSequenceNumber(c))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function Vl(u){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),a=new Uint8Array(u);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(a);else for(let c=0;c<u;c++)a[c]=Math.floor(256*Math.random());return a}qs.T=-1;class Na{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=Math.floor(256/r.length)*r.length;let c="";for(;c.length<20;){const h=Vl(40);for(let E=0;E<h.length;++E)c.length<20&&h[E]<a&&(c+=r.charAt(h[E]%r.length))}return c}}function Xn(u,r){return u<r?-1:u>r?1:0}function jo(u,r,a){return u.length===r.length&&u.every((c,h)=>a(c,r[h]))}function Pa(u){return u+"\0"}class Qr{constructor(r,a){if(this.seconds=r,this.nanoseconds=a,a<0)throw new Dt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new Dt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(r<-62135596800)throw new Dt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new Dt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return Qr.fromMillis(Date.now())}static fromDate(r){return Qr.fromMillis(r.getTime())}static fromMillis(r){const a=Math.floor(r/1e3),c=Math.floor(1e6*(r-1e3*a));return new Qr(a,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?Xn(this.nanoseconds,r.nanoseconds):Xn(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zn{constructor(r){this.timestamp=r}static fromTimestamp(r){return new zn(r)}static min(){return new zn(new Qr(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Fa(u){let r=0;for(const a in u)Object.prototype.hasOwnProperty.call(u,a)&&r++;return r}function du(u,r){for(const a in u)Object.prototype.hasOwnProperty.call(u,a)&&r(a,u[a])}function wc(u){for(const r in u)if(Object.prototype.hasOwnProperty.call(u,r))return!1;return!0}class al{constructor(r,a,c){void 0===a?a=0:a>r.length&&qt(),void 0===c?c=r.length-a:c>r.length-a&&qt(),this.segments=r,this.offset=a,this.len=c}get length(){return this.len}isEqual(r){return 0===al.comparator(this,r)}child(r){const a=this.segments.slice(this.offset,this.limit());return r instanceof al?r.forEach(c=>{a.push(c)}):a.push(r),this.construct(a)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==r.get(a))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==r.get(a))return!1;return!0}forEach(r){for(let a=this.offset,c=this.limit();a<c;a++)r(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,a){const c=Math.min(r.length,a.length);for(let h=0;h<c;h++){const E=r.get(h),A=a.get(h);if(E<A)return-1;if(E>A)return 1}return r.length<a.length?-1:r.length>a.length?1:0}}class wr extends al{construct(r,a,c){return new wr(r,a,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const a=[];for(const c of r){if(c.indexOf("//")>=0)throw new Dt(it.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);a.push(...c.split("/").filter(h=>h.length>0))}return new wr(a)}static emptyPath(){return new wr([])}}const ud=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends al{construct(r,a,c){return new lr(r,a,c)}static isValidIdentifier(r){return ud.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lr(["__name__"])}static fromServerFormat(r){const a=[];let c="",h=0;const E=()=>{if(0===c.length)throw new Dt(it.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(c),c=""};let A=!1;for(;h<r.length;){const B=r[h];if("\\"===B){if(h+1===r.length)throw new Dt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const Z=r[h+1];if("\\"!==Z&&"."!==Z&&"`"!==Z)throw new Dt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);c+=Z,h+=2}else"`"===B?(A=!A,h++):"."!==B||A?(c+=B,h++):(E(),h++)}if(E(),A)throw new Dt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new lr(a)}static emptyPath(){return new lr([])}}class Xa{constructor(r){this.fields=r,r.sort(lr.comparator)}covers(r){for(const a of this.fields)if(a.isPrefixOf(r))return!0;return!1}isEqual(r){return jo(this.fields,r.fields,(a,c)=>a.isEqual(c))}}class as{constructor(r){this.binaryString=r}static fromBase64String(r){const a=atob(r);return new as(a)}static fromUint8Array(r){const a=function(c){let h="";for(let E=0;E<c.length;++E)h+=String.fromCharCode(c[E]);return h}(r);return new as(a)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let c=0;c<r.length;c++)a[c]=r.charCodeAt(c);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return Xn(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}as.EMPTY_BYTE_STRING=new as("");const Cc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(u){if(cn(!!u),"string"==typeof u){let r=0;const a=Cc.exec(u);if(cn(!!a),a[1]){let h=a[1];h=(h+"000000000").substr(0,9),r=Number(h)}const c=new Date(u);return{seconds:Math.floor(c.getTime()/1e3),nanos:r}}return{seconds:oi(u.seconds),nanos:oi(u.nanos)}}function oi(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function hu(u){return"string"==typeof u?as.fromBase64String(u):as.fromUint8Array(u)}function ll(u){var r,a;return"server_timestamp"===(null===(a=((null===(r=null==u?void 0:u.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===a?void 0:a.stringValue)}function ju(u){const r=u.mapValue.fields.__previous_value__;return ll(r)?ju(r):r}function fu(u){const r=La(u.mapValue.fields.__local_write_time__.timestampValue);return new Qr(r.seconds,r.nanos)}function pu(u){return null==u}function Qo(u){return 0===u&&1/u==-1/0}function Hu(u){return"number"==typeof u&&Number.isInteger(u)&&!Qo(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}class Ft{constructor(r){this.path=r}static fromPath(r){return new Ft(wr.fromString(r))}static fromName(r){return new Ft(wr.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===wr.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,a){return wr.comparator(r.path,a.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new Ft(new wr(r.slice()))}}function bo(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?ll(u)?4:10:qt()}function co(u,r){const a=bo(u);if(a!==bo(r))return!1;switch(a){case 0:return!0;case 1:return u.booleanValue===r.booleanValue;case 4:return fu(u).isEqual(fu(r));case 3:return function(c,h){if("string"==typeof c.timestampValue&&"string"==typeof h.timestampValue&&c.timestampValue.length===h.timestampValue.length)return c.timestampValue===h.timestampValue;const E=La(c.timestampValue),A=La(h.timestampValue);return E.seconds===A.seconds&&E.nanos===A.nanos}(u,r);case 5:return u.stringValue===r.stringValue;case 6:return h=r,hu(u.bytesValue).isEqual(hu(h.bytesValue));case 7:return u.referenceValue===r.referenceValue;case 8:return function(c,h){return oi(c.geoPointValue.latitude)===oi(h.geoPointValue.latitude)&&oi(c.geoPointValue.longitude)===oi(h.geoPointValue.longitude)}(u,r);case 2:return function(c,h){if("integerValue"in c&&"integerValue"in h)return oi(c.integerValue)===oi(h.integerValue);if("doubleValue"in c&&"doubleValue"in h){const E=oi(c.doubleValue),A=oi(h.doubleValue);return E===A?Qo(E)===Qo(A):isNaN(E)&&isNaN(A)}return!1}(u,r);case 9:return jo(u.arrayValue.values||[],r.arrayValue.values||[],co);case 10:return function(c,h){const E=c.mapValue.fields||{},A=h.mapValue.fields||{};if(Fa(E)!==Fa(A))return!1;for(const B in E)if(E.hasOwnProperty(B)&&(void 0===A[B]||!co(E[B],A[B])))return!1;return!0}(u,r);default:return qt()}var h}function $u(u,r){return void 0!==(u.values||[]).find(a=>co(a,r))}function eu(u,r){const a=bo(u),c=bo(r);if(a!==c)return Xn(a,c);switch(a){case 0:return 0;case 1:return Xn(u.booleanValue,r.booleanValue);case 2:return function(h,E){const A=oi(h.integerValue||h.doubleValue),B=oi(E.integerValue||E.doubleValue);return A<B?-1:A>B?1:A===B?0:isNaN(A)?isNaN(B)?0:-1:1}(u,r);case 3:return Is(u.timestampValue,r.timestampValue);case 4:return Is(fu(u),fu(r));case 5:return Xn(u.stringValue,r.stringValue);case 6:return function(h,E){const A=hu(h),B=hu(E);return A.compareTo(B)}(u.bytesValue,r.bytesValue);case 7:return function(h,E){const A=h.split("/"),B=E.split("/");for(let Z=0;Z<A.length&&Z<B.length;Z++){const ve=Xn(A[Z],B[Z]);if(0!==ve)return ve}return Xn(A.length,B.length)}(u.referenceValue,r.referenceValue);case 8:return function(h,E){const A=Xn(oi(h.latitude),oi(E.latitude));return 0!==A?A:Xn(oi(h.longitude),oi(E.longitude))}(u.geoPointValue,r.geoPointValue);case 9:return function(h,E){const A=h.values||[],B=E.values||[];for(let Z=0;Z<A.length&&Z<B.length;++Z){const ve=eu(A[Z],B[Z]);if(ve)return ve}return Xn(A.length,B.length)}(u.arrayValue,r.arrayValue);case 10:return function(h,E){const A=h.fields||{},B=Object.keys(A),Z=E.fields||{},ve=Object.keys(Z);B.sort(),ve.sort();for(let Ie=0;Ie<B.length&&Ie<ve.length;++Ie){const Fe=Xn(B[Ie],ve[Ie]);if(0!==Fe)return Fe;const ot=eu(A[B[Ie]],Z[ve[Ie]]);if(0!==ot)return ot}return Xn(B.length,ve.length)}(u.mapValue,r.mapValue);default:throw qt()}}function Is(u,r){if("string"==typeof u&&"string"==typeof r&&u.length===r.length)return Xn(u,r);const a=La(u),c=La(r),h=Xn(a.seconds,c.seconds);return 0!==h?h:Xn(a.nanos,c.nanos)}function Zs(u){return gu(u)}function gu(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(c){const h=La(c);return`time(${h.seconds},${h.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?hu(u.bytesValue).toBase64():"referenceValue"in u?Ft.fromName(u.referenceValue).toString():"geoPointValue"in u?`geo(${(r=u.geoPointValue).latitude},${r.longitude})`:"arrayValue"in u?function(c){let h="[",E=!0;for(const A of c.values||[])E?E=!1:h+=",",h+=gu(A);return h+"]"}(u.arrayValue):"mapValue"in u?function(c){const h=Object.keys(c.fields||{}).sort();let E="{",A=!0;for(const B of h)A?A=!1:E+=",",E+=`${B}:${gu(c.fields[B])}`;return E+"}"}(u.mapValue):qt();var r}function ya(u,r){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${r.path.canonicalString()}`}}function wo(u){return!!u&&"integerValue"in u}function Ul(u){return!!u&&"arrayValue"in u}function R(u){return!!u&&"nullValue"in u}function v(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function _(u){return!!u&&"mapValue"in u}function T(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const r={mapValue:{fields:{}}};return du(u.mapValue.fields,(a,c)=>r.mapValue.fields[a]=T(c)),r}if(u.arrayValue){const r={arrayValue:{values:[]}};for(let a=0;a<(u.arrayValue.values||[]).length;++a)r.arrayValue.values[a]=T(u.arrayValue.values[a]);return r}return Object.assign({},u)}class ${constructor(r){this.value=r}static empty(){return new $({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let a=this.value;for(let c=0;c<r.length-1;++c)if(a=(a.mapValue.fields||{})[r.get(c)],!_(a))return null;return a=(a.mapValue.fields||{})[r.lastSegment()],a||null}}set(r,a){this.getFieldsMap(r.popLast())[r.lastSegment()]=T(a)}setAll(r){let a=lr.emptyPath(),c={},h=[];r.forEach((A,B)=>{if(!a.isImmediateParentOf(B)){const Z=this.getFieldsMap(a);this.applyChanges(Z,c,h),c={},h=[],a=B.popLast()}A?c[B.lastSegment()]=T(A):h.push(B.lastSegment())});const E=this.getFieldsMap(a);this.applyChanges(E,c,h)}delete(r){const a=this.field(r.popLast());_(a)&&a.mapValue.fields&&delete a.mapValue.fields[r.lastSegment()]}isEqual(r){return co(this.value,r.value)}getFieldsMap(r){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let c=0;c<r.length;++c){let h=a.mapValue.fields[r.get(c)];_(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},a.mapValue.fields[r.get(c)]=h),a=h}return a.mapValue.fields}applyChanges(r,a,c){du(a,(h,E)=>r[h]=E);for(const h of c)delete r[h]}clone(){return new $(T(this.value))}}function J(u){const r=[];return du(u.fields,(a,c)=>{const h=new lr([a]);if(_(c)){const E=J(c.mapValue).fields;if(0===E.length)r.push(h);else for(const A of E)r.push(h.child(A))}else r.push(h)}),new Xa(r)}class me{constructor(r,a,c,h,E){this.key=r,this.documentType=a,this.version=c,this.data=h,this.documentState=E}static newInvalidDocument(r){return new me(r,0,zn.min(),$.empty(),0)}static newFoundDocument(r,a,c){return new me(r,1,a,c,0)}static newNoDocument(r,a){return new me(r,2,a,$.empty(),0)}static newUnknownDocument(r,a){return new me(r,3,a,$.empty(),2)}convertToFoundDocument(r,a){return this.version=r,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=$.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=$.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof me&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new me(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Se{constructor(r,a=null,c=[],h=[],E=null,A=null,B=null){this.path=r,this.collectionGroup=a,this.orderBy=c,this.filters=h,this.limit=E,this.startAt=A,this.endAt=B,this.A=null}}function je(u,r=null,a=[],c=[],h=null,E=null,A=null){return new Se(u,r,a,c,h,E,A)}function ut(u){const r=Mt(u);if(null===r.A){let a=r.path.canonicalString();null!==r.collectionGroup&&(a+="|cg:"+r.collectionGroup),a+="|f:",a+=r.filters.map(c=>function(u){return u.field.canonicalString()+u.op.toString()+Zs(u.value)}(c)).join(","),a+="|ob:",a+=r.orderBy.map(c=>{return(h=c).field.canonicalString()+h.dir;var h}).join(","),pu(r.limit)||(a+="|l:",a+=r.limit),r.startAt&&(a+="|lb:",a+=Ys(r.startAt)),r.endAt&&(a+="|ub:",a+=Ys(r.endAt)),r.A=a}return r.A}function nn(u,r){if(u.limit!==r.limit||u.orderBy.length!==r.orderBy.length)return!1;for(let h=0;h<u.orderBy.length;h++)if(!Jo(u.orderBy[h],r.orderBy[h]))return!1;if(u.filters.length!==r.filters.length)return!1;for(let h=0;h<u.filters.length;h++)if((a=u.filters[h]).op!==(c=r.filters[h]).op||!a.field.isEqual(c.field)||!co(a.value,c.value))return!1;var a,c;return u.collectionGroup===r.collectionGroup&&!!u.path.isEqual(r.path)&&!!Io(u.startAt,r.startAt)&&Io(u.endAt,r.endAt)}function Ln(u){return Ft.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}class Mn extends class{}{constructor(r,a,c){super(),this.field=r,this.op=a,this.value=c}static create(r,a,c){return r.isKeyField()?"in"===a||"not-in"===a?this.R(r,a,c):new Vn(r,a,c):"array-contains"===a?new Ai(r,c):"in"===a?new Gi(r,c):"not-in"===a?new Ho(r,c):"array-contains-any"===a?new Co(r,c):new Mn(r,a,c)}static R(r,a,c){return"in"===a?new or(r,c):new Jr(r,c)}matches(r){const a=r.data.field(this.field);return"!="===this.op?null!==a&&this.P(eu(a,this.value)):null!==a&&bo(this.value)===bo(a)&&this.P(eu(a,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return qt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Vn extends Mn{constructor(r,a,c){super(r,a,c),this.key=Ft.fromName(c.referenceValue)}matches(r){const a=Ft.comparator(r.key,this.key);return this.P(a)}}class or extends Mn{constructor(r,a){super(r,"in",a),this.keys=Si(0,a)}matches(r){return this.keys.some(a=>a.isEqual(r.key))}}class Jr extends Mn{constructor(r,a){super(r,"not-in",a),this.keys=Si(0,a)}matches(r){return!this.keys.some(a=>a.isEqual(r.key))}}function Si(u,r){var a;return((null===(a=r.arrayValue)||void 0===a?void 0:a.values)||[]).map(c=>Ft.fromName(c.referenceValue))}class Ai extends Mn{constructor(r,a){super(r,"array-contains",a)}matches(r){const a=r.data.field(this.field);return Ul(a)&&$u(a.arrayValue,this.value)}}class Gi extends Mn{constructor(r,a){super(r,"in",a)}matches(r){const a=r.data.field(this.field);return null!==a&&$u(this.value.arrayValue,a)}}class Ho extends Mn{constructor(r,a){super(r,"not-in",a)}matches(r){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=r.data.field(this.field);return null!==a&&!$u(this.value.arrayValue,a)}}class Co extends Mn{constructor(r,a){super(r,"array-contains-any",a)}matches(r){const a=r.data.field(this.field);return!(!Ul(a)||!a.arrayValue.values)&&a.arrayValue.values.some(c=>$u(this.value.arrayValue,c))}}class zi{constructor(r,a){this.position=r,this.before=a}}function Ys(u){return`${u.before?"b":"a"}:${u.position.map(r=>Zs(r)).join(",")}`}class Ki{constructor(r,a="asc"){this.field=r,this.dir=a}}function Jo(u,r){return u.dir===r.dir&&u.field.isEqual(r.field)}function mu(u,r,a){let c=0;for(let h=0;h<u.position.length;h++){const E=r[h],A=u.position[h];if(c=E.field.isKeyField()?Ft.comparator(Ft.fromName(A.referenceValue),a.key):eu(A,a.data.field(E.field)),"desc"===E.dir&&(c*=-1),0!==c)break}return u.before?c<=0:c<0}function Io(u,r){if(null===u)return null===r;if(null===r||u.before!==r.before||u.position.length!==r.position.length)return!1;for(let a=0;a<u.position.length;a++)if(!co(u.position[a],r.position[a]))return!1;return!0}class Ni{constructor(r,a=null,c=[],h=[],E=null,A="F",B=null,Z=null){this.path=r,this.collectionGroup=a,this.explicitOrderBy=c,this.filters=h,this.limit=E,this.limitType=A,this.startAt=B,this.endAt=Z,this.V=null,this.S=null}}function cl(u,r,a,c,h,E,A,B){return new Ni(u,r,a,c,h,E,A,B)}function Br(u){return new Ni(u)}function Jt(u){return!pu(u.limit)&&"F"===u.limitType}function fn(u){return!pu(u.limit)&&"L"===u.limitType}function _n(u){return u.explicitOrderBy.length>0?u.explicitOrderBy[0].field:null}function er(u){for(const r of u.filters)if(r.v())return r.field;return null}function Pi(u){return null!==u.collectionGroup}function Ds(u){const r=Mt(u);if(null===r.V){r.V=[];const a=er(r),c=_n(r);if(null!==a&&null===c)a.isKeyField()||r.V.push(new Ki(a)),r.V.push(new Ki(lr.keyField(),"asc"));else{let h=!1;for(const E of r.explicitOrderBy)r.V.push(E),E.field.isKeyField()&&(h=!0);if(!h){const E=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new Ki(lr.keyField(),E))}}}return r.V}function Xr(u){const r=Mt(u);if(!r.S)if("F"===r.limitType)r.S=je(r.path,r.collectionGroup,Ds(r),r.filters,r.limit,r.startAt,r.endAt);else{const a=[];for(const E of Ds(r))a.push(new Ki(E.field,"desc"===E.dir?"asc":"desc"));const c=r.endAt?new zi(r.endAt.position,!r.endAt.before):null,h=r.startAt?new zi(r.startAt.position,!r.startAt.before):null;r.S=je(r.path,r.collectionGroup,a,r.filters,r.limit,c,h)}return r.S}function Xo(u,r,a){return new Ni(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),r,a,u.startAt,u.endAt)}function Or(u,r){return nn(Xr(u),Xr(r))&&u.limitType===r.limitType}function ea(u){return`${ut(Xr(u))}|lt:${u.limitType}`}function Ts(u){return`Query(target=${function(u){let r=u.path.canonicalString();return null!==u.collectionGroup&&(r+=" collectionGroup="+u.collectionGroup),u.filters.length>0&&(r+=`, filters: [${u.filters.map(a=>{return`${(c=a).field.canonicalString()} ${c.op} ${Zs(c.value)}`;var c}).join(", ")}]`),pu(u.limit)||(r+=", limit: "+u.limit),u.orderBy.length>0&&(r+=`, orderBy: [${u.orderBy.map(a=>{return`${(c=a).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),u.startAt&&(r+=", startAt: "+Ys(u.startAt)),u.endAt&&(r+=", endAt: "+Ys(u.endAt)),`Target(${r})`}(Xr(u))}; limitType=${u.limitType})`}function Ss(u,r){return r.isFoundDocument()&&function(a,c){const h=c.key.path;return null!==a.collectionGroup?c.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Ft.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(u,r)&&function(a,c){for(const h of a.explicitOrderBy)if(!h.field.isKeyField()&&null===c.data.field(h.field))return!1;return!0}(u,r)&&function(a,c){for(const h of a.filters)if(!h.matches(c))return!1;return!0}(u,r)&&(c=r,!((a=u).startAt&&!mu(a.startAt,Ds(a),c)||a.endAt&&mu(a.endAt,Ds(a),c)));var a,c}function ka(u){return(r,a)=>{let c=!1;for(const h of Ds(u)){const E=Va(h,r,a);if(0!==E)return E;c=c||h.field.isKeyField()}return 0}}function Va(u,r,a){const c=u.field.isKeyField()?Ft.comparator(r.key,a.key):function(h,E,A){const B=E.data.field(h),Z=A.data.field(h);return null!==B&&null!==Z?eu(B,Z):qt()}(u.field,r,a);switch(u.dir){case"asc":return c;case"desc":return-1*c;default:return qt()}}function yu(u,r){if(u.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qo(r)?"-0":r}}function Bl(u){return{integerValue:""+u}}function ld(u,r){return Hu(r)?Bl(r):yu(u,r)}class Ic{constructor(){this._=void 0}}function $f(u,r,a){return u instanceof _u?function(c,h){const E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return h&&(E.fields.__previous_value__=h),{mapValue:E}}(a,r):u instanceof fl?cd(u,r):u instanceof Wu?Wf(u,r):function(c,h){const E=hl(c,h),A=dd(E)+dd(c.C);return wo(E)&&wo(c.C)?Bl(A):yu(c.N,A)}(u,r)}function dl(u,r,a){return u instanceof fl?cd(u,r):u instanceof Wu?Wf(u,r):a}function hl(u,r){return u instanceof pl?wo(a=r)||(c=a)&&"doubleValue"in c?r:{integerValue:0}:null;var c,a}class _u extends Ic{}class fl extends Ic{constructor(r){super(),this.elements=r}}function cd(u,r){const a=dh(r);for(const c of u.elements)a.some(h=>co(h,c))||a.push(c);return{arrayValue:{values:a}}}class Wu extends Ic{constructor(r){super(),this.elements=r}}function Wf(u,r){let a=dh(r);for(const c of u.elements)a=a.filter(h=>!co(h,c));return{arrayValue:{values:a}}}class pl extends Ic{constructor(r,a){super(),this.N=r,this.C=a}}function dd(u){return oi(u.integerValue||u.doubleValue)}function dh(u){return Ul(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class vu{constructor(r,a){this.field=r,this.transform=a}}class gl{constructor(r,a){this.version=r,this.transformResults=a}}class Fi{constructor(r,a){this.updateTime=r,this.exists=a}static none(){return new Fi}static exists(r){return new Fi(void 0,r)}static updateTime(r){return new Fi(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function Dc(u,r){return void 0!==u.updateTime?r.isFoundDocument()&&r.version.isEqual(u.updateTime):void 0===u.exists||u.exists===r.isFoundDocument()}class jl{}function Tc(u,r,a){u instanceof _a?function(c,h,E){const A=c.value.clone(),B=ph(c.fieldTransforms,h,E.transformResults);A.setAll(B),h.convertToFoundDocument(E.version,A).setHasCommittedMutations()}(u,r,a):u instanceof Eu?function(c,h,E){if(!Dc(c.precondition,h))return void h.convertToUnknownDocument(E.version);const A=ph(c.fieldTransforms,h,E.transformResults),B=h.data;B.setAll(fh(c)),B.setAll(A),h.convertToFoundDocument(E.version,B).setHasCommittedMutations()}(u,r,a):r.convertToNoDocument(a.version).setHasCommittedMutations()}function ml(u,r,a){var h;u instanceof _a?function(c,h,E){if(!Dc(c.precondition,h))return;const A=c.value.clone(),B=gh(c.fieldTransforms,E,h);A.setAll(B),h.convertToFoundDocument(fd(h),A).setHasLocalMutations()}(u,r,a):u instanceof Eu?function(c,h,E){if(!Dc(c.precondition,h))return;const A=gh(c.fieldTransforms,E,h),B=h.data;B.setAll(fh(c)),B.setAll(A),h.convertToFoundDocument(fd(h),B).setHasLocalMutations()}(u,r,a):Dc(u.precondition,h=r)&&h.convertToNoDocument(zn.min())}function hh(u,r){let a=null;for(const c of u.fieldTransforms){const h=r.data.field(c.field),E=hl(c.transform,h||null);null!=E&&(null==a&&(a=$.empty()),a.set(c.field,E))}return a||null}function Hl(u,r){return u.type===r.type&&!!u.key.isEqual(r.key)&&!!u.precondition.isEqual(r.precondition)&&(c=r.fieldTransforms,!!(void 0===(a=u.fieldTransforms)&&void 0===c||a&&c&&jo(a,c,(h,E)=>function(u,r){return u.field.isEqual(r.field)&&(c=r.transform,(a=u.transform)instanceof fl&&c instanceof fl||a instanceof Wu&&c instanceof Wu?jo(a.elements,c.elements,co):a instanceof pl&&c instanceof pl?co(a.C,c.C):a instanceof _u&&c instanceof _u);var a,c}(h,E))))&&(0===u.type?u.value.isEqual(r.value):1!==u.type||u.data.isEqual(r.data)&&u.fieldMask.isEqual(r.fieldMask));var a,c}function fd(u){return u.isFoundDocument()?u.version:zn.min()}class _a extends jl{constructor(r,a,c,h=[]){super(),this.key=r,this.value=a,this.precondition=c,this.fieldTransforms=h,this.type=0}}class Eu extends jl{constructor(r,a,c,h,E=[]){super(),this.key=r,this.data=a,this.fieldMask=c,this.precondition=h,this.fieldTransforms=E,this.type=1}}function fh(u){const r=new Map;return u.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const c=u.data.field(a);r.set(a,c)}}),r}function ph(u,r,a){const c=new Map;cn(u.length===a.length);for(let h=0;h<a.length;h++){const E=u[h],A=E.transform,B=r.data.field(E.field);c.set(E.field,dl(A,B,a[h]))}return c}function gh(u,r,a){const c=new Map;for(const h of u){const E=h.transform,A=a.data.field(h.field);c.set(h.field,$f(E,A,r))}return c}class Sc extends jl{constructor(r,a){super(),this.key=r,this.precondition=a,this.type=2,this.fieldTransforms=[]}}class ks extends jl{constructor(r,a){super(),this.key=r,this.precondition=a,this.type=3,this.fieldTransforms=[]}}class yl{constructor(r){this.count=r}}var qi,_r;function mh(u){switch(u){case it.OK:return qt();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return qt()}}function Ac(u){if(void 0===u)return ln("GRPC error has no .code"),it.UNKNOWN;switch(u){case qi.OK:return it.OK;case qi.CANCELLED:return it.CANCELLED;case qi.UNKNOWN:return it.UNKNOWN;case qi.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case qi.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case qi.INTERNAL:return it.INTERNAL;case qi.UNAVAILABLE:return it.UNAVAILABLE;case qi.UNAUTHENTICATED:return it.UNAUTHENTICATED;case qi.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case qi.NOT_FOUND:return it.NOT_FOUND;case qi.ALREADY_EXISTS:return it.ALREADY_EXISTS;case qi.PERMISSION_DENIED:return it.PERMISSION_DENIED;case qi.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case qi.ABORTED:return it.ABORTED;case qi.OUT_OF_RANGE:return it.OUT_OF_RANGE;case qi.UNIMPLEMENTED:return it.UNIMPLEMENTED;case qi.DATA_LOSS:return it.DATA_LOSS;default:return qt()}}(_r=qi||(qi={}))[_r.OK=0]="OK",_r[_r.CANCELLED=1]="CANCELLED",_r[_r.UNKNOWN=2]="UNKNOWN",_r[_r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_r[_r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_r[_r.NOT_FOUND=5]="NOT_FOUND",_r[_r.ALREADY_EXISTS=6]="ALREADY_EXISTS",_r[_r.PERMISSION_DENIED=7]="PERMISSION_DENIED",_r[_r.UNAUTHENTICATED=16]="UNAUTHENTICATED",_r[_r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_r[_r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_r[_r.ABORTED=10]="ABORTED",_r[_r.OUT_OF_RANGE=11]="OUT_OF_RANGE",_r[_r.UNIMPLEMENTED=12]="UNIMPLEMENTED",_r[_r.INTERNAL=13]="INTERNAL",_r[_r.UNAVAILABLE=14]="UNAVAILABLE",_r[_r.DATA_LOSS=15]="DATA_LOSS";class us{constructor(r,a){this.comparator=r,this.root=a||es.EMPTY}insert(r,a){return new us(this.comparator,this.root.insert(r,a,this.comparator).copy(null,null,es.BLACK,null,null))}remove(r){return new us(this.comparator,this.root.remove(r,this.comparator).copy(null,null,es.BLACK,null,null))}get(r){let a=this.root;for(;!a.isEmpty();){const c=this.comparator(r,a.key);if(0===c)return a.value;c<0?a=a.left:c>0&&(a=a.right)}return null}indexOf(r){let a=0,c=this.root;for(;!c.isEmpty();){const h=this.comparator(r,c.key);if(0===h)return a+c.left.size;h<0?c=c.left:(a+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((a,c)=>(r(a,c),!1))}toString(){const r=[];return this.inorderTraversal((a,c)=>(r.push(`${a}:${c}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new xc(this.root,r,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new xc(this.root,r,this.comparator,!0)}}class xc{constructor(r,a,c,h){this.isReverse=h,this.nodeStack=[];let E=1;for(;!r.isEmpty();)if(E=a?c(r.key,a):1,h&&(E*=-1),E<0)r=this.isReverse?r.left:r.right;else{if(0===E){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const a={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class es{constructor(r,a,c,h,E){this.key=r,this.value=a,this.color=null!=c?c:es.RED,this.left=null!=h?h:es.EMPTY,this.right=null!=E?E:es.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,a,c,h,E){return new es(null!=r?r:this.key,null!=a?a:this.value,null!=c?c:this.color,null!=h?h:this.left,null!=E?E:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,a,c){let h=this;const E=c(r,h.key);return h=E<0?h.copy(null,null,null,h.left.insert(r,a,c),null):0===E?h.copy(null,a,null,null,null):h.copy(null,null,null,null,h.right.insert(r,a,c)),h.fixUp()}removeMin(){if(this.left.isEmpty())return es.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,a){let c,h=this;if(a(r,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(r,a),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===a(r,h.key)){if(h.right.isEmpty())return es.EMPTY;c=h.right.min(),h=h.copy(c.key,c.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(r,a))}return h.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,es.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,a)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qt();const r=this.left.check();if(r!==this.right.check())throw qt();return r+(this.isRed()?0:1)}}es.EMPTY=null,es.RED=!0,es.BLACK=!1,es.EMPTY=new class{constructor(){this.size=0}get key(){throw qt()}get value(){throw qt()}get color(){throw qt()}get left(){throw qt()}get right(){throw qt()}copy(u,r,a,c,h){return this}insert(u,r,a){return new es(u,r)}remove(u,r){return this}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Li{constructor(r){this.comparator=r,this.data=new us(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((a,c)=>(r(a),!1))}forEachInRange(r,a){const c=this.data.getIteratorFrom(r[0]);for(;c.hasNext();){const h=c.getNext();if(this.comparator(h.key,r[1])>=0)return;a(h.key)}}forEachWhile(r,a){let c;for(c=void 0!==a?this.data.getIteratorFrom(a):this.data.getIterator();c.hasNext();)if(!r(c.getNext().key))return}firstAfterOrEqual(r){const a=this.data.getIteratorFrom(r);return a.hasNext()?a.getNext().key:null}getIterator(){return new yh(this.data.getIterator())}getIteratorFrom(r){return new yh(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let a=this;return a.size<r.size&&(a=r,r=this),r.forEach(c=>{a=a.add(c)}),a}isEqual(r){if(!(r instanceof Li)||this.size!==r.size)return!1;const a=this.data.getIterator(),c=r.data.getIterator();for(;a.hasNext();){const h=a.getNext().key,E=c.getNext().key;if(0!==this.comparator(h,E))return!1}return!0}toArray(){const r=[];return this.forEach(a=>{r.push(a)}),r}toString(){const r=[];return this.forEach(a=>r.push(a)),"SortedSet("+r.toString()+")"}copy(r){const a=new Li(this.comparator);return a.data=r,a}}class yh{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const pd=new us(Ft.comparator);function ta(){return pd}const sm=new us(Ft.comparator);function gd(){return sm}const $l=new us(Ft.comparator);function md(){return $l}const va=new Li(Ft.comparator);function Cr(...u){let r=va;for(const a of u)r=r.add(a);return r}const _h=new Li(Xn);function Wl(){return _h}class bu{constructor(r,a,c,h,E){this.snapshotVersion=r,this.targetChanges=a,this.targetMismatches=c,this.documentUpdates=h,this.resolvedLimboDocuments=E}static createSynthesizedRemoteEventForCurrentChange(r,a){const c=new Map;return c.set(r,_l.createSynthesizedTargetChangeForCurrentChange(r,a)),new bu(zn.min(),c,Wl(),ta(),Cr())}}class _l{constructor(r,a,c,h,E){this.resumeToken=r,this.current=a,this.addedDocuments=c,this.modifiedDocuments=h,this.removedDocuments=E}static createSynthesizedTargetChangeForCurrentChange(r,a){return new _l(as.EMPTY_BYTE_STRING,a,Cr(),Cr(),Cr())}}class yd{constructor(r,a,c,h){this.k=r,this.removedTargetIds=a,this.key=c,this.$=h}}class Gf{constructor(r,a){this.targetId=r,this.O=a}}class Gu{constructor(r,a,c=as.EMPTY_BYTE_STRING,h=null){this.state=r,this.targetIds=a,this.resumeToken=c,this.cause=h}}class Oc{constructor(){this.F=0,this.M=vh(),this.L=as.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=Cr(),a=Cr(),c=Cr();return this.M.forEach((h,E)=>{switch(E){case 0:r=r.add(h);break;case 2:a=a.add(h);break;case 1:c=c.add(h);break;default:qt()}}),new _l(this.L,this.B,r,a,c)}G(){this.U=!1,this.M=vh()}H(r,a){this.U=!0,this.M=this.M.insert(r,a)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class _d{constructor(r){this.tt=r,this.et=new Map,this.nt=ta(),this.st=zf(),this.it=new Li(Xn)}rt(r){for(const a of r.k)r.$&&r.$.isFoundDocument()?this.ot(a,r.$):this.at(a,r.key,r.$);for(const a of r.removedTargetIds)this.at(a,r.key,r.$)}ct(r){this.forEachTarget(r,a=>{const c=this.ut(a);switch(r.state){case 0:this.ht(a)&&c.j(r.resumeToken);break;case 1:c.X(),c.q||c.G(),c.j(r.resumeToken);break;case 2:c.X(),c.q||this.removeTarget(a);break;case 3:this.ht(a)&&(c.Z(),c.j(r.resumeToken));break;case 4:this.ht(a)&&(this.lt(a),c.j(r.resumeToken));break;default:qt()}})}forEachTarget(r,a){r.targetIds.length>0?r.targetIds.forEach(a):this.et.forEach((c,h)=>{this.ht(h)&&a(h)})}ft(r){const a=r.targetId,c=r.O.count,h=this.dt(a);if(h){const E=h.target;if(Ln(E))if(0===c){const A=new Ft(E.path);this.at(a,A,me.newNoDocument(A,zn.min()))}else cn(1===c);else this.wt(a)!==c&&(this.lt(a),this.it=this.it.add(a))}}_t(r){const a=new Map;this.et.forEach((E,A)=>{const B=this.dt(A);if(B){if(E.current&&Ln(B.target)){const Z=new Ft(B.target.path);null!==this.nt.get(Z)||this.gt(A,Z)||this.at(A,Z,me.newNoDocument(Z,r))}E.K&&(a.set(A,E.W()),E.G())}});let c=Cr();this.st.forEach((E,A)=>{let B=!0;A.forEachWhile(Z=>{const ve=this.dt(Z);return!ve||2===ve.purpose||(B=!1,!1)}),B&&(c=c.add(E))});const h=new bu(r,a,this.it,this.nt,c);return this.nt=ta(),this.st=zf(),this.it=new Li(Xn),h}ot(r,a){if(!this.ht(r))return;const c=this.gt(r,a.key)?2:0;this.ut(r).H(a.key,c),this.nt=this.nt.insert(a.key,a),this.st=this.st.insert(a.key,this.yt(a.key).add(r))}at(r,a,c){if(!this.ht(r))return;const h=this.ut(r);this.gt(r,a)?h.H(a,1):h.J(a),this.st=this.st.insert(a,this.yt(a).delete(r)),c&&(this.nt=this.nt.insert(a,c))}removeTarget(r){this.et.delete(r)}wt(r){const a=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+a.addedDocuments.size-a.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let a=this.et.get(r);return a||(a=new Oc,this.et.set(r,a)),a}yt(r){let a=this.st.get(r);return a||(a=new Li(Xn),this.st=this.st.insert(r,a)),a}ht(r){const a=null!==this.dt(r);return a||yt("WatchChangeAggregator","Detected inactive target",r),a}dt(r){const a=this.et.get(r);return a&&a.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new Oc),this.tt.getRemoteKeysForTarget(r).forEach(a=>{this.at(r,a,null)})}gt(r,a){return this.tt.getRemoteKeysForTarget(r).has(a)}}function zf(){return new us(Ft.comparator)}function vh(){return new us(Ft.comparator)}const Eh={asc:"ASCENDING",desc:"DESCENDING"},Kf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class qf{constructor(r,a){this.databaseId=r,this.D=a}}function Gl(u,r){return u.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function zl(u,r){return u.D?r.toBase64():r.toUint8Array()}function bh(u,r){return Gl(u,r.toTimestamp())}function ki(u){return cn(!!u),zn.fromTimestamp(function(r){const a=La(r);return new Qr(a.seconds,a.nanos)}(u))}function Mc(u,r){return(a=u,new wr(["projects",a.projectId,"databases",a.database])).child("documents").child(r).canonicalString();var a}function Rc(u){const r=wr.fromString(u);return cn(wd(r)),r}function Kl(u,r){return Mc(u.databaseId,r.path)}function Fr(u,r){const a=Rc(r);if(a.get(1)!==u.databaseId.projectId)throw new Dt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+u.databaseId.projectId);if(a.get(3)!==u.databaseId.database)throw new Dt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+u.databaseId.database);return new Ft(Fc(a))}function Nc(u,r){return Mc(u.databaseId,r)}function Pc(u){const r=Rc(u);return 4===r.length?wr.emptyPath():Fc(r)}function tu(u){return new wr(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function Fc(u){return cn(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function wh(u,r,a){return{name:Kl(u,r),fields:a.value.mapValue.fields}}function Lc(u,r,a){const c=Fr(u,r.name),h=ki(r.updateTime),E=new $({mapValue:{fields:r.fields}}),A=me.newFoundDocument(c,h,E);return a&&A.setHasCommittedMutations(),a?A.setHasCommittedMutations():A}function Zl(u,r){let a;if(r instanceof _a)a={update:wh(u,r.key,r.value)};else if(r instanceof Sc)a={delete:Kl(u,r.key)};else if(r instanceof Eu)a={update:wh(u,r.key,r.data),updateMask:bd(r.fieldMask)};else{if(!(r instanceof ks))return qt();a={verify:Kl(u,r.key)}}return r.fieldTransforms.length>0&&(a.updateTransforms=r.fieldTransforms.map(c=>function(h,E){const A=E.transform;if(A instanceof _u)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof fl)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof Wu)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof pl)return{fieldPath:E.field.canonicalString(),increment:A.C};throw qt()}(0,c))),r.precondition.isNone||(a.currentDocument=void 0!==(h=r.precondition).updateTime?{updateTime:bh(u,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:qt()),a;var h}function Zf(u,r){const a=r.currentDocument?void 0!==(h=r.currentDocument).updateTime?Fi.updateTime(ki(h.updateTime)):void 0!==h.exists?Fi.exists(h.exists):Fi.none():Fi.none(),c=r.updateTransforms?r.updateTransforms.map(h=>function(E,A){let B=null;"setToServerValue"in A?(cn("REQUEST_TIME"===A.setToServerValue),B=new _u):"appendMissingElements"in A?B=new fl(A.appendMissingElements.values||[]):"removeAllFromArray"in A?B=new Wu(A.removeAllFromArray.values||[]):"increment"in A?B=new pl(E,A.increment):qt();const Z=lr.fromServerFormat(A.fieldPath);return new vu(Z,B)}(u,h)):[];var h;if(r.update){const h=Fr(u,r.update.name),E=new $({mapValue:{fields:r.update.fields}});if(r.updateMask){const A=new Xa((r.updateMask.fieldPaths||[]).map(ve=>lr.fromServerFormat(ve)));return new Eu(h,E,A,a,c)}return new _a(h,E,a,c)}if(r.delete){const h=Fr(u,r.delete);return new Sc(h,a)}if(r.verify){const h=Fr(u,r.verify);return new ks(h,a)}return qt()}function wu(u,r){return{documents:[Nc(u,r.path)]}}function Qs(u,r){const a={structuredQuery:{}},c=r.path;null!==r.collectionGroup?(a.parent=Nc(u,c),a.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(a.parent=Nc(u,c.popLast()),a.structuredQuery.from=[{collectionId:c.lastSegment()}]);const h=function(B){if(0===B.length)return;const Z=B.map(ve=>function(Ie){if("=="===Ie.op){if(v(Ie.value))return{unaryFilter:{field:zu(Ie.field),op:"IS_NAN"}};if(R(Ie.value))return{unaryFilter:{field:zu(Ie.field),op:"IS_NULL"}}}else if("!="===Ie.op){if(v(Ie.value))return{unaryFilter:{field:zu(Ie.field),op:"IS_NOT_NAN"}};if(R(Ie.value))return{unaryFilter:{field:zu(Ie.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zu(Ie.field),op:Yf(Ie.op),value:Ie.value}}}(ve));return 1===Z.length?Z[0]:{compositeFilter:{op:"AND",filters:Z}}}(r.filters);h&&(a.structuredQuery.where=h);const E=function(B){if(0!==B.length)return B.map(Z=>{return{field:zu((ve=Z).field),direction:vd(ve.dir)};var ve})}(r.orderBy);E&&(a.structuredQuery.orderBy=E);const A=(Z=r.limit,u.D||pu(Z)?Z:{value:Z});var Z;return null!==A&&(a.structuredQuery.limit=A),r.startAt&&(a.structuredQuery.startAt=As(r.startAt)),r.endAt&&(a.structuredQuery.endAt=As(r.endAt)),a}function Yl(u){let r=Pc(u.parent);const a=u.structuredQuery,c=a.from?a.from.length:0;let h=null;if(c>0){cn(1===c);const Ie=a.from[0];Ie.allDescendants?h=Ie.collectionId:r=r.child(Ie.collectionId)}let E=[];a.where&&(E=Ua(a.where));let A=[];a.orderBy&&(A=a.orderBy.map(Ie=>{return new Ki(ts((Fe=Ie).field),function(ot){switch(ot){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Fe.direction));var Fe}));let B=null;a.limit&&(B=function(Ie){let Fe;return Fe="object"==typeof Ie?Ie.value:Ie,pu(Fe)?null:Fe}(a.limit));let Z=null;a.startAt&&(Z=vl(a.startAt));let ve=null;return a.endAt&&(ve=vl(a.endAt)),cl(r,h,A,E,B,"F",Z,ve)}function Ua(u){return u?void 0!==u.unaryFilter?[kc(u)]:void 0!==u.fieldFilter?[Ed(u)]:void 0!==u.compositeFilter?u.compositeFilter.filters.map(r=>Ua(r)).reduce((r,a)=>r.concat(a)):qt():[]}function As(u){return{before:u.before,values:u.position}}function vl(u){return new zi(u.values||[],!!u.before)}function vd(u){return Eh[u]}function Yf(u){return Kf[u]}function zu(u){return{fieldPath:u.canonicalString()}}function ts(u){return lr.fromServerFormat(u.fieldPath)}function Ed(u){return Mn.create(ts(u.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return qt()}}(u.fieldFilter.op),u.fieldFilter.value)}function kc(u){switch(u.unaryFilter.op){case"IS_NAN":const r=ts(u.unaryFilter.field);return Mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=ts(u.unaryFilter.field);return Mn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ts(u.unaryFilter.field);return Mn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ts(u.unaryFilter.field);return Mn.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return qt()}}function bd(u){const r=[];return u.fields.forEach(a=>r.push(a.canonicalString())),{fieldPaths:r}}function wd(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}function ls(u){let r="";for(let a=0;a<u.length;a++)r.length>0&&(r=Cd(r)),r=Ql(u.get(a),r);return Cd(r)}function Ql(u,r){let a=r;const c=u.length;for(let h=0;h<c;h++){const E=u.charAt(h);switch(E){case"\0":a+="\x01\x10";break;case"\x01":a+="\x01\x11";break;default:a+=E}}return a}function Cd(u){return u+"\x01\x01"}function Ea(u){const r=u.length;if(cn(r>=2),2===r)return cn("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),wr.emptyPath();const a=r-2,c=[];let h="";for(let E=0;E<r;){const A=u.indexOf("\x01",E);switch((A<0||A>a)&&qt(),u.charAt(A+1)){case"\x01":const B=u.substring(E,A);let Z;0===h.length?Z=B:(h+=B,Z=h,h=""),c.push(Z);break;case"\x10":h+=u.substring(E,A),h+="\0";break;case"\x11":h+=u.substring(E,A+1);break;default:qt()}E=A+2}return new wr(c)}class Jl{constructor(r,a){this.seconds=r,this.nanoseconds=a}}class Do{constructor(r,a,c){this.ownerId=r,this.allowTabSynchronization=a,this.leaseTimestampMs=c}}Do.store="owner",Do.key="owner";class Cu{constructor(r,a,c){this.userId=r,this.lastAcknowledgedBatchId=a,this.lastStreamToken=c}}Cu.store="mutationQueues",Cu.keyPath="userId";class Ei{constructor(r,a,c,h,E){this.userId=r,this.batchId=a,this.localWriteTimeMs=c,this.baseMutations=h,this.mutations=E}}Ei.store="mutations",Ei.keyPath="batchId",Ei.userMutationsIndex="userMutationsIndex",Ei.userMutationsKeyPath=["userId","batchId"];class Vs{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,a){return[r,ls(a)]}static key(r,a,c){return[r,ls(a),c]}}Vs.store="documentMutations",Vs.PLACEHOLDER=new Vs;class C{constructor(r,a){this.path=r,this.readTime=a}}class g{constructor(r,a){this.path=r,this.version=a}}class m{constructor(r,a,c,h,E,A){this.unknownDocument=r,this.noDocument=a,this.document=c,this.hasCommittedMutations=h,this.readTime=E,this.parentPath=A}}m.store="remoteDocuments",m.readTimeIndex="readTimeIndex",m.readTimeIndexPath="readTime",m.collectionReadTimeIndex="collectionReadTimeIndex",m.collectionReadTimeIndexPath=["parentPath","readTime"];class S{constructor(r){this.byteSize=r}}S.store="remoteDocumentGlobal",S.key="remoteDocumentGlobalKey";class G{constructor(r,a,c,h,E,A,B){this.targetId=r,this.canonicalId=a,this.readTime=c,this.resumeToken=h,this.lastListenSequenceNumber=E,this.lastLimboFreeSnapshotVersion=A,this.query=B}}G.store="targets",G.keyPath="targetId",G.queryTargetsIndexName="queryTargetsIndex",G.queryTargetsKeyPath=["canonicalId","targetId"];class le{constructor(r,a,c){this.targetId=r,this.path=a,this.sequenceNumber=c}}le.store="targetDocuments",le.keyPath=["targetId","path"],le.documentTargetsIndex="documentTargetsIndex",le.documentTargetsKeyPath=["path","targetId"];class Le{constructor(r,a,c,h){this.highestTargetId=r,this.highestListenSequenceNumber=a,this.lastRemoteSnapshotVersion=c,this.targetCount=h}}Le.key="targetGlobalKey",Le.store="targetGlobal";class at{constructor(r,a){this.collectionId=r,this.parent=a}}at.store="collectionParents",at.keyPath=["collectionId","parent"];class Pt{constructor(r,a,c,h){this.clientId=r,this.updateTimeMs=a,this.networkEnabled=c,this.inForeground=h}}Pt.store="clientMetadata",Pt.keyPath="clientId";class tn{constructor(r,a,c){this.bundleId=r,this.createTime=a,this.version=c}}tn.store="bundles",tn.keyPath="bundleId";class un{constructor(r,a,c){this.name=r,this.readTime=a,this.bundledQuery=c}}un.store="namedQueries",un.keyPath="name";const Tn=[Cu.store,Ei.store,Vs.store,m.store,G.store,Do.store,Le.store,le.store,Pt.store,S.store,at.store,tn.store,un.store],ns="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class na{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class It{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(r){return this.next(void 0,r)}next(r,a){return this.callbackAttached&&qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(r,this.result):new It((c,h)=>{this.nextCallback=E=>{this.wrapSuccess(r,E).next(c,h)},this.catchCallback=E=>{this.wrapFailure(a,E).next(c,h)}})}toPromise(){return new Promise((r,a)=>{this.next(r,a)})}wrapUserFunction(r){try{const a=r();return a instanceof It?a:It.resolve(a)}catch(a){return It.reject(a)}}wrapSuccess(r,a){return r?this.wrapUserFunction(()=>r(a)):It.resolve(a)}wrapFailure(r,a){return r?this.wrapUserFunction(()=>r(a)):It.reject(a)}static resolve(r){return new It((a,c)=>{a(r)})}static reject(r){return new It((a,c)=>{c(r)})}static waitFor(r){return new It((a,c)=>{let h=0,E=0,A=!1;r.forEach(B=>{++h,B.next(()=>{++E,A&&E===h&&a()},Z=>c(Z))}),A=!0,E===h&&a()})}static or(r){let a=It.resolve(!1);for(const c of r)a=a.next(h=>h?It.resolve(h):c());return a}static forEach(r,a){const c=[];return r.forEach((h,E)=>{c.push(a.call(this,h,E))}),this.waitFor(c)}}class Vc{constructor(r,a){this.action=r,this.transaction=a,this.aborted=!1,this.Tt=new Xi,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{a.error?this.Tt.reject(new El(r,a.error)):this.Tt.resolve()},this.transaction.onerror=c=>{const h=Dd(c.target.error);this.Tt.reject(new El(r,h))}}static open(r,a,c,h){try{return new Vc(a,r.transaction(h,c))}catch(E){throw new El(a,E)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(yt("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const a=this.transaction.objectStore(r);return new Ku(a)}}class To{constructor(r,a,c){this.name=r,this.version=a,this.At=c,12.2===To.Rt((0,Ge.z$)())&&ln("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return yt("SimpleDb","Removing database:",r),Us(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(To.bt())return!0;const r=(0,Ge.z$)(),a=To.Rt(r),c=0<a&&a<10,h=To.vt(r),E=0<h&&h<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||c||E)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,a){return r.store(a)}static Rt(r){const a=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=a?a[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static vt(r){const a=r.match(/Android ([\d.]+)/i),c=a?a[1].split(".").slice(0,2).join("."):"-1";return Number(c)}Dt(r){var a=this;return(0,ye.Z)(function*(){return a.db||(yt("SimpleDb","Opening database:",a.name),a.db=yield new Promise((c,h)=>{const E=indexedDB.open(a.name,a.version);E.onsuccess=A=>{c(A.target.result)},E.onblocked=()=>{h(new El(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},E.onerror=A=>{const B=A.target.error;h("VersionError"===B.name?new Dt(it.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new El(r,B))},E.onupgradeneeded=A=>{yt("SimpleDb",'Database "'+a.name+'" requires upgrade from version:',A.oldVersion),a.At.Ct(A.target.result,E.transaction,A.oldVersion,a.version).next(()=>{yt("SimpleDb","Database upgrade to version "+a.version+" complete")})}})),a.Nt&&(a.db.onversionchange=c=>a.Nt(c)),a.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=a=>r(a))}runTransaction(r,a,c,h){var E=this;return(0,ye.Z)(function*(){const A="readonly"===a;let B=0;for(;;){++B;try{E.db=yield E.Dt(r);const Z=Vc.open(E.db,r,A?"readonly":"readwrite",c),ve=h(Z).catch(Ie=>(Z.abort(Ie),It.reject(Ie))).toPromise();return ve.catch(()=>{}),yield Z.It,ve}catch(Z){const ve="FirebaseError"!==Z.name&&B<3;if(yt("SimpleDb","Transaction failed with error:",Z.message,"Retrying:",ve),E.close(),!ve)return Promise.reject(Z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Dh{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return Us(this.kt.delete())}}class El extends Dt{constructor(r,a){super(it.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${a}`),this.name="IndexedDbTransactionError"}}function nu(u){return"IndexedDbTransactionError"===u.name}class Ku{constructor(r){this.store=r}put(r,a){let c;return void 0!==a?(yt("SimpleDb","PUT",this.store.name,r,a),c=this.store.put(a,r)):(yt("SimpleDb","PUT",this.store.name,"<auto-key>",r),c=this.store.put(r)),Us(c)}add(r){return yt("SimpleDb","ADD",this.store.name,r,r),Us(this.store.add(r))}get(r){return Us(this.store.get(r)).next(a=>(void 0===a&&(a=null),yt("SimpleDb","GET",this.store.name,r,a),a))}delete(r){return yt("SimpleDb","DELETE",this.store.name,r),Us(this.store.delete(r))}count(){return yt("SimpleDb","COUNT",this.store.name),Us(this.store.count())}Lt(r,a){const c=this.cursor(this.options(r,a)),h=[];return this.Bt(c,(E,A)=>{h.push(A)}).next(()=>h)}Ut(r,a){yt("SimpleDb","DELETE ALL",this.store.name);const c=this.options(r,a);c.qt=!1;const h=this.cursor(c);return this.Bt(h,(E,A,B)=>B.delete())}Kt(r,a){let c;a?c=r:(c={},a=r);const h=this.cursor(c);return this.Bt(h,a)}jt(r){const a=this.cursor({});return new It((c,h)=>{a.onerror=E=>{const A=Dd(E.target.error);h(A)},a.onsuccess=E=>{const A=E.target.result;A?r(A.primaryKey,A.value).next(B=>{B?A.continue():c()}):c()}})}Bt(r,a){const c=[];return new It((h,E)=>{r.onerror=A=>{E(A.target.error)},r.onsuccess=A=>{const B=A.target.result;if(!B)return void h();const Z=new Dh(B),ve=a(B.primaryKey,B.value,Z);if(ve instanceof It){const Ie=ve.catch(Fe=>(Z.done(),It.reject(Fe)));c.push(Ie)}Z.isDone?h():null===Z.Ft?B.continue():B.continue(Z.Ft)}}).next(()=>It.waitFor(c))}options(r,a){let c;return void 0!==r&&("string"==typeof r?c=r:a=r),{index:c,range:a}}cursor(r){let a="next";if(r.reverse&&(a="prev"),r.index){const c=this.store.index(r.index);return r.qt?c.openKeyCursor(r.range,a):c.openCursor(r.range,a)}return this.store.openCursor(r.range,a)}}function Us(u){return new It((r,a)=>{u.onsuccess=c=>{r(c.target.result)},u.onerror=c=>{const h=Dd(c.target.error);a(h)}})}let Id=!1;function Dd(u){const r=To.Rt((0,Ge.z$)());if(r>=12.2&&r<13){const a="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(a)>=0){const c=new Dt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${a}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Id||(Id=!0,setTimeout(()=>{throw c},0)),c}}return u}class Td extends na{constructor(r,a){super(),this.Qt=r,this.currentSequenceNumber=a}}function ho(u,r){const a=Mt(u);return To.St(a.Qt,r)}class ra{constructor(r,a,c,h){this.batchId=r,this.localWriteTime=a,this.baseMutations=c,this.mutations=h}applyToRemoteDocument(r,a){const c=a.mutationResults;for(let h=0;h<this.mutations.length;h++){const E=this.mutations[h];E.key.isEqual(r.key)&&Tc(E,r,c[h])}}applyToLocalView(r){for(const a of this.baseMutations)a.key.isEqual(r.key)&&ml(a,r,this.localWriteTime);for(const a of this.mutations)a.key.isEqual(r.key)&&ml(a,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(a=>{const c=r.get(a.key),h=c;this.applyToLocalView(h),c.isValidDocument()||h.convertToNoDocument(zn.min())})}keys(){return this.mutations.reduce((r,a)=>r.add(a.key),Cr())}isEqual(r){return this.batchId===r.batchId&&jo(this.mutations,r.mutations,(a,c)=>Hl(a,c))&&jo(this.baseMutations,r.baseMutations,(a,c)=>Hl(a,c))}}class Sd{constructor(r,a,c,h){this.batch=r,this.commitVersion=a,this.mutationResults=c,this.docVersions=h}static from(r,a,c){cn(r.mutations.length===c.length);let h=md();const E=r.mutations;for(let A=0;A<E.length;A++)h=h.insert(E[A].key,c[A].version);return new Sd(r,a,c,h)}}class Iu{constructor(r,a,c,h,E=zn.min(),A=zn.min(),B=as.EMPTY_BYTE_STRING){this.target=r,this.targetId=a,this.purpose=c,this.sequenceNumber=h,this.snapshotVersion=E,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=B}withSequenceNumber(r){return new Iu(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,a){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class om{constructor(r){this.Wt=r}}function Th(u,r){if(r.document)return Lc(u.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const a=Ft.fromSegments(r.noDocument.path),c=wl(r.noDocument.readTime),h=me.newNoDocument(a,c);return r.hasCommittedMutations?h.setHasCommittedMutations():h}if(r.unknownDocument){const a=Ft.fromSegments(r.unknownDocument.path),c=wl(r.unknownDocument.version);return me.newUnknownDocument(a,c)}return qt()}function Uc(u,r,a){const c=Sh(a),h=r.key.path.popLast().toArray();if(r.isFoundDocument()){const E={name:Kl(B=u.Wt,(Z=r).key),fields:Z.data.value.mapValue.fields,updateTime:Gl(B,Z.version.toTimestamp())};return new m(null,null,E,r.hasCommittedMutations,c,h)}var B,Z;if(r.isNoDocument()){const E=r.key.path.toArray(),A=bl(r.version),B=r.hasCommittedMutations;return new m(null,new C(E,A),null,B,c,h)}if(r.isUnknownDocument()){const E=r.key.path.toArray(),A=bl(r.version);return new m(new g(E,A),null,null,!0,c,h)}return qt()}function Sh(u){const r=u.toTimestamp();return[r.seconds,r.nanoseconds]}function Qf(u){const r=new Qr(u[0],u[1]);return zn.fromTimestamp(r)}function bl(u){const r=u.toTimestamp();return new Jl(r.seconds,r.nanoseconds)}function wl(u){const r=new Qr(u.seconds,u.nanoseconds);return zn.fromTimestamp(r)}function Xl(u,r){const a=(r.baseMutations||[]).map(E=>Zf(u.Wt,E));for(let E=0;E<r.mutations.length-1;++E){const A=r.mutations[E];E+1<r.mutations.length&&void 0!==r.mutations[E+1].transform&&(A.updateTransforms=r.mutations[E+1].transform.fieldTransforms,r.mutations.splice(E+1,1),++E)}const c=r.mutations.map(E=>Zf(u.Wt,E)),h=Qr.fromMillis(r.localWriteTimeMs);return new ra(r.batchId,h,a,c)}function Ah(u){const r=wl(u.readTime),a=void 0!==u.lastLimboFreeSnapshotVersion?wl(u.lastLimboFreeSnapshotVersion):zn.min();let c;var h;return void 0!==u.query.documents?(cn(1===(h=u.query).documents.length),c=Xr(Br(Pc(h.documents[0])))):c=Xr(Yl(u.query)),new Iu(c,u.targetId,0,u.lastListenSequenceNumber,r,a,as.fromBase64String(u.resumeToken))}function ec(u,r){const a=bl(r.snapshotVersion),c=bl(r.lastLimboFreeSnapshotVersion);let h;h=Ln(r.target)?wu(u.Wt,r.target):Qs(u.Wt,r.target);const E=r.resumeToken.toBase64();return new G(r.targetId,ut(r.target),a,E,r.sequenceNumber,c,h)}function Ad(u){const r=Yl({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?Xo(r,r.limit,"L"):r}class am{getBundleMetadata(r,a){return um(r).get(a).next(c=>{if(c)return{id:(h=c).bundleId,createTime:wl(h.createTime),version:h.version};var h})}saveBundleMetadata(r,a){return um(r).put({bundleId:(c=a).id,createTime:bl(ki(c.createTime)),version:c.version});var c}getNamedQuery(r,a){return xh(r).get(a).next(c=>{if(c)return{name:(h=c).name,query:Ad(h.bundledQuery),readTime:wl(h.readTime)};var h})}saveNamedQuery(r,a){return xh(r).put({name:(c=a).name,readTime:bl(ki(c.readTime)),bundledQuery:c.bundledQuery});var c}}function um(u){return ho(u,tn.store)}function xh(u){return ho(u,un.store)}class y_{constructor(){this.Gt=new Jf}addToCollectionParentIndex(r,a){return this.Gt.add(a),It.resolve()}getCollectionParents(r,a){return It.resolve(this.Gt.getEntries(a))}}class Jf{constructor(){this.index={}}add(r){const a=r.lastSegment(),c=r.popLast(),h=this.index[a]||new Li(wr.comparator),E=!h.has(c);return this.index[a]=h.add(c),E}has(r){const a=r.lastSegment(),c=r.popLast(),h=this.index[a];return h&&h.has(c)}getEntries(r){return(this.index[r]||new Li(wr.comparator)).toArray()}}class __{constructor(){this.zt=new Jf}addToCollectionParentIndex(r,a){if(!this.zt.has(a)){const c=a.lastSegment(),h=a.popLast();r.addOnCommittedListener(()=>{this.zt.add(a)});const E={collectionId:c,parent:ls(h)};return lm(r).put(E)}return It.resolve()}getCollectionParents(r,a){const c=[],h=IDBKeyRange.bound([a,""],[Pa(a),""],!1,!0);return lm(r).Lt(h).next(E=>{for(const A of E){if(A.collectionId!==a)break;c.push(Ea(A.parent))}return c})}}function lm(u){return ho(u,at.store)}const cm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ia{constructor(r,a,c){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=c}static withCacheSize(r){return new ia(r,ia.DEFAULT_COLLECTION_PERCENTILE,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xf(u,r,a){const c=u.store(Ei.store),h=u.store(Vs.store),E=[],A=IDBKeyRange.only(a.batchId);let B=0;const Z=c.Kt({range:A},(Ie,Fe,ot)=>(B++,ot.delete()));E.push(Z.next(()=>{cn(1===B)}));const ve=[];for(const Ie of a.mutations){const Fe=Vs.key(r,Ie.key.path,a.batchId);E.push(h.delete(Fe)),ve.push(Ie.key)}return It.waitFor(E).next(()=>ve)}function Bc(u){if(!u)return 0;let r;if(u.document)r=u.document;else if(u.unknownDocument)r=u.unknownDocument;else{if(!u.noDocument)throw qt();r=u.noDocument}return JSON.stringify(r).length}ia.DEFAULT_COLLECTION_PERCENTILE=10,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ia.DEFAULT=new ia(41943040,ia.DEFAULT_COLLECTION_PERCENTILE,ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ia.DISABLED=new ia(-1,0,0);class Oh{constructor(r,a,c,h){this.userId=r,this.N=a,this.Ht=c,this.referenceDelegate=h,this.Jt={}}static Yt(r,a,c,h){cn(""!==r.uid);const E=r.isAuthenticated()?r.uid:"";return new Oh(E,a,c,h)}checkEmpty(r){let a=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cl(r).Kt({index:Ei.userMutationsIndex,range:c},(h,E,A)=>{a=!1,A.done()}).next(()=>a)}addMutationBatch(r,a,c,h){const E=jc(r),A=Cl(r);return A.add({}).next(B=>{cn("number"==typeof B);const Z=new ra(B,a,c,h),ve=function(ot,vt,kt){const pn=kt.baseMutations.map(xi=>Zl(ot.Wt,xi)),Zn=kt.mutations.map(xi=>Zl(ot.Wt,xi));return new Ei(vt,kt.batchId,kt.localWriteTime.toMillis(),pn,Zn)}(this.N,this.userId,Z),Ie=[];let Fe=new Li((ot,vt)=>Xn(ot.canonicalString(),vt.canonicalString()));for(const ot of h){const vt=Vs.key(this.userId,ot.key.path,B);Fe=Fe.add(ot.key.path.popLast()),Ie.push(A.put(ve)),Ie.push(E.put(vt,Vs.PLACEHOLDER))}return Fe.forEach(ot=>{Ie.push(this.Ht.addToCollectionParentIndex(r,ot))}),r.addOnCommittedListener(()=>{this.Jt[B]=Z.keys()}),It.waitFor(Ie).next(()=>Z)})}lookupMutationBatch(r,a){return Cl(r).get(a).next(c=>c?(cn(c.userId===this.userId),Xl(this.N,c)):null)}Xt(r,a){return this.Jt[a]?It.resolve(this.Jt[a]):this.lookupMutationBatch(r,a).next(c=>{if(c){const h=c.keys();return this.Jt[a]=h,h}return null})}getNextMutationBatchAfterBatchId(r,a){const c=a+1,h=IDBKeyRange.lowerBound([this.userId,c]);let E=null;return Cl(r).Kt({index:Ei.userMutationsIndex,range:h},(A,B,Z)=>{B.userId===this.userId&&(cn(B.batchId>=c),E=Xl(this.N,B)),Z.done()}).next(()=>E)}getHighestUnacknowledgedBatchId(r){const a=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return Cl(r).Kt({index:Ei.userMutationsIndex,range:a,reverse:!0},(h,E,A)=>{c=E.batchId,A.done()}).next(()=>c)}getAllMutationBatches(r){const a=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cl(r).Lt(Ei.userMutationsIndex,a).next(c=>c.map(h=>Xl(this.N,h)))}getAllMutationBatchesAffectingDocumentKey(r,a){const c=Vs.prefixForPath(this.userId,a.path),h=IDBKeyRange.lowerBound(c),E=[];return jc(r).Kt({range:h},(A,B,Z)=>{const[ve,Ie,Fe]=A,ot=Ea(Ie);if(ve===this.userId&&a.path.isEqual(ot))return Cl(r).get(Fe).next(vt=>{if(!vt)throw qt();cn(vt.userId===this.userId),E.push(Xl(this.N,vt))});Z.done()}).next(()=>E)}getAllMutationBatchesAffectingDocumentKeys(r,a){let c=new Li(Xn);const h=[];return a.forEach(E=>{const A=Vs.prefixForPath(this.userId,E.path),B=IDBKeyRange.lowerBound(A),Z=jc(r).Kt({range:B},(ve,Ie,Fe)=>{const[ot,vt,kt]=ve,pn=Ea(vt);ot===this.userId&&E.path.isEqual(pn)?c=c.add(kt):Fe.done()});h.push(Z)}),It.waitFor(h).next(()=>this.Zt(r,c))}getAllMutationBatchesAffectingQuery(r,a){const c=a.path,h=c.length+1,E=Vs.prefixForPath(this.userId,c),A=IDBKeyRange.lowerBound(E);let B=new Li(Xn);return jc(r).Kt({range:A},(Z,ve,Ie)=>{const[Fe,ot,vt]=Z,kt=Ea(ot);Fe===this.userId&&c.isPrefixOf(kt)?kt.length===h&&(B=B.add(vt)):Ie.done()}).next(()=>this.Zt(r,B))}Zt(r,a){const c=[],h=[];return a.forEach(E=>{h.push(Cl(r).get(E).next(A=>{if(null===A)throw qt();cn(A.userId===this.userId),c.push(Xl(this.N,A))}))}),It.waitFor(h).next(()=>c)}removeMutationBatch(r,a){return Xf(r.Qt,this.userId,a).next(c=>(r.addOnCommittedListener(()=>{this.te(a.batchId)}),It.forEach(c,h=>this.referenceDelegate.markPotentiallyOrphaned(r,h))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(a=>{if(!a)return It.resolve();const c=IDBKeyRange.lowerBound(Vs.prefixForUser(this.userId)),h=[];return jc(r).Kt({range:c},(E,A,B)=>{if(E[0]===this.userId){const Z=Ea(E[1]);h.push(Z)}else B.done()}).next(()=>{cn(0===h.length)})})}containsKey(r,a){return Mh(r,this.userId,a)}ee(r){return ep(r).get(this.userId).next(a=>a||new Cu(this.userId,-1,""))}}function Mh(u,r,a){const c=Vs.prefixForPath(r,a.path),h=c[1],E=IDBKeyRange.lowerBound(c);let A=!1;return jc(u).Kt({range:E,qt:!0},(B,Z,ve)=>{const[Ie,Fe,ot]=B;Ie===r&&Fe===h&&(A=!0),ve.done()}).next(()=>A)}function Cl(u){return ho(u,Ei.store)}function jc(u){return ho(u,Vs.store)}function ep(u){return ho(u,Cu.store)}class Il{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new Il(0)}static ie(){return new Il(-1)}}class tc{constructor(r,a){this.referenceDelegate=r,this.N=a}allocateTargetId(r){return this.re(r).next(a=>{const c=new Il(a.highestTargetId);return a.highestTargetId=c.next(),this.oe(r,a).next(()=>a.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(a=>zn.fromTimestamp(new Qr(a.lastRemoteSnapshotVersion.seconds,a.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(a=>a.highestListenSequenceNumber)}setTargetsMetadata(r,a,c){return this.re(r).next(h=>(h.highestListenSequenceNumber=a,c&&(h.lastRemoteSnapshotVersion=c.toTimestamp()),a>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=a),this.oe(r,h)))}addTargetData(r,a){return this.ae(r,a).next(()=>this.re(r).next(c=>(c.targetCount+=1,this.ce(a,c),this.oe(r,c))))}updateTargetData(r,a){return this.ae(r,a)}removeTargetData(r,a){return this.removeMatchingKeysForTargetId(r,a.targetId).next(()=>nc(r).delete(a.targetId)).next(()=>this.re(r)).next(c=>(cn(c.targetCount>0),c.targetCount-=1,this.oe(r,c)))}removeTargets(r,a,c){let h=0;const E=[];return nc(r).Kt((A,B)=>{const Z=Ah(B);Z.sequenceNumber<=a&&null===c.get(Z.targetId)&&(h++,E.push(this.removeTargetData(r,Z)))}).next(()=>It.waitFor(E)).next(()=>h)}forEachTarget(r,a){return nc(r).Kt((c,h)=>{const E=Ah(h);a(E)})}re(r){return tp(r).get(Le.key).next(a=>(cn(null!==a),a))}oe(r,a){return tp(r).put(Le.key,a)}ae(r,a){return nc(r).put(ec(this.N,a))}ce(r,a){let c=!1;return r.targetId>a.highestTargetId&&(a.highestTargetId=r.targetId,c=!0),r.sequenceNumber>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=r.sequenceNumber,c=!0),c}getTargetCount(r){return this.re(r).next(a=>a.targetCount)}getTargetData(r,a){const c=ut(a),h=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let E=null;return nc(r).Kt({range:h,index:G.queryTargetsIndexName},(A,B,Z)=>{const ve=Ah(B);nn(a,ve.target)&&(E=ve,Z.done())}).next(()=>E)}addMatchingKeys(r,a,c){const h=[],E=Dl(r);return a.forEach(A=>{const B=ls(A.path);h.push(E.put(new le(c,B))),h.push(this.referenceDelegate.addReference(r,c,A))}),It.waitFor(h)}removeMatchingKeys(r,a,c){const h=Dl(r);return It.forEach(a,E=>{const A=ls(E.path);return It.waitFor([h.delete([c,A]),this.referenceDelegate.removeReference(r,c,E)])})}removeMatchingKeysForTargetId(r,a){const c=Dl(r),h=IDBKeyRange.bound([a],[a+1],!1,!0);return c.delete(h)}getMatchingKeysForTargetId(r,a){const c=IDBKeyRange.bound([a],[a+1],!1,!0),h=Dl(r);let E=Cr();return h.Kt({range:c,qt:!0},(A,B,Z)=>{const ve=Ea(A[1]),Ie=new Ft(ve);E=E.add(Ie)}).next(()=>E)}containsKey(r,a){const c=ls(a.path),h=IDBKeyRange.bound([c],[Pa(c)],!1,!0);let E=0;return Dl(r).Kt({index:le.documentTargetsIndex,qt:!0,range:h},([A,B],Z,ve)=>{0!==A&&(E++,ve.done())}).next(()=>E>0)}Et(r,a){return nc(r).get(a).next(c=>c?Ah(c):null)}}function nc(u){return ho(u,G.store)}function tp(u){return ho(u,Le.store)}function Dl(u){return ho(u,le.store)}function Du(u){return np.apply(this,arguments)}function np(){return(np=(0,ye.Z)(function*(u){if(u.code!==it.FAILED_PRECONDITION||u.message!==ns)throw u;yt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function rp([u,r],[a,c]){const h=Xn(u,a);return 0===h?Xn(r,c):h}class dm{constructor(r){this.ue=r,this.buffer=new Li(rp),this.he=0}le(){return++this.he}fe(r){const a=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(a);else{const c=this.buffer.last();rp(a,c)<0&&(this.buffer=this.buffer.delete(c).add(a))}}get maxValue(){return this.buffer.last()[0]}}class hm{constructor(r,a){this.garbageCollector=r,this.asyncQueue=a,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var a=this;const c=this.de?3e5:6e4;yt("LruGarbageCollector",`Garbage collection scheduled in ${c}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",c,(0,ye.Z)(function*(){a.we=null,a.de=!0;try{yield r.collectGarbage(a.garbageCollector)}catch(h){nu(h)?yt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h):yield Du(h)}yield a._e(r)}))}}class ip{constructor(r,a){this.me=r,this.params=a}calculateTargetCount(r,a){return this.me.ge(r).next(c=>Math.floor(a/100*c))}nthSequenceNumber(r,a){if(0===a)return It.resolve(qs.T);const c=new dm(a);return this.me.forEachTarget(r,h=>c.fe(h.sequenceNumber)).next(()=>this.me.ye(r,h=>c.fe(h))).next(()=>c.maxValue)}removeTargets(r,a,c){return this.me.removeTargets(r,a,c)}removeOrphanedDocuments(r,a){return this.me.removeOrphanedDocuments(r,a)}collect(r,a){return-1===this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),It.resolve(cm)):this.getCacheSize(r).next(c=>c<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cm):this.pe(r,a))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,a){let c,h,E,A,B,Z,ve;const Ie=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(Fe=>(Fe>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Fe}`),h=this.params.maximumSequenceNumbersToCollect):h=Fe,A=Date.now(),this.nthSequenceNumber(r,h))).next(Fe=>(c=Fe,B=Date.now(),this.removeTargets(r,c,a))).next(Fe=>(E=Fe,Z=Date.now(),this.removeOrphanedDocuments(r,c))).next(Fe=>(ve=Date.now(),on()<=_t.in.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${A-Ie}ms\n\tDetermined least recently used ${h} in `+(B-A)+`ms\n\tRemoved ${E} targets in `+(Z-B)+`ms\n\tRemoved ${Fe} documents in `+(ve-Z)+`ms\nTotal Duration: ${ve-Ie}ms`),It.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:E,documentsRemoved:Fe})))}}class fm{constructor(r,a){this.db=r,this.garbageCollector=new ip(this,a)}ge(r){const a=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(c=>a.next(h=>c+h))}Ee(r){let a=0;return this.ye(r,c=>{a++}).next(()=>a)}forEachTarget(r,a){return this.db.getTargetCache().forEachTarget(r,a)}ye(r,a){return this.Te(r,(c,h)=>a(h))}addReference(r,a,c){return rc(r,c)}removeReference(r,a,c){return rc(r,c)}removeTargets(r,a,c){return this.db.getTargetCache().removeTargets(r,a,c)}markPotentiallyOrphaned(r,a){return rc(r,a)}Ie(r,a){return function(c,h){let E=!1;return ep(c).jt(A=>Mh(c,A,h).next(B=>(B&&(E=!0),It.resolve(!B)))).next(()=>E)}(r,a)}removeOrphanedDocuments(r,a){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let E=0;return this.Te(r,(A,B)=>{if(B<=a){const Z=this.Ie(r,A).next(ve=>{if(!ve)return E++,c.getEntry(r,A).next(()=>(c.removeEntry(A),Dl(r).delete([0,ls(A.path)])))});h.push(Z)}}).next(()=>It.waitFor(h)).next(()=>c.apply(r)).next(()=>E)}removeTarget(r,a){const c=a.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,c)}updateLimboDocument(r,a){return rc(r,a)}Te(r,a){const c=Dl(r);let h,E=qs.T;return c.Kt({index:le.documentTargetsIndex},([A,B],{path:Z,sequenceNumber:ve})=>{0===A?(E!==qs.T&&a(new Ft(Ea(h)),E),E=ve,h=Z):E=qs.T}).next(()=>{E!==qs.T&&a(new Ft(Ea(h)),E)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function rc(u,r){return Dl(u).put((c=u.currentSequenceNumber,new le(0,ls(r.path),c)));var c}class qu{constructor(r,a){this.mapKeyFn=r,this.equalsFn=a,this.inner={}}get(r){const a=this.mapKeyFn(r),c=this.inner[a];if(void 0!==c)for(const[h,E]of c)if(this.equalsFn(h,r))return E}has(r){return void 0!==this.get(r)}set(r,a){const c=this.mapKeyFn(r),h=this.inner[c];if(void 0!==h){for(let E=0;E<h.length;E++)if(this.equalsFn(h[E][0],r))return void(h[E]=[r,a]);h.push([r,a])}else this.inner[c]=[[r,a]]}delete(r){const a=this.mapKeyFn(r),c=this.inner[a];if(void 0===c)return!1;for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],r))return 1===c.length?delete this.inner[a]:c.splice(h,1),!0;return!1}forEach(r){du(this.inner,(a,c)=>{for(const[h,E]of c)r(h,E)})}isEmpty(){return wc(this.inner)}}class sp{constructor(){this.changes=new qu(r=>r.toString(),(r,a)=>r.isEqual(a)),this.changesApplied=!1}getReadTime(r){const a=this.changes.get(r);return a?a.readTime:zn.min()}addEntry(r,a){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:a})}removeEntry(r,a=null){this.assertNotApplied(),this.changes.set(r,{document:me.newInvalidDocument(r),readTime:a})}getEntry(r,a){this.assertNotApplied();const c=this.changes.get(a);return void 0!==c?It.resolve(c.document):this.getFromCache(r,a)}getEntries(r,a){return this.getAllFromCache(r,a)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class op{constructor(r,a){this.N=r,this.Ht=a}addEntry(r,a,c){return Ba(r).put(Nh(a),c)}removeEntry(r,a){const c=Ba(r),h=Nh(a);return c.delete(h)}updateMetadata(r,a){return this.getMetadata(r).next(c=>(c.byteSize+=a,this.Ae(r,c)))}getEntry(r,a){return Ba(r).get(Nh(a)).next(c=>this.Re(a,c))}Pe(r,a){return Ba(r).get(Nh(a)).next(c=>({document:this.Re(a,c),size:Bc(c)}))}getEntries(r,a){let c=ta();return this.be(r,a,(h,E)=>{const A=this.Re(h,E);c=c.insert(h,A)}).next(()=>c)}ve(r,a){let c=ta(),h=new us(Ft.comparator);return this.be(r,a,(E,A)=>{const B=this.Re(E,A);c=c.insert(E,B),h=h.insert(E,Bc(A))}).next(()=>({documents:c,Ve:h}))}be(r,a,c){if(a.isEmpty())return It.resolve();const h=IDBKeyRange.bound(a.first().path.toArray(),a.last().path.toArray()),E=a.getIterator();let A=E.getNext();return Ba(r).Kt({range:h},(B,Z,ve)=>{const Ie=Ft.fromSegments(B);for(;A&&Ft.comparator(A,Ie)<0;)c(A,null),A=E.getNext();A&&A.isEqual(Ie)&&(c(A,Z),A=E.hasNext()?E.getNext():null),A?ve.Mt(A.path.toArray()):ve.done()}).next(()=>{for(;A;)c(A,null),A=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(r,a,c){let h=ta();const E=a.path.length+1,A={};if(c.isEqual(zn.min())){const B=a.path.toArray();A.range=IDBKeyRange.lowerBound(B)}else{const B=a.path.toArray(),Z=Sh(c);A.range=IDBKeyRange.lowerBound([B,Z],!0),A.index=m.collectionReadTimeIndex}return Ba(r).Kt(A,(B,Z,ve)=>{if(B.length!==E)return;const Ie=Th(this.N,Z);a.path.isPrefixOf(Ie.key.path)?Ss(a,Ie)&&(h=h.insert(Ie.key,Ie)):ve.done()}).next(()=>h)}newChangeBuffer(r){return new pm(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(a=>a.byteSize)}getMetadata(r){return Rh(r).get(S.key).next(a=>(cn(!!a),a))}Ae(r,a){return Rh(r).put(S.key,a)}Re(r,a){if(a){const c=Th(this.N,a);if(!c.isNoDocument()||!c.version.isEqual(zn.min()))return c}return me.newInvalidDocument(r)}}class pm extends sp{constructor(r,a){super(),this.Se=r,this.trackRemovals=a,this.De=new qu(c=>c.toString(),(c,h)=>c.isEqual(h))}applyChanges(r){const a=[];let c=0,h=new Li((E,A)=>Xn(E.canonicalString(),A.canonicalString()));return this.changes.forEach((E,A)=>{const B=this.De.get(E);if(A.document.isValidDocument()){const Z=Uc(this.Se.N,A.document,this.getReadTime(E));h=h.add(E.path.popLast()),c+=Bc(Z)-B,a.push(this.Se.addEntry(r,E,Z))}else if(c-=B,this.trackRemovals){const Z=Uc(this.Se.N,me.newNoDocument(E,zn.min()),this.getReadTime(E));a.push(this.Se.addEntry(r,E,Z))}else a.push(this.Se.removeEntry(r,E))}),h.forEach(E=>{a.push(this.Se.Ht.addToCollectionParentIndex(r,E))}),a.push(this.Se.updateMetadata(r,c)),It.waitFor(a)}getFromCache(r,a){return this.Se.Pe(r,a).next(c=>(this.De.set(a,c.size),c.document))}getAllFromCache(r,a){return this.Se.ve(r,a).next(({documents:c,Ve:h})=>(h.forEach((E,A)=>{this.De.set(E,A)}),c))}}function Rh(u){return ho(u,S.store)}function Ba(u){return ho(u,m.store)}function Nh(u){return u.path.toArray()}class gm{constructor(r){this.N=r}Ct(r,a,c,h){cn(c<h&&c>=0&&h<=11);const E=new Vc("createOrUpgrade",a);var B;c<1&&h>=1&&(r.createObjectStore(Do.store),(B=r).createObjectStore(Cu.store,{keyPath:Cu.keyPath}),B.createObjectStore(Ei.store,{keyPath:Ei.keyPath,autoIncrement:!0}).createIndex(Ei.userMutationsIndex,Ei.userMutationsKeyPath,{unique:!0}),B.createObjectStore(Vs.store),mm(r),function(B){B.createObjectStore(m.store)}(r));let A=It.resolve();return c<3&&h>=3&&(0!==c&&(function(B){B.deleteObjectStore(le.store),B.deleteObjectStore(G.store),B.deleteObjectStore(Le.store)}(r),mm(r)),A=A.next(()=>function(B){const Z=B.store(Le.store),ve=new Le(0,0,zn.min().toTimestamp(),0);return Z.put(Le.key,ve)}(E))),c<4&&h>=4&&(0!==c&&(A=A.next(()=>function(B,Z){return Z.store(Ei.store).Lt().next(ve=>{B.deleteObjectStore(Ei.store),B.createObjectStore(Ei.store,{keyPath:Ei.keyPath,autoIncrement:!0}).createIndex(Ei.userMutationsIndex,Ei.userMutationsKeyPath,{unique:!0});const Ie=Z.store(Ei.store),Fe=ve.map(ot=>Ie.put(ot));return It.waitFor(Fe)})}(r,E))),A=A.next(()=>{!function(B){B.createObjectStore(Pt.store,{keyPath:Pt.keyPath})}(r)})),c<5&&h>=5&&(A=A.next(()=>this.Ce(E))),c<6&&h>=6&&(A=A.next(()=>(function(B){B.createObjectStore(S.store)}(r),this.Ne(E)))),c<7&&h>=7&&(A=A.next(()=>this.xe(E))),c<8&&h>=8&&(A=A.next(()=>this.ke(r,E))),c<9&&h>=9&&(A=A.next(()=>{(function(B){B.objectStoreNames.contains("remoteDocumentChanges")&&B.deleteObjectStore("remoteDocumentChanges")})(r),function(B){const Z=B.objectStore(m.store);Z.createIndex(m.readTimeIndex,m.readTimeIndexPath,{unique:!1}),Z.createIndex(m.collectionReadTimeIndex,m.collectionReadTimeIndexPath,{unique:!1})}(a)})),c<10&&h>=10&&(A=A.next(()=>this.$e(E))),c<11&&h>=11&&(A=A.next(()=>{(function(B){B.createObjectStore(tn.store,{keyPath:tn.keyPath})})(r),function(B){B.createObjectStore(un.store,{keyPath:un.keyPath})}(r)})),A}Ne(r){let a=0;return r.store(m.store).Kt((c,h)=>{a+=Bc(h)}).next(()=>{const c=new S(a);return r.store(S.store).put(S.key,c)})}Ce(r){const a=r.store(Cu.store),c=r.store(Ei.store);return a.Lt().next(h=>It.forEach(h,E=>{const A=IDBKeyRange.bound([E.userId,-1],[E.userId,E.lastAcknowledgedBatchId]);return c.Lt(Ei.userMutationsIndex,A).next(B=>It.forEach(B,Z=>{cn(Z.userId===E.userId);const ve=Xl(this.N,Z);return Xf(r,E.userId,ve).next(()=>{})}))}))}xe(r){const a=r.store(le.store),c=r.store(m.store);return r.store(Le.store).get(Le.key).next(h=>{const E=[];return c.Kt((A,B)=>{const Z=new wr(A),ve=[0,ls(Z)];E.push(a.get(ve).next(Ie=>Ie?It.resolve():a.put(new le(0,ls(Z),h.highestListenSequenceNumber))))}).next(()=>It.waitFor(E))})}ke(r,a){r.createObjectStore(at.store,{keyPath:at.keyPath});const c=a.store(at.store),h=new Jf,E=A=>{if(h.add(A)){const B=A.lastSegment(),Z=A.popLast();return c.put({collectionId:B,parent:ls(Z)})}};return a.store(m.store).Kt({qt:!0},(A,B)=>{const Z=new wr(A);return E(Z.popLast())}).next(()=>a.store(Vs.store).Kt({qt:!0},([A,B,Z],ve)=>{const Ie=Ea(B);return E(Ie.popLast())}))}$e(r){const a=r.store(G.store);return a.Kt((c,h)=>{const E=Ah(h),A=ec(this.N,E);return a.put(A)})}}function mm(u){u.createObjectStore(le.store,{keyPath:le.keyPath}).createIndex(le.documentTargetsIndex,le.documentTargetsKeyPath,{unique:!0}),u.createObjectStore(G.store,{keyPath:G.keyPath}).createIndex(G.queryTargetsIndexName,G.queryTargetsKeyPath,{unique:!0}),u.createObjectStore(Le.store)}const ap="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ph{constructor(r,a,c,h,E,A,B,Z,ve,Ie){if(this.allowTabSynchronization=r,this.persistenceKey=a,this.clientId=c,this.Oe=E,this.window=A,this.document=B,this.Fe=ve,this.Me=Ie,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=Fe=>Promise.resolve(),!Ph.Pt())throw new Dt(it.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fm(this,h),this.We=a+"main",this.N=new om(Z),this.Ge=new To(this.We,11,new gm(this.N)),this.ze=new tc(this.referenceDelegate,this.N),this.Ht=new __,this.He=new op(this.N,this.Ht),this.Je=new am,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===Ie&&ln("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Dt(it.FAILED_PRECONDITION,ap);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new qs(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var a=this;return this.Qe=function(){var c=(0,ye.Z)(function*(h){if(a.started)return r(h)});return function(h){return c.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var a=(0,ye.Z)(function*(c){null===c.newVersion&&(yield r())});return function(c){return a.apply(this,arguments)}}())}setNetworkEnabled(r){var a=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,ye.Z)(function*(){a.started&&(yield a.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>xd(r).put(new Pt(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(a=>{a||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(a=>this.isPrimary&&!a?this.on(r).next(()=>!1):!!a&&this.an(r).next(()=>!0))).catch(r=>{if(nu(r))return yt("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return yt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return ic(r).get(Do.key).next(a=>It.resolve(this.cn(a)))}un(r){return xd(r).delete(this.clientId)}hn(){var r=this;return(0,ye.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const a=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const h=ho(c,Pt.store);return h.Lt().next(E=>{const A=r.fn(E,18e5),B=E.filter(Z=>-1===A.indexOf(Z));return It.forEach(B,Z=>h.delete(Z.clientId)).next(()=>B)})}).catch(()=>[]);if(r.Ye)for(const c of a)r.Ye.removeItem(r.dn(c.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?It.resolve(!0):ic(r).get(Do.key).next(a=>{if(null!==a&&this.ln(a.leaseTimestampMs,5e3)&&!this.wn(a.ownerId)){if(this.cn(a)&&this.networkEnabled)return!0;if(!this.cn(a)){if(!a.allowTabSynchronization)throw new Dt(it.FAILED_PRECONDITION,ap);return!1}}return!(!this.networkEnabled||!this.inForeground)||xd(r).Lt().next(c=>void 0===this.fn(c,5e3).find(h=>{if(this.clientId!==h.clientId){const A=!this.inForeground&&h.inForeground,B=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||A&&B)return!0}return!1}))}).next(a=>(this.isPrimary!==a&&yt("IndexedDbPersistence",`Client ${a?"is":"is not"} eligible for a primary lease.`),a))}shutdown(){var r=this;return(0,ye.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[Do.store,Pt.store],a=>{const c=new Td(a,qs.T);return r.on(c).next(()=>r.un(c))}),r.Ge.close(),r.yn()})()}fn(r,a){return r.filter(c=>this.ln(c.updateTimeMs,a)&&!this.wn(c.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>xd(r).Lt().next(a=>this.fn(a,18e5).map(c=>c.clientId)))}get started(){return this.Be}getMutationQueue(r){return Oh.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,a,c){let E;return yt("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===a?"readonly":"readwrite",Tn,A=>(E=new Td(A,this.Le?this.Le.next():qs.T),"readwrite-primary"===a?this.sn(E).next(B=>!!B||this.rn(E)).next(B=>{if(!B)throw ln(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Dt(it.FAILED_PRECONDITION,ns);return c(E)}).next(B=>this.an(E).next(()=>B)):this.En(E).next(()=>c(E)))).then(A=>(E.raiseOnCommittedEvent(),A))}En(r){return ic(r).get(Do.key).next(a=>{if(null!==a&&this.ln(a.leaseTimestampMs,5e3)&&!this.wn(a.ownerId)&&!this.cn(a)&&!(this.Me||this.allowTabSynchronization&&a.allowTabSynchronization))throw new Dt(it.FAILED_PRECONDITION,ap)})}an(r){const a=new Do(this.clientId,this.allowTabSynchronization,Date.now());return ic(r).put(Do.key,a)}static Pt(){return To.Pt()}on(r){const a=ic(r);return a.get(Do.key).next(c=>this.cn(c)?(yt("IndexedDbPersistence","Releasing primary lease."),a.delete(Do.key)):It.resolve())}ln(r,a){const c=Date.now();return!(r<c-a||r>c&&(ln(`Detected an update time that is in the future: ${r} > ${c}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,Ge.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var a;try{const c=null!==(null===(a=this.Ye)||void 0===a?void 0:a.getItem(this.dn(r)));return yt("IndexedDbPersistence",`Client '${r}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return ln("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){ln("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function ic(u){return ho(u,Do.store)}function xd(u){return ho(u,Pt.store)}function ym(u,r){let a=u.projectId;return u.isDefaultDatabase||(a+="."+u.database),"firestore/"+r+"/"+a+"/"}class _m{constructor(r,a){this.progress=r,this.Tn=a}}class vm{constructor(r,a,c){this.He=r,this.In=a,this.Ht=c}An(r,a){return this.In.getAllMutationBatchesAffectingDocumentKey(r,a).next(c=>this.Rn(r,a,c))}Rn(r,a,c){return this.He.getEntry(r,a).next(h=>{for(const E of c)E.applyToLocalView(h);return h})}Pn(r,a){r.forEach((c,h)=>{for(const E of a)E.applyToLocalView(h)})}bn(r,a){return this.He.getEntries(r,a).next(c=>this.vn(r,c).next(()=>c))}vn(r,a){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,a).next(c=>this.Pn(a,c))}getDocumentsMatchingQuery(r,a,c){return Ft.isDocumentKey((h=a).path)&&null===h.collectionGroup&&0===h.filters.length?this.Vn(r,a.path):Pi(a)?this.Sn(r,a,c):this.Dn(r,a,c);var h}Vn(r,a){return this.An(r,new Ft(a)).next(c=>{let h=gd();return c.isFoundDocument()&&(h=h.insert(c.key,c)),h})}Sn(r,a,c){const h=a.collectionGroup;let E=gd();return this.Ht.getCollectionParents(r,h).next(A=>It.forEach(A,B=>{const Z=(ve=a,Ie=B.child(h),new Ni(Ie,null,ve.explicitOrderBy.slice(),ve.filters.slice(),ve.limit,ve.limitType,ve.startAt,ve.endAt));var ve,Ie;return this.Dn(r,Z,c).next(ve=>{ve.forEach((Ie,Fe)=>{E=E.insert(Ie,Fe)})})}).next(()=>E))}Dn(r,a,c){let h,E;return this.He.getDocumentsMatchingQuery(r,a,c).next(A=>(h=A,this.In.getAllMutationBatchesAffectingQuery(r,a))).next(A=>(E=A,this.Cn(r,E,h).next(B=>{h=B;for(const Z of E)for(const ve of Z.mutations){const Ie=ve.key;let Fe=h.get(Ie);null==Fe&&(Fe=me.newInvalidDocument(Ie),h=h.insert(Ie,Fe)),ml(ve,Fe,Z.localWriteTime),Fe.isFoundDocument()||(h=h.remove(Ie))}}))).next(()=>(h.forEach((A,B)=>{Ss(a,B)||(h=h.remove(A))}),h))}Cn(r,a,c){let h=Cr();for(const A of a)for(const B of A.mutations)B instanceof Eu&&null===c.get(B.key)&&(h=h.add(B.key));let E=c;return this.He.getEntries(r,h).next(A=>(A.forEach((B,Z)=>{Z.isFoundDocument()&&(E=E.insert(B,Z))}),E))}}class Fh{constructor(r,a,c,h){this.targetId=r,this.fromCache=a,this.Nn=c,this.xn=h}static kn(r,a){let c=Cr(),h=Cr();for(const E of a.docChanges)switch(E.type){case 0:c=c.add(E.doc.key);break;case 1:h=h.add(E.doc.key)}return new Fh(r,a.fromCache,c,h)}}class Em{$n(r){this.On=r}getDocumentsMatchingQuery(r,a,c,h){return 0===(E=a).filters.length&&null===E.limit&&null==E.startAt&&null==E.endAt&&(0===E.explicitOrderBy.length||1===E.explicitOrderBy.length&&E.explicitOrderBy[0].field.isKeyField())||c.isEqual(zn.min())?this.Fn(r,a):this.On.bn(r,h).next(E=>{const A=this.Mn(a,E);return(Jt(a)||fn(a))&&this.Ln(a.limitType,A,h,c)?this.Fn(r,a):(on()<=_t.in.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Ts(a)),this.On.getDocumentsMatchingQuery(r,a,c).next(B=>(A.forEach(Z=>{B=B.insert(Z.key,Z)}),B)))});var E}Mn(r,a){let c=new Li(ka(r));return a.forEach((h,E)=>{Ss(r,E)&&(c=c.add(E))}),c}Ln(r,a,c,h){if(c.size!==a.size)return!0;const E="F"===r?a.last():a.first();return!!E&&(E.hasPendingWrites||E.version.compareTo(h)>0)}Fn(r,a){return on()<=_t.in.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",Ts(a)),this.On.getDocumentsMatchingQuery(r,a,zn.min())}}class v_{constructor(r,a,c,h){this.persistence=r,this.Bn=a,this.N=h,this.Un=new us(Xn),this.qn=new qu(E=>ut(E),nn),this.Kn=zn.min(),this.In=r.getMutationQueue(c),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new vm(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>r.collect(a,this.Un))}}function ja(u,r,a,c){return new v_(u,r,a,c)}function bm(u,r){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,ye.Z)(function*(u,r){const a=Mt(u);let c=a.In,h=a.Qn;const E=yield a.persistence.runTransaction("Handle user change","readonly",A=>{let B;return a.In.getAllMutationBatches(A).next(Z=>(B=Z,c=a.persistence.getMutationQueue(r),h=new vm(a.jn,c,a.persistence.getIndexManager()),c.getAllMutationBatches(A))).next(Z=>{const ve=[],Ie=[];let Fe=Cr();for(const ot of B){ve.push(ot.batchId);for(const vt of ot.mutations)Fe=Fe.add(vt.key)}for(const ot of Z){Ie.push(ot.batchId);for(const vt of ot.mutations)Fe=Fe.add(vt.key)}return h.bn(A,Fe).next(ot=>({Wn:ot,removedBatchIds:ve,addedBatchIds:Ie}))})});return a.In=c,a.Qn=h,a.Bn.$n(a.Qn),E})).apply(this,arguments)}function E_(u,r){const a=Mt(u);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const h=r.batch.keys(),E=a.jn.newChangeBuffer({trackRemovals:!0});return function(A,B,Z,ve){const Ie=Z.batch,Fe=Ie.keys();let ot=It.resolve();return Fe.forEach(vt=>{ot=ot.next(()=>ve.getEntry(B,vt)).next(kt=>{const pn=Z.docVersions.get(vt);cn(null!==pn),kt.version.compareTo(pn)<0&&(Ie.applyToRemoteDocument(kt,Z),kt.isValidDocument()&&ve.addEntry(kt,Z.commitVersion))})}),ot.next(()=>A.In.removeMutationBatch(B,Ie))}(a,c,r,E).next(()=>E.apply(c)).next(()=>a.In.performConsistencyCheck(c)).next(()=>a.Qn.bn(c,h))})}function wm(u){const r=Mt(u);return r.persistence.runTransaction("Get last remote snapshot version","readonly",a=>r.ze.getLastRemoteSnapshotVersion(a))}function b_(u,r){const a=Mt(u),c=r.snapshotVersion;let h=a.Un;return a.persistence.runTransaction("Apply remote event","readwrite-primary",E=>{const A=a.jn.newChangeBuffer({trackRemovals:!0});h=a.Un;const B=[];r.targetChanges.forEach((ve,Ie)=>{const Fe=h.get(Ie);if(!Fe)return;B.push(a.ze.removeMatchingKeys(E,ve.removedDocuments,Ie).next(()=>a.ze.addMatchingKeys(E,ve.addedDocuments,Ie)));const ot=ve.resumeToken;if(ot.approximateByteSize()>0){const vt=Fe.withResumeToken(ot,c).withSequenceNumber(E.currentSequenceNumber);h=h.insert(Ie,vt),kt=Fe,Zn=ve,cn((pn=vt).resumeToken.approximateByteSize()>0),(0===kt.resumeToken.approximateByteSize()||pn.snapshotVersion.toMicroseconds()-kt.snapshotVersion.toMicroseconds()>=3e8||Zn.addedDocuments.size+Zn.modifiedDocuments.size+Zn.removedDocuments.size>0)&&B.push(a.ze.updateTargetData(E,vt))}var kt,pn,Zn});let Z=ta();if(r.documentUpdates.forEach((ve,Ie)=>{r.resolvedLimboDocuments.has(ve)&&B.push(a.persistence.referenceDelegate.updateLimboDocument(E,ve))}),B.push(Cm(E,A,r.documentUpdates,c,void 0).next(ve=>{Z=ve})),!c.isEqual(zn.min())){const ve=a.ze.getLastRemoteSnapshotVersion(E).next(Ie=>a.ze.setTargetsMetadata(E,E.currentSequenceNumber,c));B.push(ve)}return It.waitFor(B).next(()=>A.apply(E)).next(()=>a.Qn.vn(E,Z)).next(()=>Z)}).then(E=>(a.Un=h,E))}function Cm(u,r,a,c,h){let E=Cr();return a.forEach(A=>E=E.add(A)),r.getEntries(u,E).next(A=>{let B=ta();return a.forEach((Z,ve)=>{const Ie=A.get(Z),Fe=(null==h?void 0:h.get(Z))||c;ve.isNoDocument()&&ve.version.isEqual(zn.min())?(r.removeEntry(Z,Fe),B=B.insert(Z,ve)):!Ie.isValidDocument()||ve.version.compareTo(Ie.version)>0||0===ve.version.compareTo(Ie.version)&&Ie.hasPendingWrites?(r.addEntry(ve,Fe),B=B.insert(Z,ve)):yt("LocalStore","Ignoring outdated watch update for ",Z,". Current version:",Ie.version," Watch version:",ve.version)}),B})}function Im(u,r){const a=Mt(u);return a.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===r&&(r=-1),a.In.getNextMutationBatchAfterBatchId(c,r)))}function Hc(u,r){const a=Mt(u);return a.persistence.runTransaction("Allocate target","readwrite",c=>{let h;return a.ze.getTargetData(c,r).next(E=>E?(h=E,It.resolve(h)):a.ze.allocateTargetId(c).next(A=>(h=new Iu(r,A,0,c.currentSequenceNumber),a.ze.addTargetData(c,h).next(()=>h))))}).then(c=>{const h=a.Un.get(c.targetId);return(null===h||c.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(a.Un=a.Un.insert(c.targetId,c),a.qn.set(r,c.targetId)),c})}function $c(u,r,a){return up.apply(this,arguments)}function up(){return(up=(0,ye.Z)(function*(u,r,a){const c=Mt(u),h=c.Un.get(r),E=a?"readwrite":"readwrite-primary";try{a||(yield c.persistence.runTransaction("Release target",E,A=>c.persistence.referenceDelegate.removeTarget(A,h)))}catch(A){if(!nu(A))throw A;yt("LocalStore",`Failed to update sequence numbers for target ${r}: ${A}`)}c.Un=c.Un.remove(r),c.qn.delete(h.target)})).apply(this,arguments)}function Kn(u,r,a){const c=Mt(u);let h=zn.min(),E=Cr();return c.persistence.runTransaction("Execute query","readonly",A=>function(B,Z,ve){const Ie=Mt(B),Fe=Ie.qn.get(ve);return void 0!==Fe?It.resolve(Ie.Un.get(Fe)):Ie.ze.getTargetData(Z,ve)}(c,A,Xr(r)).next(B=>{if(B)return h=B.lastLimboFreeSnapshotVersion,c.ze.getMatchingKeysForTargetId(A,B.targetId).next(Z=>{E=Z})}).next(()=>c.Bn.getDocumentsMatchingQuery(A,r,a?h:zn.min(),a?E:Cr())).next(B=>({documents:B,Gn:E})))}function lp(u,r){const a=Mt(u),c=Mt(a.ze),h=a.Un.get(r);return h?Promise.resolve(h.target):a.persistence.runTransaction("Get target data","readonly",E=>c.Et(E,r).next(A=>A?A.target:null))}function cp(u){const r=Mt(u);return r.persistence.runTransaction("Get new document changes","readonly",a=>function(c,h,E){const A=Mt(c);let B=ta(),Z=Sh(E);const ve=Ba(h),Ie=IDBKeyRange.lowerBound(Z,!0);return ve.Kt({index:m.readTimeIndex,range:Ie},(Fe,ot)=>{const vt=Th(A.N,ot);B=B.insert(vt.key,vt),Z=ot.readTime}).next(()=>({Tn:B,readTime:Qf(Z)}))}(r.jn,a,r.Kn)).then(({Tn:a,readTime:c})=>(r.Kn=c,a))}function ba(){return(ba=(0,ye.Z)(function*(u){const r=Mt(u);return r.persistence.runTransaction("Synchronize last document change read time","readonly",a=>function(c){const h=Ba(c);let E=zn.min();return h.Kt({index:m.readTimeIndex,reverse:!0},(A,B,Z)=>{B.readTime&&(E=Qf(B.readTime)),Z.done()}).next(()=>E)}(a)).then(a=>{r.Kn=a})})).apply(this,arguments)}function dp(){return(dp=(0,ye.Z)(function*(u,r,a,c){const h=Mt(u);let E=Cr(),A=ta(),B=md();for(const Ie of a){const Fe=r.zn(Ie.metadata.name);Ie.document&&(E=E.add(Fe)),A=A.insert(Fe,r.Hn(Ie)),B=B.insert(Fe,r.Jn(Ie.metadata.readTime))}const Z=h.jn.newChangeBuffer({trackRemovals:!0}),ve=yield Hc(h,(Ie=c,Xr(Br(wr.fromString(`__bundle__/docs/${Ie}`)))));var Ie;return h.persistence.runTransaction("Apply bundle documents","readwrite",Ie=>Cm(Ie,Z,A,zn.min(),B).next(Fe=>(Z.apply(Ie),Fe)).next(Fe=>h.ze.removeMatchingKeysForTargetId(Ie,ve.targetId).next(()=>h.ze.addMatchingKeys(Ie,E,ve.targetId)).next(()=>h.Qn.vn(Ie,Fe)).next(()=>Fe)))})).apply(this,arguments)}function hp(u,r){return ru.apply(this,arguments)}function ru(){return(ru=(0,ye.Z)(function*(u,r,a=Cr()){const c=yield Hc(u,Xr(Ad(r.bundledQuery))),h=Mt(u);return h.persistence.runTransaction("Save named query","readwrite",E=>{const A=ki(r.readTime);if(c.snapshotVersion.compareTo(A)>=0)return h.Je.saveNamedQuery(E,r);const B=c.withResumeToken(as.EMPTY_BYTE_STRING,A);return h.Un=h.Un.insert(B.targetId,B),h.ze.updateTargetData(E,B).next(()=>h.ze.removeMatchingKeysForTargetId(E,c.targetId)).next(()=>h.ze.addMatchingKeys(E,a,c.targetId)).next(()=>h.Je.saveNamedQuery(E,r))})})).apply(this,arguments)}class fp{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,a){return It.resolve(this.Yn.get(a))}saveBundleMetadata(r,a){var c;return this.Yn.set(a.id,{id:(c=a).id,version:c.version,createTime:ki(c.createTime)}),It.resolve()}getNamedQuery(r,a){return It.resolve(this.Xn.get(a))}saveNamedQuery(r,a){return this.Xn.set(a.name,{name:(c=a).name,query:Ad(c.bundledQuery),readTime:ki(c.readTime)}),It.resolve();var c}}class Vh{constructor(){this.Zn=new Li(xs.ts),this.es=new Li(xs.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,a){const c=new xs(r,a);this.Zn=this.Zn.add(c),this.es=this.es.add(c)}ss(r,a){r.forEach(c=>this.addReference(c,a))}removeReference(r,a){this.rs(new xs(r,a))}os(r,a){r.forEach(c=>this.removeReference(c,a))}cs(r){const a=new Ft(new wr([])),c=new xs(a,r),h=new xs(a,r+1),E=[];return this.es.forEachInRange([c,h],A=>{this.rs(A),E.push(A.key)}),E}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const a=new Ft(new wr([])),c=new xs(a,r),h=new xs(a,r+1);let E=Cr();return this.es.forEachInRange([c,h],A=>{E=E.add(A.key)}),E}containsKey(r){const a=new xs(r,0),c=this.Zn.firstAfterOrEqual(a);return null!==c&&r.isEqual(c.key)}}class xs{constructor(r,a){this.key=r,this.ls=a}static ts(r,a){return Ft.comparator(r.key,a.key)||Xn(r.ls,a.ls)}static ns(r,a){return Xn(r.ls,a.ls)||Ft.comparator(r.key,a.key)}}class PE{constructor(r,a){this.Ht=r,this.referenceDelegate=a,this.In=[],this.fs=1,this.ds=new Li(xs.ts)}checkEmpty(r){return It.resolve(0===this.In.length)}addMutationBatch(r,a,c,h){const E=this.fs;this.fs++;const A=new ra(E,a,c,h);this.In.push(A);for(const B of h)this.ds=this.ds.add(new xs(B.key,E)),this.Ht.addToCollectionParentIndex(r,B.key.path.popLast());return It.resolve(A)}lookupMutationBatch(r,a){return It.resolve(this.ws(a))}getNextMutationBatchAfterBatchId(r,a){const h=this._s(a+1),E=h<0?0:h;return It.resolve(this.In.length>E?this.In[E]:null)}getHighestUnacknowledgedBatchId(){return It.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return It.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,a){const c=new xs(a,0),h=new xs(a,Number.POSITIVE_INFINITY),E=[];return this.ds.forEachInRange([c,h],A=>{const B=this.ws(A.ls);E.push(B)}),It.resolve(E)}getAllMutationBatchesAffectingDocumentKeys(r,a){let c=new Li(Xn);return a.forEach(h=>{const E=new xs(h,0),A=new xs(h,Number.POSITIVE_INFINITY);this.ds.forEachInRange([E,A],B=>{c=c.add(B.ls)})}),It.resolve(this.gs(c))}getAllMutationBatchesAffectingQuery(r,a){const c=a.path,h=c.length+1;let E=c;Ft.isDocumentKey(E)||(E=E.child(""));const A=new xs(new Ft(E),0);let B=new Li(Xn);return this.ds.forEachWhile(Z=>{const ve=Z.key.path;return!!c.isPrefixOf(ve)&&(ve.length===h&&(B=B.add(Z.ls)),!0)},A),It.resolve(this.gs(B))}gs(r){const a=[];return r.forEach(c=>{const h=this.ws(c);null!==h&&a.push(h)}),a}removeMutationBatch(r,a){cn(0===this.ys(a.batchId,"removed")),this.In.shift();let c=this.ds;return It.forEach(a.mutations,h=>{const E=new xs(h.key,a.batchId);return c=c.delete(E),this.referenceDelegate.markPotentiallyOrphaned(r,h.key)}).next(()=>{this.ds=c})}te(r){}containsKey(r,a){const c=new xs(a,0),h=this.ds.firstAfterOrEqual(c);return It.resolve(a.isEqual(h&&h.key))}performConsistencyCheck(r){return It.resolve()}ys(r,a){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const a=this._s(r);return a<0||a>=this.In.length?null:this.In[a]}}class Tm{constructor(r,a){this.Ht=r,this.ps=a,this.docs=new us(Ft.comparator),this.size=0}addEntry(r,a,c){const h=a.key,E=this.docs.get(h),A=E?E.size:0,B=this.ps(a);return this.docs=this.docs.insert(h,{document:a.clone(),size:B,readTime:c}),this.size+=B-A,this.Ht.addToCollectionParentIndex(r,h.path.popLast())}removeEntry(r){const a=this.docs.get(r);a&&(this.docs=this.docs.remove(r),this.size-=a.size)}getEntry(r,a){const c=this.docs.get(a);return It.resolve(c?c.document.clone():me.newInvalidDocument(a))}getEntries(r,a){let c=ta();return a.forEach(h=>{const E=this.docs.get(h);c=c.insert(h,E?E.document.clone():me.newInvalidDocument(h))}),It.resolve(c)}getDocumentsMatchingQuery(r,a,c){let h=ta();const E=new Ft(a.path.child("")),A=this.docs.getIteratorFrom(E);for(;A.hasNext();){const{key:B,value:{document:Z,readTime:ve}}=A.getNext();if(!a.path.isPrefixOf(B.path))break;ve.compareTo(c)<=0||Ss(a,Z)&&(h=h.insert(Z.key,Z.clone()))}return It.resolve(h)}Es(r,a){return It.forEach(this.docs,c=>a(c))}newChangeBuffer(r){return new FE(this)}getSize(r){return It.resolve(this.size)}}class FE extends sp{constructor(r){super(),this.Se=r}applyChanges(r){const a=[];return this.changes.forEach((c,h)=>{h.document.isValidDocument()?a.push(this.Se.addEntry(r,h.document,this.getReadTime(c))):this.Se.removeEntry(c)}),It.waitFor(a)}getFromCache(r,a){return this.Se.getEntry(r,a)}getAllFromCache(r,a){return this.Se.getEntries(r,a)}}class Zu{constructor(r){this.persistence=r,this.Ts=new qu(a=>ut(a),nn),this.lastRemoteSnapshotVersion=zn.min(),this.highestTargetId=0,this.Is=0,this.As=new Vh,this.targetCount=0,this.Rs=Il.se()}forEachTarget(r,a){return this.Ts.forEach((c,h)=>a(h)),It.resolve()}getLastRemoteSnapshotVersion(r){return It.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return It.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),It.resolve(this.highestTargetId)}setTargetsMetadata(r,a,c){return c&&(this.lastRemoteSnapshotVersion=c),a>this.Is&&(this.Is=a),It.resolve()}ae(r){this.Ts.set(r.target,r);const a=r.targetId;a>this.highestTargetId&&(this.Rs=new Il(a),this.highestTargetId=a),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,a){return this.ae(a),this.targetCount+=1,It.resolve()}updateTargetData(r,a){return this.ae(a),It.resolve()}removeTargetData(r,a){return this.Ts.delete(a.target),this.As.cs(a.targetId),this.targetCount-=1,It.resolve()}removeTargets(r,a,c){let h=0;const E=[];return this.Ts.forEach((A,B)=>{B.sequenceNumber<=a&&null===c.get(B.targetId)&&(this.Ts.delete(A),E.push(this.removeMatchingKeysForTargetId(r,B.targetId)),h++)}),It.waitFor(E).next(()=>h)}getTargetCount(r){return It.resolve(this.targetCount)}getTargetData(r,a){const c=this.Ts.get(a)||null;return It.resolve(c)}addMatchingKeys(r,a,c){return this.As.ss(a,c),It.resolve()}removeMatchingKeys(r,a,c){this.As.os(a,c);const h=this.persistence.referenceDelegate,E=[];return h&&a.forEach(A=>{E.push(h.markPotentiallyOrphaned(r,A))}),It.waitFor(E)}removeMatchingKeysForTargetId(r,a){return this.As.cs(a),It.resolve()}getMatchingKeysForTargetId(r,a){const c=this.As.hs(a);return It.resolve(c)}containsKey(r,a){return It.resolve(this.As.containsKey(a))}}class Uh{constructor(r,a){this.Ps={},this.Le=new qs(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new Zu(this),this.Ht=new y_,this.He=new Tm(this.Ht,c=>this.referenceDelegate.bs(c)),this.N=new om(a),this.Je=new fp(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let a=this.Ps[r.toKey()];return a||(a=new PE(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=a),a}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,a,c){yt("MemoryPersistence","Starting transaction:",r);const h=new Bh(this.Le.next());return this.referenceDelegate.vs(),c(h).next(E=>this.referenceDelegate.Vs(h).next(()=>E)).toPromise().then(E=>(h.raiseOnCommittedEvent(),E))}Ss(r,a){return It.or(Object.values(this.Ps).map(c=>()=>c.containsKey(r,a)))}}class Bh extends na{constructor(r){super(),this.currentSequenceNumber=r}}class Od{constructor(r){this.persistence=r,this.Ds=new Vh,this.Cs=null}static Ns(r){return new Od(r)}get xs(){if(this.Cs)return this.Cs;throw qt()}addReference(r,a,c){return this.Ds.addReference(c,a),this.xs.delete(c.toString()),It.resolve()}removeReference(r,a,c){return this.Ds.removeReference(c,a),this.xs.add(c.toString()),It.resolve()}markPotentiallyOrphaned(r,a){return this.xs.add(a.toString()),It.resolve()}removeTarget(r,a){this.Ds.cs(a.targetId).forEach(h=>this.xs.add(h.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(r,a.targetId).next(h=>{h.forEach(E=>this.xs.add(E.toString()))}).next(()=>c.removeTargetData(r,a))}vs(){this.Cs=new Set}Vs(r){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return It.forEach(this.xs,c=>{const h=Ft.fromPath(c);return this.ks(r,h).next(E=>{E||a.removeEntry(h)})}).next(()=>(this.Cs=null,a.apply(r)))}updateLimboDocument(r,a){return this.ks(r,a).next(c=>{c?this.xs.delete(a.toString()):this.xs.add(a.toString())})}bs(r){return 0}ks(r,a){return It.or([()=>It.resolve(this.Ds.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(r,a),()=>this.persistence.Ss(r,a)])}}function w_(u,r){return`firestore_clients_${u}_${r}`}function Sm(u,r,a){let c=`firestore_mutations_${u}_${a}`;return r.isAuthenticated()&&(c+=`_${r.uid}`),c}function jh(u,r){return`firestore_targets_${u}_${r}`}class pp{constructor(r,a,c,h){this.user=r,this.batchId=a,this.state=c,this.error=h}static $s(r,a,c){const h=JSON.parse(c);let E,A="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return A&&h.error&&(A="string"==typeof h.error.message&&"string"==typeof h.error.code,A&&(E=new Dt(h.error.code,h.error.message))),A?new pp(r,a,h.state,E):(ln("SharedClientState",`Failed to parse mutation state for ID '${a}': ${c}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Md{constructor(r,a,c){this.targetId=r,this.state=a,this.error=c}static $s(r,a){const c=JSON.parse(a);let h,E="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return E&&c.error&&(E="string"==typeof c.error.message&&"string"==typeof c.error.code,E&&(h=new Dt(c.error.code,c.error.message))),E?new Md(r,c.state,h):(ln("SharedClientState",`Failed to parse target state for ID '${r}': ${a}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class gp{constructor(r,a){this.clientId=r,this.activeTargetIds=a}static $s(r,a){const c=JSON.parse(a);let h="object"==typeof c&&c.activeTargetIds instanceof Array,E=Wl();for(let A=0;h&&A<c.activeTargetIds.length;++A)h=Hu(c.activeTargetIds[A]),E=E.add(c.activeTargetIds[A]);return h?new gp(r,E):(ln("SharedClientState",`Failed to parse client data for instance '${r}': ${a}`),null)}}class Hh{constructor(r,a){this.clientId=r,this.onlineState=a}static $s(r){const a=JSON.parse(r);return"object"==typeof a&&-1!==["Unknown","Online","Offline"].indexOf(a.onlineState)&&"string"==typeof a.clientId?new Hh(a.clientId,a.onlineState):(ln("SharedClientState",`Failed to parse online state: ${r}`),null)}}class $h{constructor(){this.activeTargetIds=Wl()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class mp{constructor(r,a,c,h,E){this.window=r,this.Oe=a,this.persistenceKey=c,this.Ls=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new us(Xn),this.started=!1,this.Ks=[];const A=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=E,this.js=w_(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new $h),this.Ws=new RegExp(`^firestore_clients_${A}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${A}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${A}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(B){return`firestore_bundle_loaded_${B}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,ye.Z)(function*(){const a=yield r.syncEngine.pn();for(const h of a){if(h===r.Ls)continue;const E=r.getItem(w_(r.persistenceKey,h));if(E){const A=gp.$s(h,E);A&&(r.qs=r.qs.insert(A.clientId,A))}}r.Ys();const c=r.storage.getItem(r.Hs);if(c){const h=r.Xs(c);h&&r.Zs(h)}for(const h of r.Ks)r.Us(h);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let a=!1;return this.qs.forEach((c,h)=>{h.activeTargetIds.has(r)&&(a=!0)}),a}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,a,c){this.ei(r,a,c),this.ni(r)}addLocalQueryTarget(r){let a="not-current";if(this.isActiveQueryTarget(r)){const c=this.storage.getItem(jh(this.persistenceKey,r));if(c){const h=Md.$s(r,c);h&&(a=h.state)}}return this.si.Fs(r),this.Ys(),a}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(jh(this.persistenceKey,r))}updateQueryState(r,a,c){this.ii(r,a,c)}handleUserChange(r,a,c){a.forEach(h=>{this.ni(h)}),this.currentUser=r,c.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const a=this.storage.getItem(r);return yt("SharedClientState","READ",r,a),a}setItem(r,a){yt("SharedClientState","SET",r,a),this.storage.setItem(r,a)}removeItem(r){yt("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var a=this;const c=r;if(c.storageArea===this.storage){if(yt("SharedClientState","EVENT",c.key,c.newValue),c.key===this.js)return void ln("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ye.Z)(function*(){if(a.started){if(null!==c.key)if(a.Ws.test(c.key)){if(null==c.newValue){const h=a.ai(c.key);return a.ci(h,null)}{const h=a.ui(c.key,c.newValue);if(h)return a.ci(h.clientId,h)}}else if(a.Gs.test(c.key)){if(null!==c.newValue){const h=a.hi(c.key,c.newValue);if(h)return a.li(h)}}else if(a.zs.test(c.key)){if(null!==c.newValue){const h=a.fi(c.key,c.newValue);if(h)return a.di(h)}}else if(c.key===a.Hs){if(null!==c.newValue){const h=a.Xs(c.newValue);if(h)return a.Zs(h)}}else if(c.key===a.Qs){const h=function(E){let A=qs.T;if(null!=E)try{const B=JSON.parse(E);cn("number"==typeof B),A=B}catch(B){ln("SharedClientState","Failed to read sequence number from WebStorage",B)}return A}(c.newValue);h!==qs.T&&a.sequenceNumberHandler(h)}else if(c.key===a.Js)return a.syncEngine.wi()}else a.Ks.push(c)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,a,c){const h=new pp(this.currentUser,r,a,c),E=Sm(this.persistenceKey,this.currentUser,r);this.setItem(E,h.Os())}ni(r){const a=Sm(this.persistenceKey,this.currentUser,r);this.removeItem(a)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,a,c){const h=jh(this.persistenceKey,r),E=new Md(r,a,c);this.setItem(h,E.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const a=this.Ws.exec(r);return a?a[1]:null}ui(r,a){const c=this.ai(r);return gp.$s(c,a)}hi(r,a){const c=this.Gs.exec(r),h=Number(c[1]);return pp.$s(new Oe(void 0!==c[2]?c[2]:null),h,a)}fi(r,a){const c=this.zs.exec(r),h=Number(c[1]);return Md.$s(h,a)}Xs(r){return Hh.$s(r)}li(r){var a=this;return(0,ye.Z)(function*(){if(r.user.uid===a.currentUser.uid)return a.syncEngine._i(r.batchId,r.state,r.error);yt("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,a){const c=a?this.qs.insert(r,a):this.qs.remove(r),h=this.ti(this.qs),E=this.ti(c),A=[],B=[];return E.forEach(Z=>{h.has(Z)||A.push(Z)}),h.forEach(Z=>{E.has(Z)||B.push(Z)}),this.syncEngine.gi(A,B).then(()=>{this.qs=c})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let a=Wl();return r.forEach((c,h)=>{a=a.unionWith(h.activeTargetIds)}),a}}class Wh{constructor(){this.yi=new $h,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,a,c){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,a,c){this.pi[r]=a}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new $h,Promise.resolve()}handleUserChange(r,a,c){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class LE{Ei(r){}shutdown(){}}class C_{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){yt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){yt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const kE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class VE{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class UE extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,a,c,h){const E=this.Bi(r,a);yt("RestConnection","Sending: ",E,c);const A={};return this.Ui(A,h),this.qi(r,E,A,c).then(B=>(yt("RestConnection","Received: ",B),B),B=>{throw Wi("RestConnection",`${r} failed with error: `,B,"url: ",E,"request:",c),B})}Ki(r,a,c,h){return this.Li(r,a,c,h)}Ui(r,a){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+lt,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a)for(const c in a.authHeaders)a.authHeaders.hasOwnProperty(c)&&(r[c]=a.authHeaders[c])}Bi(r,a){return`${this.Fi}/v1/${a}:${kE[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,a,c,h){return new Promise((E,A)=>{const B=new K;B.listenOnce(Vu.COMPLETE,()=>{try{switch(B.getLastErrorCode()){case Sr.NO_ERROR:const ve=B.getResponseJson();yt("Connection","XHR received:",JSON.stringify(ve)),E(ve);break;case Sr.TIMEOUT:yt("Connection",'RPC "'+r+'" timed out'),A(new Dt(it.DEADLINE_EXCEEDED,"Request time out"));break;case Sr.HTTP_ERROR:const Ie=B.getStatus();if(yt("Connection",'RPC "'+r+'" failed with status:',Ie,"response text:",B.getResponseText()),Ie>0){const Fe=B.getResponseJson().error;if(Fe&&Fe.status&&Fe.message){const ot=function(vt){const kt=vt.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(kt)>=0?kt:it.UNKNOWN}(Fe.status);A(new Dt(ot,Fe.message))}else A(new Dt(it.UNKNOWN,"Server responded with status "+B.getStatus()))}else A(new Dt(it.UNAVAILABLE,"Connection failed."));break;default:qt()}}finally{yt("Connection",'RPC "'+r+'" completed.')}});const Z=JSON.stringify(h);B.send(a,"POST",Z,c,15)})}ji(r,a){const c=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],h=new Be,E=_i(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new D({})),this.Ui(A.initMessageHeaders,a),(0,Ge.uI)()||(0,Ge.b$)()||(0,Ge.d)()||(0,Ge.w1)()||(0,Ge.Mn)()||(0,Ge.ru)()||(A.httpHeadersOverwriteParam="$httpHeaders");const B=c.join("");yt("Connection","Creating WebChannel: "+B,A);const Z=h.createWebChannel(B,A);let ve=!1,Ie=!1;const Fe=new VE({vi:vt=>{Ie?yt("Connection","Not sending because WebChannel is closed:",vt):(ve||(yt("Connection","Opening WebChannel transport."),Z.open(),ve=!0),yt("Connection","WebChannel sending:",vt),Z.send(vt))},Vi:()=>Z.close()}),ot=(vt,kt,pn)=>{vt.listen(kt,Zn=>{try{pn(Zn)}catch(xi){setTimeout(()=>{throw xi},0)}})};return ot(Z,U.EventType.OPEN,()=>{Ie||yt("Connection","WebChannel transport opened.")}),ot(Z,U.EventType.CLOSE,()=>{Ie||(Ie=!0,yt("Connection","WebChannel transport closed"),Fe.$i())}),ot(Z,U.EventType.ERROR,vt=>{Ie||(Ie=!0,Wi("Connection","WebChannel transport errored:",vt),Fe.$i(new Dt(it.UNAVAILABLE,"The operation could not be completed")))}),ot(Z,U.EventType.MESSAGE,vt=>{var kt;if(!Ie){const pn=vt.data[0];cn(!!pn);const Zn=pn,xi=Zn.error||(null===(kt=Zn[0])||void 0===kt?void 0:kt.error);if(xi){yt("Connection","WebChannel received error:",xi);const Xs=xi.status;let Nu=function(oa){const sd=qi[oa];if(void 0!==sd)return Ac(sd)}(Xs),Oo=xi.message;void 0===Nu&&(Nu=it.INTERNAL,Oo="Unknown error status: "+Xs+" with message "+xi.message),Ie=!0,Fe.$i(new Dt(Nu,Oo)),Z.close()}else yt("Connection","WebChannel received:",pn),Fe.Oi(pn)}}),ot(E,N.STAT_EVENT,vt=>{vt.stat===O_PROXY?yt("Connection","Detected buffering proxy"):vt.stat===O_NOPROXY&&yt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Fe.ki()},0),Fe}}function I_(){return"undefined"!=typeof window?window:null}function yp(){return"undefined"!=typeof document?document:null}function Gh(u){return new qf(u,!0)}class Am{constructor(r,a,c=1e3,h=1.5,E=6e4){this.Oe=r,this.timerId=a,this.Qi=c,this.Wi=h,this.Gi=E,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const a=Math.floor(this.zi+this.Zi()),c=Math.max(0,Date.now()-this.Ji),h=Math.max(0,a-c);h>0&&yt("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.zi} ms, delay with jitter: ${a} ms, last attempt: ${c} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,h,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class D_{constructor(r,a,c,h,E,A){this.Oe=r,this.er=c,this.nr=h,this.credentialsProvider=E,this.listener=A,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Am(r,a)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,ye.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,ye.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,a){var c=this;return(0,ye.Z)(function*(){c._r(),c.rr.cancel(),c.sr++,3!==r?c.rr.reset():a&&a.code===it.RESOURCE_EXHAUSTED?(ln(a.toString()),ln("Using maximum backoff delay to prevent overloading the backend."),c.rr.Yi()):a&&a.code===it.UNAUTHENTICATED&&c.credentialsProvider.invalidateToken(),null!==c.stream&&(c.mr(),c.stream.close(),c.stream=null),c.state=r,yield c.listener.Ci(a)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),a=this.sr;this.credentialsProvider.getToken().then(c=>{this.sr===a&&this.yr(c)},c=>{r(()=>{const h=new Dt(it.UNKNOWN,"Fetching auth token failed: "+c.message);return this.pr(h)})})}yr(r){const a=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{a(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(c=>{a(()=>this.pr(c))}),this.stream.onMessage(c=>{a(()=>this.onMessage(c))})}ur(){var r=this;this.state=4,this.rr.Xi((0,ye.Z)(function*(){r.state=0,r.start()}))}pr(r){return yt("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return a=>{this.Oe.enqueueAndForget(()=>this.sr===r?a():(yt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BE extends D_{constructor(r,a,c,h,E){super(r,"listen_stream_connection_backoff","listen_stream_idle",a,c,E),this.N=h}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const a=function(u,r){let a;if("targetChange"in r){const c="NO_CHANGE"===(Z=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Z?1:"REMOVE"===Z?2:"CURRENT"===Z?3:"RESET"===Z?4:qt(),h=r.targetChange.targetIds||[],E=function(Z,ve){return Z.D?(cn(void 0===ve||"string"==typeof ve),as.fromBase64String(ve||"")):(cn(void 0===ve||ve instanceof Uint8Array),as.fromUint8Array(ve||new Uint8Array))}(u,r.targetChange.resumeToken),A=r.targetChange.cause,B=A&&function(Z){const ve=void 0===Z.code?it.UNKNOWN:Ac(Z.code);return new Dt(ve,Z.message||"")}(A);a=new Gu(c,h,E,B||null)}else if("documentChange"in r){const c=r.documentChange,h=Fr(u,c.document.name),E=ki(c.document.updateTime),A=new $({mapValue:{fields:c.document.fields}}),B=me.newFoundDocument(h,E,A);a=new yd(c.targetIds||[],c.removedTargetIds||[],B.key,B)}else if("documentDelete"in r){const c=r.documentDelete,h=Fr(u,c.document),E=c.readTime?ki(c.readTime):zn.min(),A=me.newNoDocument(h,E);a=new yd([],c.removedTargetIds||[],A.key,A)}else if("documentRemove"in r){const c=r.documentRemove,h=Fr(u,c.document);a=new yd([],c.removedTargetIds||[],h,null)}else{if(!("filter"in r))return qt();{const c=r.filter,E=new yl(c.count||0);a=new Gf(c.targetId,E)}}var Z;return a}(this.N,r),c=function(h){if(!("targetChange"in h))return zn.min();const E=h.targetChange;return E.targetIds&&E.targetIds.length?zn.min():E.readTime?ki(E.readTime):zn.min()}(r);return this.listener.Tr(a,c)}Ir(r){const a={};a.database=tu(this.N),a.addTarget=function(h,E){let A;const B=E.target;return A=Ln(B)?{documents:wu(h,B)}:{query:Qs(h,B)},A.targetId=E.targetId,E.resumeToken.approximateByteSize()>0?A.resumeToken=zl(h,E.resumeToken):E.snapshotVersion.compareTo(zn.min())>0&&(A.readTime=Gl(h,E.snapshotVersion.toTimestamp())),A}(this.N,r);const c=function(u,r){const a=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qt()}}(0,r.purpose);return null==a?null:{"goog-listen-tags":a}}(0,r);c&&(a.labels=c),this.wr(a)}Ar(r){const a={};a.database=tu(this.N),a.removeTarget=r,this.wr(a)}}class Tl extends D_{constructor(r,a,c,h,E){super(r,"write_stream_connection_backoff","write_stream_idle",a,c,E),this.N=h,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(cn(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const a=function(u,r){return u&&u.length>0?(cn(void 0!==r),u.map(a=>function(c,h){let E=ki(c.updateTime?c.updateTime:h);return E.isEqual(zn.min())&&(E=ki(h)),new gl(E,c.transformResults||[])}(a,r))):[]}(r.writeResults,r.commitTime),c=ki(r.commitTime);return this.listener.vr(c,a)}return cn(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=tu(this.N),this.wr(r)}br(r){const a={streamToken:this.lastStreamToken,writes:r.map(c=>Zl(this.N,c))};this.wr(a)}}class _p extends class{}{constructor(r,a,c){super(),this.credentials=r,this.nr=a,this.N=c,this.Dr=!1}Cr(){if(this.Dr)throw new Dt(it.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,a,c){return this.Cr(),this.credentials.getToken().then(h=>this.nr.Li(r,a,c,h)).catch(h=>{throw"FirebaseError"===h.name?(h.code===it.UNAUTHENTICATED&&this.credentials.invalidateToken(),h):new Dt(it.UNKNOWN,h.toString())})}Ki(r,a,c){return this.Cr(),this.credentials.getToken().then(h=>this.nr.Ki(r,a,c,h)).catch(h=>{throw"FirebaseError"===h.name?(h.code===it.UNAUTHENTICATED&&this.credentials.invalidateToken(),h):new Dt(it.UNKNOWN,h.toString())})}terminate(){this.Dr=!0}}class T_{constructor(r,a){this.asyncQueue=r,this.onlineStateHandler=a,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const a=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(ln(a),this.$r=!1):yt("OnlineStateTracker",a)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class xm{constructor(r,a,c,h,E){var A=this;this.localStore=r,this.datastore=a,this.asyncQueue=c,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=E,this.Qr.Ei(B=>{c.enqueueAndForget((0,ye.Z)(function*(){var Z;Yu(A)&&(yt("RemoteStore","Restarting streams for network reachability change."),yield(Z=(0,ye.Z)(function*(ve){const Ie=Mt(ve);Ie.Kr.add(4),yield Sl(Ie),Ie.Wr.set("Unknown"),Ie.Kr.delete(4),yield sc(Ie)}),function(ve){return Z.apply(this,arguments)})(A))}))}),this.Wr=new T_(c,h)}}function sc(u){return zh.apply(this,arguments)}function zh(){return(zh=(0,ye.Z)(function*(u){if(Yu(u))for(const r of u.jr)yield r(!0)})).apply(this,arguments)}function Sl(u){return vp.apply(this,arguments)}function vp(){return(vp=(0,ye.Z)(function*(u){for(const r of u.jr)yield r(!1)})).apply(this,arguments)}function iu(u,r){const a=Mt(u);a.qr.has(r.targetId)||(a.qr.set(r.targetId,r),bp(a)?Rd(a):Kc(a).cr()&&Ep(a,r))}function Wc(u,r){const a=Mt(u),c=Kc(a);a.qr.delete(r),c.cr()&&S_(a,r),0===a.qr.size&&(c.cr()?c.lr():Yu(a)&&a.Wr.set("Unknown"))}function Ep(u,r){u.Gr.Y(r.targetId),Kc(u).Ir(r)}function S_(u,r){u.Gr.Y(r),Kc(u).Ar(r)}function Rd(u){u.Gr=new _d({getRemoteKeysForTarget:r=>u.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>u.qr.get(r)||null}),Kc(u).start(),u.Wr.Or()}function bp(u){return Yu(u)&&!Kc(u).ar()&&u.qr.size>0}function Yu(u){return 0===Mt(u).Kr.size}function Om(u){u.Gr=void 0}function A_(u){return oc.apply(this,arguments)}function oc(){return(oc=(0,ye.Z)(function*(u){u.qr.forEach((r,a)=>{Ep(u,r)})})).apply(this,arguments)}function Gc(u,r){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,ye.Z)(function*(u,r){Om(u),bp(u)?(u.Wr.Lr(r),Rd(u)):u.Wr.set("Unknown")})).apply(this,arguments)}function zc(u,r,a){return ac.apply(this,arguments)}function ac(){return(ac=(0,ye.Z)(function*(u,r,a){if(u.Wr.set("Online"),r instanceof Gu&&2===r.state&&r.cause)try{yield(c=(0,ye.Z)(function*(h,E){const A=E.cause;for(const B of E.targetIds)h.qr.has(B)&&(yield h.remoteSyncer.rejectListen(B,A),h.qr.delete(B),h.Gr.removeTarget(B))}),function(h,E){return c.apply(this,arguments)})(u,r)}catch(c){yt("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),c),yield Qu(u,c)}else if(r instanceof yd?u.Gr.rt(r):r instanceof Gf?u.Gr.ft(r):u.Gr.ct(r),!a.isEqual(zn.min()))try{const c=yield wm(u.localStore);a.compareTo(c)>=0&&(yield function(h,E){const A=h.Gr._t(E);return A.targetChanges.forEach((B,Z)=>{if(B.resumeToken.approximateByteSize()>0){const ve=h.qr.get(Z);ve&&h.qr.set(Z,ve.withResumeToken(B.resumeToken,E))}}),A.targetMismatches.forEach(B=>{const Z=h.qr.get(B);if(!Z)return;h.qr.set(B,Z.withResumeToken(as.EMPTY_BYTE_STRING,Z.snapshotVersion)),S_(h,B);const ve=new Iu(Z.target,B,1,Z.sequenceNumber);Ep(h,ve)}),h.remoteSyncer.applyRemoteEvent(A)}(u,a))}catch(c){yt("RemoteStore","Failed to raise snapshot:",c),yield Qu(u,c)}var c})).apply(this,arguments)}function Qu(u,r,a){return wp.apply(this,arguments)}function wp(){return(wp=(0,ye.Z)(function*(u,r,a){if(!nu(r))throw r;u.Kr.add(1),yield Sl(u),u.Wr.set("Offline"),a||(a=()=>wm(u.localStore)),u.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){yt("RemoteStore","Retrying IndexedDB access"),yield a(),u.Kr.delete(1),yield sc(u)}))})).apply(this,arguments)}function Cp(u,r){return r().catch(a=>Qu(u,a,r))}function uc(u){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,ye.Z)(function*(u){const r=Mt(u),a=lc(r);let c=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;Ip(r);)try{const h=yield Im(r.localStore,c);if(null===h){0===r.Ur.length&&a.lr();break}c=h.batchId,Mm(r,h)}catch(h){yield Qu(r,h)}Fd(r)&&Rm(r)})).apply(this,arguments)}function Ip(u){return Yu(u)&&u.Ur.length<10}function Mm(u,r){u.Ur.push(r);const a=lc(u);a.cr()&&a.Pr&&a.br(r.mutations)}function Fd(u){return Yu(u)&&!lc(u).ar()&&u.Ur.length>0}function Rm(u){lc(u).start()}function Nm(u){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,ye.Z)(function*(u){lc(u).Sr()})).apply(this,arguments)}function Fm(u){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,ye.Z)(function*(u){const r=lc(u);for(const a of u.Ur)r.br(a.mutations)})).apply(this,arguments)}function x_(u,r,a){return qh.apply(this,arguments)}function qh(){return(qh=(0,ye.Z)(function*(u,r,a){const c=u.Ur.shift(),h=Sd.from(c,r,a);yield Cp(u,()=>u.remoteSyncer.applySuccessfulWrite(h)),yield uc(u)})).apply(this,arguments)}function O_(u,r){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,ye.Z)(function*(u,r){var a;r&&lc(u).Pr&&(yield(a=(0,ye.Z)(function*(c,h){if(mh(E=h.code)&&E!==it.ABORTED){const A=c.Ur.shift();lc(c).hr(),yield Cp(c,()=>c.remoteSyncer.rejectFailedWrite(A.batchId,h)),yield uc(c)}var E}),function(c,h){return a.apply(this,arguments)})(u,r)),Fd(u)&&Rm(u)})).apply(this,arguments)}function Wo(u,r){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,ye.Z)(function*(u,r){const a=Mt(u);r?(a.Kr.delete(2),yield sc(a)):r||(a.Kr.add(2),yield Sl(a),a.Wr.set("Unknown"))})).apply(this,arguments)}function Kc(u){return u.zr||(u.zr=function(r,a,c){const h=Mt(r);return h.Cr(),new BE(a,h.nr,h.credentials,h.N,c)}(u.datastore,u.asyncQueue,{Si:A_.bind(null,u),Ci:Gc.bind(null,u),Tr:zc.bind(null,u)}),u.jr.push(function(){var r=(0,ye.Z)(function*(a){a?(u.zr.hr(),bp(u)?Rd(u):u.Wr.set("Unknown")):(yield u.zr.stop(),Om(u))});return function(a){return r.apply(this,arguments)}}())),u.zr}function lc(u){return u.Hr||(u.Hr=function(r,a,c){const h=Mt(r);return h.Cr(),new Tl(a,h.nr,h.credentials,h.N,c)}(u.datastore,u.asyncQueue,{Si:Nm.bind(null,u),Ci:O_.bind(null,u),Vr:Fm.bind(null,u),vr:x_.bind(null,u)}),u.jr.push(function(){var r=(0,ye.Z)(function*(a){a?(u.Hr.hr(),yield uc(u)):(yield u.Hr.stop(),u.Ur.length>0&&(yt("RemoteStore",`Stopping write stream with ${u.Ur.length} pending writes`),u.Ur=[]))});return function(a){return r.apply(this,arguments)}}())),u.Hr}class Lm{constructor(r,a,c,h,E){this.asyncQueue=r,this.timerId=a,this.targetTimeMs=c,this.op=h,this.removalCallback=E,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}static createAndSchedule(r,a,c,h,E){const A=Date.now()+c,B=new Lm(r,a,A,h,E);return B.start(c),B}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dt(it.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cc(u,r){if(ln("AsyncQueue",`${r}: ${u}`),nu(u))return new Dt(it.UNAVAILABLE,`${r}: ${u}`);throw u}class Ld{constructor(r){this.comparator=r?(a,c)=>r(a,c)||Ft.comparator(a.key,c.key):(a,c)=>Ft.comparator(a.key,c.key),this.keyedMap=gd(),this.sortedSet=new us(this.comparator)}static emptySet(r){return new Ld(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const a=this.keyedMap.get(r);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((a,c)=>(r(a),!1))}add(r){const a=this.delete(r.key);return a.copy(a.keyedMap.insert(r.key,r),a.sortedSet.insert(r,null))}delete(r){const a=this.get(r);return a?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(a)):this}isEqual(r){if(!(r instanceof Ld)||this.size!==r.size)return!1;const a=this.sortedSet.getIterator(),c=r.sortedSet.getIterator();for(;a.hasNext();){const h=a.getNext().key,E=c.getNext().key;if(!h.isEqual(E))return!1}return!0}toString(){const r=[];return this.forEach(a=>{r.push(a.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,a){const c=new Ld;return c.comparator=this.comparator,c.keyedMap=r,c.sortedSet=a,c}}class km{constructor(){this.Jr=new us(Ft.comparator)}track(r){const a=r.doc.key,c=this.Jr.get(a);c?0!==r.type&&3===c.type?this.Jr=this.Jr.insert(a,r):3===r.type&&1!==c.type?this.Jr=this.Jr.insert(a,{type:c.type,doc:r.doc}):2===r.type&&2===c.type?this.Jr=this.Jr.insert(a,{type:2,doc:r.doc}):2===r.type&&0===c.type?this.Jr=this.Jr.insert(a,{type:0,doc:r.doc}):1===r.type&&0===c.type?this.Jr=this.Jr.remove(a):1===r.type&&2===c.type?this.Jr=this.Jr.insert(a,{type:1,doc:c.doc}):0===r.type&&1===c.type?this.Jr=this.Jr.insert(a,{type:2,doc:r.doc}):qt():this.Jr=this.Jr.insert(a,r)}Yr(){const r=[];return this.Jr.inorderTraversal((a,c)=>{r.push(c)}),r}}class Al{constructor(r,a,c,h,E,A,B,Z){this.query=r,this.docs=a,this.oldDocs=c,this.docChanges=h,this.mutatedKeys=E,this.fromCache=A,this.syncStateChanged=B,this.excludesMetadataChanges=Z}static fromInitialDocuments(r,a,c,h){const E=[];return a.forEach(A=>{E.push({type:0,doc:A})}),new Al(r,a,Ld.emptySet(a),E,c,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&Or(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const a=this.docChanges,c=r.docChanges;if(a.length!==c.length)return!1;for(let h=0;h<a.length;h++)if(a[h].type!==c[h].type||!a[h].doc.isEqual(c[h].doc))return!1;return!0}}class Vm{constructor(){this.Xr=void 0,this.listeners=[]}}class M_{constructor(){this.queries=new qu(r=>ea(r),Or),this.onlineState="Unknown",this.Zr=new Set}}function Sp(u,r){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,ye.Z)(function*(u,r){const a=Mt(u),c=r.query;let h=!1,E=a.queries.get(c);if(E||(h=!0,E=new Vm),h)try{E.Xr=yield a.onListen(c)}catch(A){const B=cc(A,`Initialization of query '${Ts(r.query)}' failed`);return void r.onError(B)}a.queries.set(c,E),E.listeners.push(r),r.eo(a.onlineState),E.Xr&&r.no(E.Xr)&&Op(a)})).apply(this,arguments)}function Zh(u,r){return xp.apply(this,arguments)}function xp(){return(xp=(0,ye.Z)(function*(u,r){const a=Mt(u),c=r.query;let h=!1;const E=a.queries.get(c);if(E){const A=E.listeners.indexOf(r);A>=0&&(E.listeners.splice(A,1),h=0===E.listeners.length)}if(h)return a.queries.delete(c),a.onUnlisten(c)})).apply(this,arguments)}function Um(u,r){const a=Mt(u);let c=!1;for(const h of r){const A=a.queries.get(h.query);if(A){for(const B of A.listeners)B.no(h)&&(c=!0);A.Xr=h}}c&&Op(a)}function R_(u,r,a){const c=Mt(u),h=c.queries.get(r);if(h)for(const E of h.listeners)E.onError(a);c.queries.delete(r)}function Op(u){u.Zr.forEach(r=>{r.next()})}class Yh{constructor(r,a,c){this.query=r,this.so=a,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=c||{}}no(r){if(!this.options.includeMetadataChanges){const c=[];for(const h of r.docChanges)3!==h.type&&c.push(h);r=new Al(r.query,r.docs,r.oldDocs,c,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let a=!1;return this.io?this.oo(r)&&(this.so.next(r),a=!0):this.ao(r,this.onlineState)&&(this.co(r),a=!0),this.ro=r,a}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let a=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),a=!0),a}ao(r,a){return!r.fromCache||!(this.options.uo&&"Offline"!==a||r.docs.isEmpty()&&"Offline"!==a)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=Al.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class Bm{constructor(r,a){this.payload=r,this.byteLength=a}ho(){return"metadata"in this.payload}}class jm{constructor(r){this.N=r}zn(r){return Fr(this.N,r)}Hn(r){return r.metadata.exists?Lc(this.N,r.document,!1):me.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return ki(r)}}class Tu{constructor(r,a,c){this.lo=r,this.localStore=a,this.N=c,this.queries=[],this.documents=[],this.progress=Qh(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let a=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++a):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++a),a!==this.progress.documentsLoaded?(this.progress.documentsLoaded=a,Object.assign({},this.progress)):null}wo(r){const a=new Map,c=new jm(this.N);for(const h of r)if(h.metadata.queries){const E=c.zn(h.metadata.name);for(const A of h.metadata.queries){const B=(a.get(A)||Cr()).add(E);a.set(A,B)}}return a}complete(){var r=this;return(0,ye.Z)(function*(){const a=yield function(u,r,a,c){return dp.apply(this,arguments)}(r.localStore,new jm(r.N),r.documents,r.lo.id),c=r.wo(r.documents);for(const h of r.queries)yield hp(r.localStore,h,c.get(h.name));return r.progress.taskState="Success",new _m(Object.assign({},r.progress),a)})()}}function Qh(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class Hm{constructor(r){this.key=r}}class $m{constructor(r){this.key=r}}class N_{constructor(r,a){this.query=r,this._o=a,this.mo=null,this.current=!1,this.yo=Cr(),this.mutatedKeys=Cr(),this.po=ka(r),this.Eo=new Ld(this.po)}get To(){return this._o}Io(r,a){const c=a?a.Ao:new km,h=a?a.Eo:this.Eo;let E=a?a.mutatedKeys:this.mutatedKeys,A=h,B=!1;const Z=Jt(this.query)&&h.size===this.query.limit?h.last():null,ve=fn(this.query)&&h.size===this.query.limit?h.first():null;if(r.inorderTraversal((Ie,Fe)=>{const ot=h.get(Ie),vt=Ss(this.query,Fe)?Fe:null,kt=!!ot&&this.mutatedKeys.has(ot.key),pn=!!vt&&(vt.hasLocalMutations||this.mutatedKeys.has(vt.key)&&vt.hasCommittedMutations);let Zn=!1;ot&&vt?ot.data.isEqual(vt.data)?kt!==pn&&(c.track({type:3,doc:vt}),Zn=!0):this.Ro(ot,vt)||(c.track({type:2,doc:vt}),Zn=!0,(Z&&this.po(vt,Z)>0||ve&&this.po(vt,ve)<0)&&(B=!0)):!ot&&vt?(c.track({type:0,doc:vt}),Zn=!0):ot&&!vt&&(c.track({type:1,doc:ot}),Zn=!0,(Z||ve)&&(B=!0)),Zn&&(vt?(A=A.add(vt),E=pn?E.add(Ie):E.delete(Ie)):(A=A.delete(Ie),E=E.delete(Ie)))}),Jt(this.query)||fn(this.query))for(;A.size>this.query.limit;){const Ie=Jt(this.query)?A.last():A.first();A=A.delete(Ie.key),E=E.delete(Ie.key),c.track({type:1,doc:Ie})}return{Eo:A,Ao:c,Ln:B,mutatedKeys:E}}Ro(r,a){return r.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(r,a,c){const h=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const E=r.Ao.Yr();E.sort((ve,Ie)=>function(Fe,ot){const vt=kt=>{switch(kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt()}};return vt(Fe)-vt(ot)}(ve.type,Ie.type)||this.po(ve.doc,Ie.doc)),this.Po(c);const A=a?this.bo():[],B=0===this.yo.size&&this.current?1:0,Z=B!==this.mo;return this.mo=B,0!==E.length||Z?{snapshot:new Al(this.query,r.Eo,h,E,r.mutatedKeys,0===B,Z,!1),vo:A}:{vo:A}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new km,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(a=>this._o=this._o.add(a)),r.modifiedDocuments.forEach(a=>{}),r.removedDocuments.forEach(a=>this._o=this._o.delete(a)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=Cr(),this.Eo.forEach(c=>{this.Vo(c.key)&&(this.yo=this.yo.add(c.key))});const a=[];return r.forEach(c=>{this.yo.has(c)||a.push(new $m(c))}),this.yo.forEach(c=>{r.has(c)||a.push(new Hm(c))}),a}So(r){this._o=r.Gn,this.yo=Cr();const a=this.Io(r.documents);return this.applyChanges(a,!0)}Do(){return Al.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Wm{constructor(r,a,c){this.query=r,this.targetId=a,this.view=c}}class P_{constructor(r){this.key=r,this.Co=!1}}class F_{constructor(r,a,c,h,E,A){this.localStore=r,this.remoteStore=a,this.eventManager=c,this.sharedClientState=h,this.currentUser=E,this.maxConcurrentLimboResolutions=A,this.No={},this.xo=new qu(B=>ea(B),Or),this.ko=new Map,this.$o=new Set,this.Oo=new us(Ft.comparator),this.Fo=new Map,this.Mo=new Vh,this.Lo={},this.Bo=new Map,this.Uo=Il.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function L_(u,r){return kd.apply(this,arguments)}function kd(){return(kd=(0,ye.Z)(function*(u,r){const a=$p(u);let c,h;const E=a.xo.get(r);if(E)c=E.targetId,a.sharedClientState.addLocalQueryTarget(c),h=E.view.Do();else{const A=yield Hc(a.localStore,Xr(r)),B=a.sharedClientState.addLocalQueryTarget(A.targetId);c=A.targetId,h=yield Mp(a,r,c,"current"===B),a.isPrimaryClient&&iu(a.remoteStore,A)}return h})).apply(this,arguments)}function Mp(u,r,a,c){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,ye.Z)(function*(u,r,a,c){u.Ko=(Ie,Fe,ot)=>{return(vt=(0,ye.Z)(function*(kt,pn,Zn,xi){let Xs=pn.view.Io(Zn);Xs.Ln&&(Xs=yield Kn(kt.localStore,pn.query,!1).then(({documents:oa})=>pn.view.Io(oa,Xs)));const Nu=xi&&xi.targetChanges.get(pn.targetId),Oo=pn.view.applyChanges(Xs,kt.isPrimaryClient,Nu);return Pp(kt,pn.targetId,Oo.vo),Oo.snapshot}),function(kt,pn,Zn,xi){return vt.apply(this,arguments)})(u,Ie,Fe,ot);var vt};const h=yield Kn(u.localStore,r,!0),E=new N_(r,h.Gn),A=E.Io(h.documents),B=_l.createSynthesizedTargetChangeForCurrentChange(a,c&&"Offline"!==u.onlineState),Z=E.applyChanges(A,u.isPrimaryClient,B);Pp(u,a,Z.vo);const ve=new Wm(r,a,E);return u.xo.set(r,ve),u.ko.has(a)?u.ko.get(a).push(r):u.ko.set(a,[r]),Z.snapshot})).apply(this,arguments)}function Jh(u,r){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,ye.Z)(function*(u,r){const a=Mt(u),c=a.xo.get(r),h=a.ko.get(c.targetId);if(h.length>1)return a.ko.set(c.targetId,h.filter(E=>!Or(E,r))),void a.xo.delete(r);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(c.targetId),a.sharedClientState.isActiveQueryTarget(c.targetId)||(yield $c(a.localStore,c.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(c.targetId),Wc(a.remoteStore,c.targetId),Ju(a,c.targetId)}).catch(Du))):(Ju(a,c.targetId),yield $c(a.localStore,c.targetId,!0))})).apply(this,arguments)}function Ud(){return(Ud=(0,ye.Z)(function*(u,r,a){const c=Jm(u);try{const h=yield function(E,A){const B=Mt(E),Z=Qr.now(),ve=A.reduce((Fe,ot)=>Fe.add(ot.key),Cr());let Ie;return B.persistence.runTransaction("Locally write mutations","readwrite",Fe=>B.Qn.bn(Fe,ve).next(ot=>{Ie=ot;const vt=[];for(const kt of A){const pn=hh(kt,Ie.get(kt.key));null!=pn&&vt.push(new Eu(kt.key,pn,J(pn.value.mapValue),Fi.exists(!0)))}return B.In.addMutationBatch(Fe,Z,vt,A)})).then(Fe=>(Fe.applyToLocalDocumentSet(Ie),{batchId:Fe.batchId,changes:Ie}))}(c.localStore,r);c.sharedClientState.addPendingMutation(h.batchId),function(E,A,B){let Z=E.Lo[E.currentUser.toKey()];Z||(Z=new us(Xn)),Z=Z.insert(A,B),E.Lo[E.currentUser.toKey()]=Z}(c,h.batchId,a),yield Su(c,h.changes),yield uc(c.remoteStore)}catch(h){const E=cc(h,"Failed to persist write");a.reject(E)}})).apply(this,arguments)}function Xh(u,r){return ef.apply(this,arguments)}function ef(){return(ef=(0,ye.Z)(function*(u,r){const a=Mt(u);try{const c=yield b_(a.localStore,r);r.targetChanges.forEach((h,E)=>{const A=a.Fo.get(E);A&&(cn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?A.Co=!0:h.modifiedDocuments.size>0?cn(A.Co):h.removedDocuments.size>0&&(cn(A.Co),A.Co=!1))}),yield Su(a,c,r)}catch(c){yield Du(c)}})).apply(this,arguments)}function Gm(u,r,a){const c=Mt(u);if(c.isPrimaryClient&&0===a||!c.isPrimaryClient&&1===a){const h=[];c.xo.forEach((E,A)=>{const B=A.view.eo(r);B.snapshot&&h.push(B.snapshot)}),function(E,A){const B=Mt(E);B.onlineState=A;let Z=!1;B.queries.forEach((ve,Ie)=>{for(const Fe of Ie.listeners)Fe.eo(A)&&(Z=!0)}),Z&&Op(B)}(c.eventManager,r),h.length&&c.No.Tr(h),c.onlineState=r,c.isPrimaryClient&&c.sharedClientState.setOnlineState(r)}}function V_(u,r,a){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,ye.Z)(function*(u,r,a){const c=Mt(u);c.sharedClientState.updateQueryState(r,"rejected",a);const h=c.Fo.get(r),E=h&&h.key;if(E){let A=new us(Ft.comparator);A=A.insert(E,me.newNoDocument(E,zn.min()));const B=Cr().add(E),Z=new bu(zn.min(),new Map,new Li(Xn),A,B);yield Xh(c,Z),c.Oo=c.Oo.remove(E),c.Fo.delete(r),xl(c)}else yield $c(c.localStore,r,!1).then(()=>Ju(c,r,a)).catch(Du)})).apply(this,arguments)}function jE(u,r){return Np.apply(this,arguments)}function Np(){return(Np=(0,ye.Z)(function*(u,r){const a=Mt(u),c=r.batch.batchId;try{const h=yield E_(a.localStore,r);su(a,c,null),rf(a,c),a.sharedClientState.updateMutationState(c,"acknowledged"),yield Su(a,h)}catch(h){yield Du(h)}})).apply(this,arguments)}function zm(u,r,a){return tf.apply(this,arguments)}function tf(){return(tf=(0,ye.Z)(function*(u,r,a){const c=Mt(u);try{const h=yield function(E,A){const B=Mt(E);return B.persistence.runTransaction("Reject batch","readwrite-primary",Z=>{let ve;return B.In.lookupMutationBatch(Z,A).next(Ie=>(cn(null!==Ie),ve=Ie.keys(),B.In.removeMutationBatch(Z,Ie))).next(()=>B.In.performConsistencyCheck(Z)).next(()=>B.Qn.bn(Z,ve))})}(c.localStore,r);su(c,r,a),rf(c,r),c.sharedClientState.updateMutationState(r,"rejected",a),yield Su(c,h)}catch(h){yield Du(h)}})).apply(this,arguments)}function nf(){return(nf=(0,ye.Z)(function*(u,r){const a=Mt(u);Yu(a.remoteStore)||yt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(E){const A=Mt(E);return A.persistence.runTransaction("Get highest unacknowledged batch id","readonly",B=>A.In.getHighestUnacknowledgedBatchId(B))}(a.localStore);if(-1===c)return void r.resolve();const h=a.Bo.get(c)||[];h.push(r),a.Bo.set(c,h)}catch(c){const h=cc(c,"Initialization of waitForPendingWrites() operation failed");r.reject(h)}})).apply(this,arguments)}function rf(u,r){(u.Bo.get(r)||[]).forEach(a=>{a.resolve()}),u.Bo.delete(r)}function su(u,r,a){const c=Mt(u);let h=c.Lo[c.currentUser.toKey()];if(h){const E=h.get(r);E&&(a?E.reject(a):E.resolve(),h=h.remove(r)),c.Lo[c.currentUser.toKey()]=h}}function Ju(u,r,a=null){u.sharedClientState.removeLocalQueryTarget(r);for(const c of u.ko.get(r))u.xo.delete(c),a&&u.No.jo(c,a);u.ko.delete(r),u.isPrimaryClient&&u.Mo.cs(r).forEach(c=>{u.Mo.containsKey(c)||qm(u,c)})}function qm(u,r){u.$o.delete(r.path.canonicalString());const a=u.Oo.get(r);null!==a&&(Wc(u.remoteStore,a),u.Oo=u.Oo.remove(r),u.Fo.delete(a),xl(u))}function Pp(u,r,a){for(const c of a)c instanceof Hm?(u.Mo.addReference(c.key,r),HE(u,c)):c instanceof $m?(yt("SyncEngine","Document no longer in limbo: "+c.key),u.Mo.removeReference(c.key,r),u.Mo.containsKey(c.key)||qm(u,c.key)):qt()}function HE(u,r){const a=r.key,c=a.path.canonicalString();u.Oo.get(a)||u.$o.has(c)||(yt("SyncEngine","New document in limbo: "+a),u.$o.add(c),xl(u))}function xl(u){for(;u.$o.size>0&&u.Oo.size<u.maxConcurrentLimboResolutions;){const r=u.$o.values().next().value;u.$o.delete(r);const a=new Ft(wr.fromString(r)),c=u.Uo.next();u.Fo.set(c,new P_(a)),u.Oo=u.Oo.insert(a,c),iu(u.remoteStore,new Iu(Xr(Br(a.path)),c,2,qs.T))}}function Su(u,r,a){return dc.apply(this,arguments)}function dc(){return(dc=(0,ye.Z)(function*(u,r,a){const c=Mt(u),h=[],E=[],A=[];var B;c.xo.isEmpty()||(c.xo.forEach((B,Z)=>{A.push(c.Ko(Z,r,a).then(ve=>{if(ve){c.isPrimaryClient&&c.sharedClientState.updateQueryState(Z.targetId,ve.fromCache?"not-current":"current"),h.push(ve);const Ie=Fh.kn(Z.targetId,ve);E.push(Ie)}}))}),yield Promise.all(A),c.No.Tr(h),yield(B=(0,ye.Z)(function*(Z,ve){const Ie=Mt(Z);try{yield Ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",Fe=>It.forEach(ve,ot=>It.forEach(ot.Nn,vt=>Ie.persistence.referenceDelegate.addReference(Fe,ot.targetId,vt)).next(()=>It.forEach(ot.xn,vt=>Ie.persistence.referenceDelegate.removeReference(Fe,ot.targetId,vt)))))}catch(Fe){if(!nu(Fe))throw Fe;yt("LocalStore","Failed to update sequence numbers: "+Fe)}for(const Fe of ve){const ot=Fe.targetId;if(!Fe.fromCache){const vt=Ie.Un.get(ot),pn=vt.withLastLimboFreeSnapshotVersion(vt.snapshotVersion);Ie.Un=Ie.Un.insert(ot,pn)}}}),function(Z,ve){return B.apply(this,arguments)})(c.localStore,E))})).apply(this,arguments)}function jd(u,r){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,ye.Z)(function*(u,r){const a=Mt(u);if(!a.currentUser.isEqual(r)){yt("SyncEngine","User change. New user:",r.toKey());const c=yield bm(a.localStore,r);a.currentUser=r,(h=a).Bo.forEach(A=>{A.forEach(B=>{B.reject(new Dt(it.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Bo.clear(),a.sharedClientState.handleUserChange(r,c.removedBatchIds,c.addedBatchIds),yield Su(a,c.Wn)}var h})).apply(this,arguments)}function Lp(u,r){const a=Mt(u),c=a.Fo.get(r);if(c&&c.Co)return Cr().add(c.key);{let h=Cr();const E=a.ko.get(r);if(!E)return h;for(const A of E){const B=a.xo.get(A);h=h.unionWith(B.view.To)}return h}}function Zm(u,r){return kp.apply(this,arguments)}function kp(){return(kp=(0,ye.Z)(function*(u,r){const a=Mt(u),c=yield Kn(a.localStore,r.query,!0),h=r.view.So(c);return a.isPrimaryClient&&Pp(a,r.targetId,h.vo),h})).apply(this,arguments)}function Ym(u){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,ye.Z)(function*(u){const r=Mt(u);return cp(r.localStore).then(a=>Su(r,a))})).apply(this,arguments)}function Up(u,r,a,c){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,ye.Z)(function*(u,r,a,c){const h=Mt(u),E=yield function(A,B){const Z=Mt(A),ve=Mt(Z.In);return Z.persistence.runTransaction("Lookup mutation documents","readonly",Ie=>ve.Xt(Ie,B).next(Fe=>Fe?Z.Qn.bn(Ie,Fe):It.resolve(null)))}(h.localStore,r);var B;null!==E?("pending"===a?yield uc(h.remoteStore):"acknowledged"===a||"rejected"===a?(su(h,r,c||null),rf(h,r),B=r,Mt(Mt(h.localStore).In).te(B)):qt(),yield Su(h,E)):yt("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function sf(){return(sf=(0,ye.Z)(function*(u,r){const a=Mt(u);if($p(a),Jm(a),!0===r&&!0!==a.qo){const c=a.sharedClientState.getAllActiveQueryTargets(),h=yield hc(a,c.toArray());a.qo=!0,yield Wo(a.remoteStore,!0);for(const E of h)iu(a.remoteStore,E)}else if(!1===r&&!1!==a.qo){const c=[];let h=Promise.resolve();a.ko.forEach((E,A)=>{a.sharedClientState.isLocalQueryTarget(A)?c.push(A):h=h.then(()=>(Ju(a,A),$c(a.localStore,A,!0))),Wc(a.remoteStore,A)}),yield h,yield hc(a,c),function(E){const A=Mt(E);A.Fo.forEach((B,Z)=>{Wc(A.remoteStore,Z)}),A.Mo.us(),A.Fo=new Map,A.Oo=new us(Ft.comparator)}(a),a.qo=!1,yield Wo(a.remoteStore,!1)}})).apply(this,arguments)}function hc(u,r,a){return of.apply(this,arguments)}function of(){return(of=(0,ye.Z)(function*(u,r,a){const c=Mt(u),h=[],E=[];for(const A of r){let B;const Z=c.ko.get(A);if(Z&&0!==Z.length){B=yield Hc(c.localStore,Xr(Z[0]));for(const ve of Z){const Ie=c.xo.get(ve),Fe=yield Zm(c,Ie);Fe.snapshot&&E.push(Fe.snapshot)}}else{const ve=yield lp(c.localStore,A);B=yield Hc(c.localStore,ve),yield Mp(c,Qm(ve),A,!1)}h.push(B)}return c.No.Tr(E),h})).apply(this,arguments)}function Qm(u){return cl(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function B_(u){const r=Mt(u);return Mt(Mt(r.localStore).persistence).pn()}function qc(u,r,a,c){return jp.apply(this,arguments)}function jp(){return(jp=(0,ye.Z)(function*(u,r,a,c){const h=Mt(u);if(h.qo)yt("SyncEngine","Ignoring unexpected query state notification.");else if(h.ko.has(r))switch(a){case"current":case"not-current":{const E=yield cp(h.localStore),A=bu.createSynthesizedRemoteEventForCurrentChange(r,"current"===a);yield Su(h,E,A);break}case"rejected":yield $c(h.localStore,r,!0),Ju(h,r,c);break;default:qt()}})).apply(this,arguments)}function j_(u,r,a){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,ye.Z)(function*(u,r,a){const c=$p(u);if(c.qo){for(const h of r){if(c.ko.has(h)){yt("SyncEngine","Adding an already active target "+h);continue}const E=yield lp(c.localStore,h),A=yield Hc(c.localStore,E);yield Mp(c,Qm(E),A.targetId,!1),iu(c.remoteStore,A)}for(const h of a)c.ko.has(h)&&(yield $c(c.localStore,h,!1).then(()=>{Wc(c.remoteStore,h),Ju(c,h)}).catch(Du))}})).apply(this,arguments)}function $p(u){const r=Mt(u);return r.remoteStore.remoteSyncer.applyRemoteEvent=Xh.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lp.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=V_.bind(null,r),r.No.Tr=Um.bind(null,r.eventManager),r.No.jo=R_.bind(null,r.eventManager),r}function Jm(u){const r=Mt(u);return r.remoteStore.remoteSyncer.applySuccessfulWrite=jE.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=zm.bind(null,r),r}class Wp{constructor(){this.synchronizeTabs=!1}initialize(r){var a=this;return(0,ye.Z)(function*(){a.N=Gh(r.databaseInfo.databaseId),a.sharedClientState=a.Wo(r),a.persistence=a.Go(r),yield a.persistence.start(),a.gcScheduler=a.zo(r),a.localStore=a.Ho(r)})()}zo(r){return null}Ho(r){return ja(this.persistence,new Em,r.initialUser,this.N)}Go(r){return new Uh(Od.Ns,this.N)}Wo(r){return new Wh}terminate(){var r=this;return(0,ye.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class Wr extends Wp{constructor(r,a,c){super(),this.Jo=r,this.cacheSizeBytes=a,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(r){var a=()=>super.initialize,c=this;return(0,ye.Z)(function*(){yield a().call(c,r),yield function(u){return ba.apply(this,arguments)}(c.localStore),yield c.Jo.initialize(c,r),yield Jm(c.Jo.syncEngine),yield uc(c.Jo.remoteStore),yield c.persistence.nn(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(c.localStore),Promise.resolve()))})()}Ho(r){return ja(this.persistence,new Em,r.initialUser,this.N)}zo(r){return new hm(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const a=ym(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?ia.withCacheSize(this.cacheSizeBytes):ia.DEFAULT;return new Ph(this.synchronizeTabs,a,r.clientId,c,r.asyncQueue,I_(),yp(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new Wh}}class Gp extends Wr{constructor(r,a){super(r,a,!1),this.Jo=r,this.cacheSizeBytes=a,this.synchronizeTabs=!0}initialize(r){var a=()=>super.initialize,c=this;return(0,ye.Z)(function*(){yield a().call(c,r);const h=c.Jo.syncEngine;c.sharedClientState instanceof mp&&(c.sharedClientState.syncEngine={_i:Up.bind(null,h),mi:qc.bind(null,h),gi:j_.bind(null,h),pn:B_.bind(null,h),wi:Ym.bind(null,h)},yield c.sharedClientState.start()),yield c.persistence.nn(function(){var E=(0,ye.Z)(function*(A){yield function(u,r){return sf.apply(this,arguments)}(c.Jo.syncEngine,A),c.gcScheduler&&(A&&!c.gcScheduler.started?c.gcScheduler.start(c.localStore):A||c.gcScheduler.stop())});return function(A){return E.apply(this,arguments)}}())})()}Wo(r){const a=I_();if(!mp.Pt(a))throw new Dt(it.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=ym(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new mp(a,r.asyncQueue,c,r.clientId,r.initialUser)}}class Xm{initialize(r,a){var c=this;return(0,ye.Z)(function*(){c.localStore||(c.localStore=r.localStore,c.sharedClientState=r.sharedClientState,c.datastore=c.createDatastore(a),c.remoteStore=c.createRemoteStore(a),c.eventManager=c.createEventManager(a),c.syncEngine=c.createSyncEngine(a,!r.synchronizeTabs),c.sharedClientState.onlineStateHandler=h=>Gm(c.syncEngine,h,1),c.remoteStore.remoteSyncer.handleCredentialChange=jd.bind(null,c.syncEngine),yield Wo(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(r){return new M_}createDatastore(r){const a=Gh(r.databaseInfo.databaseId),c=new UE(r.databaseInfo);return new _p(r.credentials,c,a)}createRemoteStore(r){return a=this.localStore,c=this.datastore,h=r.asyncQueue,E=B=>Gm(this.syncEngine,B,0),A=C_.Pt()?new C_:new LE,new xm(a,c,h,E,A);var a,c,h,E,A}createSyncEngine(r,a){return function(c,h,E,A,B,Z,ve){const Ie=new F_(c,h,E,A,B,Z);return ve&&(Ie.qo=!0),Ie}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,a)}terminate(){return(r=(0,ye.Z)(function*(a){const c=Mt(a);yt("RemoteStore","RemoteStore shutting down."),c.Kr.add(5),yield Sl(c),c.Qr.shutdown(),c.Wr.set("Unknown")}),function(a){return r.apply(this,arguments)})(this.remoteStore);var r}}function Au(u,r=10240){let a=0;return{read:()=>(0,ye.Z)(function*(){if(a<u.byteLength){const c={value:u.slice(a,a+r),done:!1};return a+=r,c}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Zc{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,a){this.muted||setTimeout(()=>{this.muted||r(a)},0)}}class zp{constructor(r,a){this.Zo=r,this.N=a,this.metadata=new Xi,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(c=>{c&&c.ho()?this.metadata.resolve(c.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==c?void 0:c.payload)}`))},c=>this.metadata.reject(c))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,ye.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,ye.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,ye.Z)(function*(){const a=yield r.na();if(null===a)return null;const c=r.ta.decode(a),h=Number(c);isNaN(h)&&r.sa(`length string (${c}) is not valid number`);const E=yield r.ia(h);return new Bm(JSON.parse(E),a.length+h)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,ye.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const a=r.ra();a<0&&r.sa("Reached the end of bundle when a length string is expected.");const c=r.buffer.slice(0,a);return r.buffer=r.buffer.slice(a),c})()}ia(r){var a=this;return(0,ye.Z)(function*(){for(;a.buffer.length<r;)(yield a.oa())&&a.sa("Reached the end of bundle when more is expected.");const c=a.ta.decode(a.buffer.slice(0,r));return a.buffer=a.buffer.slice(r),c})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,ye.Z)(function*(){const a=yield r.Zo.read();if(!a.done){const c=new Uint8Array(r.buffer.length+a.value.length);c.set(r.buffer),c.set(a.value,r.buffer.length),r.buffer=c}return a.done})()}}class $E{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var a=this;return(0,ye.Z)(function*(){if(a.ensureCommitNotCalled(),a.mutations.length>0)throw new Dt(it.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(h=(0,ye.Z)(function*(E,A){const B=Mt(E),Z=tu(B.N)+"/documents",ve={documents:A.map(vt=>Kl(B.N,vt))},Ie=yield B.Ki("BatchGetDocuments",Z,ve),Fe=new Map;Ie.forEach(vt=>{const kt=function(u,r){return"found"in r?function(a,c){cn(!!c.found);const h=Fr(a,c.found.name),E=ki(c.found.updateTime),A=new $({mapValue:{fields:c.found.fields}});return me.newFoundDocument(h,E,A)}(u,r):"missing"in r?function(a,c){cn(!!c.missing),cn(!!c.readTime);const h=Fr(a,c.missing),E=ki(c.readTime);return me.newNoDocument(h,E)}(u,r):qt()}(B.N,vt);Fe.set(kt.key.toString(),kt)});const ot=[];return A.forEach(vt=>{const kt=Fe.get(vt.toString());cn(!!kt),ot.push(kt)}),ot}),function(E,A){return h.apply(this,arguments)})(a.datastore,r);var h;return c.forEach(h=>a.recordVersion(h)),c})()}set(r,a){this.write(a.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,a){try{this.write(a.toMutation(r,this.preconditionForUpdate(r)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(r.toString())}delete(r){this.write(new Sc(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,ye.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const a=r.readVersions;var c;r.mutations.forEach(c=>{a.delete(c.key.toString())}),a.forEach((c,h)=>{const E=Ft.fromPath(h);r.mutations.push(new ks(E,r.precondition(E)))}),yield(c=(0,ye.Z)(function*(h,E){const A=Mt(h),B=tu(A.N)+"/documents",Z={writes:E.map(ve=>Zl(A.N,ve))};yield A.Li("Commit",B,Z)}),function(h,E){return c.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let a;if(r.isFoundDocument())a=r.version;else{if(!r.isNoDocument())throw qt();a=zn.min()}const c=this.readVersions.get(r.key.toString());if(c){if(!a.isEqual(c))throw new Dt(it.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),a)}precondition(r){const a=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&a?Fi.updateTime(a):Fi.none()}preconditionForUpdate(r){const a=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&a){if(a.isEqual(zn.min()))throw new Dt(it.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fi.updateTime(a)}return Fi.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class $_{constructor(r,a,c,h){this.asyncQueue=r,this.datastore=a,this.updateFunction=c,this.deferred=h,this.aa=5,this.rr=new Am(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,ye.Z)(function*(){const a=new $E(r.datastore),c=r.ua(a);c&&c.then(h=>{r.asyncQueue.enqueueAndForget(()=>a.commit().then(()=>{r.deferred.resolve(h)}).catch(E=>{r.ha(E)}))}).catch(h=>{r.ha(h)})}))}ua(r){try{const a=this.updateFunction(r);return!pu(a)&&a.catch&&a.then?a:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(a){return this.deferred.reject(a),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const a=r.code;return"aborted"===a||"failed-precondition"===a||!mh(a)}return!1}}class W_{constructor(r,a,c){var h=this;this.credentials=r,this.asyncQueue=a,this.databaseInfo=c,this.user=Oe.UNAUTHENTICATED,this.clientId=Na.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(a,function(){var E=(0,ye.Z)(function*(A){yt("FirestoreClient","Received user=",A.uid),yield h.credentialListener(A),h.user=A});return function(A){return E.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,ye.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Dt(it.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const a=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),a.resolve()}catch(c){const h=cc(c,"Failed to shutdown persistence");a.reject(h)}})),a.promise}}function Kp(u,r){return af.apply(this,arguments)}function af(){return(af=(0,ye.Z)(function*(u,r){u.asyncQueue.verifyOperationInProgress(),yt("FirestoreClient","Initializing OfflineComponentProvider");const a=yield u.getConfiguration();yield r.initialize(a);let c=a.initialUser;u.setCredentialChangeListener(function(){var h=(0,ye.Z)(function*(E){c.isEqual(E)||(yield bm(r.localStore,E),c=E)});return function(E){return h.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>u.terminate()),u.offlineComponents=r})).apply(this,arguments)}function qp(u,r){return uf.apply(this,arguments)}function uf(){return(uf=(0,ye.Z)(function*(u,r){u.asyncQueue.verifyOperationInProgress();const a=yield Zp(u);yt("FirestoreClient","Initializing OnlineComponentProvider");const c=yield u.getConfiguration();yield r.initialize(a,c),u.setCredentialChangeListener(h=>{return(E=(0,ye.Z)(function*(A,B){const Z=Mt(A);Z.asyncQueue.verifyOperationInProgress(),yt("RemoteStore","RemoteStore received new credentials");const ve=Yu(Z);Z.Kr.add(3),yield Sl(Z),ve&&Z.Wr.set("Unknown"),yield Z.remoteSyncer.handleCredentialChange(B),Z.Kr.delete(3),yield sc(Z)}),function(A,B){return E.apply(this,arguments)})(r.remoteStore,h);var E}),u.onlineComponents=r})).apply(this,arguments)}function Zp(u){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,ye.Z)(function*(u){return u.offlineComponents||(yt("FirestoreClient","Using default OfflineComponentProvider"),yield Kp(u,new Wp)),u.offlineComponents})).apply(this,arguments)}function Ol(u){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,ye.Z)(function*(u){return u.onlineComponents||(yt("FirestoreClient","Using default OnlineComponentProvider"),yield qp(u,new Xm)),u.onlineComponents})).apply(this,arguments)}function Qp(u){return Zp(u).then(r=>r.persistence)}function lf(u){return Zp(u).then(r=>r.localStore)}function Jp(u){return Ol(u).then(r=>r.remoteStore)}function cf(u){return Ol(u).then(r=>r.syncEngine)}function Yc(u){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,ye.Z)(function*(u){const r=yield Ol(u),a=r.eventManager;return a.onListen=L_.bind(null,r.syncEngine),a.onUnlisten=Jh.bind(null,r.syncEngine),a})).apply(this,arguments)}function K_(u,r,a={}){const c=new Xi;return u.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(h,E,A,B,Z){const ve=new Zc({next:Fe=>{E.enqueueAndForget(()=>Zh(h,Ie));const ot=Fe.docs.has(A);!ot&&Fe.fromCache?Z.reject(new Dt(it.UNAVAILABLE,"Failed to get document because the client is offline.")):ot&&Fe.fromCache&&B&&"server"===B.source?Z.reject(new Dt(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Z.resolve(Fe)},error:Fe=>Z.reject(Fe)}),Ie=new Yh(Br(A.path),ve,{includeMetadataChanges:!0,uo:!0});return Sp(h,Ie)}(yield Yc(u),u.asyncQueue,r,a,c)})),c.promise}function ny(u,r,a={}){const c=new Xi;return u.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(h,E,A,B,Z){const ve=new Zc({next:Fe=>{E.enqueueAndForget(()=>Zh(h,Ie)),Fe.fromCache&&"server"===B.source?Z.reject(new Dt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Z.resolve(Fe)},error:Fe=>Z.reject(Fe)}),Ie=new Yh(A,ve,{includeMetadataChanges:!0,uo:!0});return Sp(h,Ie)}(yield Yc(u),u.asyncQueue,r,a,c)})),c.promise}class Z_{constructor(r,a,c,h,E,A,B,Z){this.databaseId=r,this.appId=a,this.persistenceKey=c,this.host=h,this.ssl=E,this.forceLongPolling=A,this.autoDetectLongPolling=B,this.useFetchStreams=Z}}class fc{constructor(r,a){this.projectId=r,this.database=a||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof fc&&r.projectId===this.projectId&&r.database===this.database}}const tg=new Map;function ry(u,r,a){if(!a)throw new Dt(it.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${r}.`)}function Ha(u,r,a,c){if(!0===r&&!0===c)throw new Dt(it.INVALID_ARGUMENT,`${u} and ${a} cannot be used together.`)}function Y_(u){if(!Ft.isDocumentKey(u))throw new Dt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function Q_(u){if(Ft.isDocumentKey(u))throw new Dt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function ng(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const r=function(a){if(a.constructor){const c=/function\s+([^\s(]+)\s*\(/.exec(a.constructor.toString());if(c&&c.length>1)return c[1]}return null}(u);return r?`a custom ${r} object`:"an object"}}return"function"==typeof u?"a function":qt()}function Rr(u,r){if("_delegate"in u&&(u=u._delegate),!(u instanceof r)){if(r.name===u.constructor.name)throw new Dt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=ng(u);throw new Dt(it.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${a}`)}}return u}function rg(u,r){if(r<=0)throw new Dt(it.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${r}.`)}class ig{constructor(r){var a;if(void 0===r.host){if(void 0!==r.ssl)throw new Dt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(a=r.ssl)||void 0===a||a;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new Dt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,Ha("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class $d{constructor(r,a){this._credentials=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ig({}),this._settingsFrozen=!1,r instanceof fc?this._databaseId=r:(this._app=r,this._databaseId=function(c){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Dt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(c.options.projectId)}(r))}get app(){if(!this._app)throw new Dt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new Dt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ig(r),void 0!==r.credentials&&(this._credentials=function(a){if(!a)return new Qa;switch(a.type){case"gapi":const c=a.client;return cn(!("object"!=typeof c||null===c||!c.auth||!c.auth.getAuthHeaderValueForFirstParty)),new Ja(c,a.sessionIndex||"0",a.iamToken||null);case"provider":return a.client;default:throw new Dt(it.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=tg.get(r);a&&(yt("ComponentProvider","Removing Datastore"),tg.delete(r),a.terminate())}(this),Promise.resolve()}}class bi{constructor(r,a,c){this.converter=a,this._key=c,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new bi(this.firestore,r,this._key)}}class Js{constructor(r,a,c){this.converter=a,this._query=c,this.type="query",this.firestore=r}withConverter(r){return new Js(this.firestore,r,this._query)}}class xu extends Js{constructor(r,a,c){super(r,a,Br(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new bi(this.firestore,null,new Ft(r))}withConverter(r){return new xu(this.firestore,r,this._path)}}function df(u,r,...a){if(u=(0,Ge.m9)(u),ry("collection","path",r),u instanceof $d){const c=wr.fromString(r,...a);return Q_(c),new xu(u,null,c)}{if(!(u instanceof bi||u instanceof xu))throw new Dt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=wr.fromString(u.path,...a).child(wr.fromString(r));return Q_(c),new xu(u.firestore,null,c)}}function hf(u,r,...a){if(u=(0,Ge.m9)(u),1===arguments.length&&(r=Na.I()),ry("doc","path",r),u instanceof $d){const c=wr.fromString(r,...a);return Y_(c),new bi(u,null,new Ft(c))}{if(!(u instanceof bi||u instanceof xu))throw new Dt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=u._path.child(wr.fromString(r,...a));return Y_(c),new bi(u.firestore,u instanceof xu?u.converter:null,new Ft(c))}}function iy(u,r){return u=(0,Ge.m9)(u),r=(0,Ge.m9)(r),(u instanceof bi||u instanceof xu)&&(r instanceof bi||r instanceof xu)&&u.firestore===r.firestore&&u.path===r.path&&u.converter===r.converter}function sy(u,r){return u=(0,Ge.m9)(u),r=(0,Ge.m9)(r),u instanceof Js&&r instanceof Js&&u.firestore===r.firestore&&Or(u._query,r._query)&&u.converter===r.converter}class X_{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Am(this,"async_queue_retry"),this.Ea=()=>{const a=yp();a&&yt("AsyncQueue","Visibility state changed to "+a.visibilityState),this.rr.tr()};const r=yp();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const a=yp();a&&"function"==typeof a.removeEventListener&&a.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const a=new Xi;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,ye.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(a){if(!nu(a))throw a;yt("AsyncQueue","Operation failed with retryable error: "+a)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const a=this.fa.then(()=>(this.ga=!0,r().catch(c=>{throw this.ma=c,this.ga=!1,ln("INTERNAL UNHANDLED ERROR: ",function(h){let E=h.message||"";return h.stack&&(E=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),E}(c)),c}).then(c=>(this.ga=!1,c))));return this.fa=a,a}enqueueAfterDelay(r,a,c){this.Ta(),this.pa.indexOf(r)>-1&&(a=0);const h=Lm.createAndSchedule(this,r,a,c,E=>this.Ra(E));return this._a.push(h),h}Ta(){this.ma&&qt()}verifyOperationInProgress(){}Pa(){var r=this;return(0,ye.Z)(function*(){let a;do{a=r.fa,yield a}while(a!==r.fa)})()}ba(r){for(const a of this._a)if(a.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((a,c)=>a.targetTimeMs-c.targetTimeMs);for(const a of this._a)if(a.skipDelay(),"all"!==r&&a.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const a=this._a.indexOf(r);this._a.splice(a,1)}}function sg(u){return function(r,a){if("object"!=typeof r||null===r)return!1;const c=r;for(const h of["next","error","complete"])if(h in c&&"function"==typeof c[h])return!0;return!1}(u)}class ff{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,a,c){this._progressObserver={next:r,error:a,complete:c}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,a){return this._taskCompletionResolver.promise.then(r,a)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class Zi extends $d{constructor(r,a){super(r,a),this.type="firestore",this._queue=new X_,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||oy(this),this._firestoreClient.terminate()}}function Bs(u){return u._firestoreClient||oy(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function oy(u){var r;const a=u._freezeSettings(),c=(E=(null===(r=u._app)||void 0===r?void 0:r.options.appId)||"",new Z_(u._databaseId,E,u._persistenceKey,(B=a).host,B.ssl,B.experimentalForceLongPolling,B.experimentalAutoDetectLongPolling,B.useFetchStreams));var E,B;u._firestoreClient=new W_(u._credentials,u._queue,c)}function Jc(u,r,a){const c=new Xi;return u.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield Kp(u,a),yield qp(u,r),c.resolve()}catch(h){if(!("FirebaseError"===(E=h).name?E.code===it.FAILED_PRECONDITION||E.code===it.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&E instanceof DOMException)||22===E.code||20===E.code||11===E.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),c.reject(h)}var E})).then(()=>c.promise)}function gc(u){if(u._initialized||u._terminated)throw new Dt(it.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class sa{constructor(...r){for(let a=0;a<r.length;++a)if(0===r[a].length)throw new Dt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class Go{constructor(r){this._byteString=r}static fromBase64String(r){try{return new Go(as.fromBase64String(r))}catch(a){throw new Dt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(r){return new Go(as.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class Wa{constructor(r){this._methodName=r}}class Xu{constructor(r,a){if(!isFinite(r)||r<-90||r>90)throw new Dt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(a)||a<-180||a>180)throw new Dt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=r,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return Xn(this._lat,r._lat)||Xn(this._long,r._long)}}const td=/^__.*__$/;class uy{constructor(r,a,c){this.data=r,this.fieldMask=a,this.fieldTransforms=c}toMutation(r,a){return null!==this.fieldMask?new Eu(r,this.data,this.fieldMask,a,this.fieldTransforms):new _a(r,this.data,a,this.fieldTransforms)}}class ag{constructor(r,a,c){this.data=r,this.fieldMask=a,this.fieldTransforms=c}toMutation(r,a){return new Eu(r,this.data,this.fieldMask,a,this.fieldTransforms)}}function ug(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt()}}class Gd{constructor(r,a,c,h,E,A){this.settings=r,this.databaseId=a,this.N=c,this.ignoreUndefinedProperties=h,void 0===E&&this.Sa(),this.fieldTransforms=E||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new Gd(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var a;const c=null===(a=this.path)||void 0===a?void 0:a.child(r),h=this.Ca({path:c,xa:!1});return h.ka(r),h}$a(r){var a;const c=null===(a=this.path)||void 0===a?void 0:a.child(r),h=this.Ca({path:c,xa:!1});return h.Sa(),h}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return _f(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(a=>r.isPrefixOf(a))||void 0!==this.fieldTransforms.find(a=>r.isPrefixOf(a.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(ug(this.Da)&&td.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class ly{constructor(r,a,c){this.databaseId=r,this.ignoreUndefinedProperties=a,this.N=c||Gh(r)}Ba(r,a,c,h=!1){return new Gd({Da:r,methodName:a,La:c,path:lr.emptyPath(),xa:!1,Ma:h},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Ml(u){const r=u._freezeSettings(),a=Gh(u._databaseId);return new ly(u._databaseId,!!r.ignoreUndefinedProperties,a)}function zd(u,r,a,c,h,E={}){const A=u.Ba(E.merge||E.mergeFields?2:0,r,a,h);yf("Data must be an object, but it was:",A,c);const B=hg(c,A);let Z,ve;if(E.merge)Z=new Xa(A.fieldMask),ve=A.fieldTransforms;else if(E.mergeFields){const Ie=[];for(const Fe of E.mergeFields){const ot=fg(r,Fe,a);if(!A.contains(ot))throw new Dt(it.INVALID_ARGUMENT,`Field '${ot}' is specified in your field mask but missing from your input data.`);pg(Ie,ot)||Ie.push(ot)}Z=new Xa(Ie),ve=A.fieldTransforms.filter(Fe=>Z.covers(Fe.field))}else Z=null,ve=A.fieldTransforms;return new uy(new $(B),Z,ve)}class nd extends Wa{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof nd}}function lg(u,r,a){return new Gd({Da:3,La:r.settings.La,methodName:u._methodName,xa:a},r.databaseId,r.N,r.ignoreUndefinedProperties)}class cg extends Wa{_toFieldTransform(r){return new vu(r.path,new _u)}isEqual(r){return r instanceof cg}}class cy extends Wa{constructor(r,a){super(r),this.Ua=a}_toFieldTransform(r){const a=lg(this,r,!0),c=this.Ua.map(E=>mc(E,a)),h=new fl(c);return new vu(r.path,h)}isEqual(r){return this===r}}class ev extends Wa{constructor(r,a){super(r),this.Ua=a}_toFieldTransform(r){const a=lg(this,r,!0),c=this.Ua.map(E=>mc(E,a)),h=new Wu(c);return new vu(r.path,h)}isEqual(r){return this===r}}class tv extends Wa{constructor(r,a){super(r),this.qa=a}_toFieldTransform(r){const a=new pl(r.N,ld(r.N,this.qa));return new vu(r.path,a)}isEqual(r){return this===r}}function mf(u,r,a,c){const h=u.Ba(1,r,a);yf("Data must be an object, but it was:",h,c);const E=[],A=$.empty();du(c,(Z,ve)=>{const Ie=hy(r,Z,a);ve=(0,Ge.m9)(ve);const Fe=h.$a(Ie);if(ve instanceof nd)E.push(Ie);else{const ot=mc(ve,Fe);null!=ot&&(E.push(Ie),A.set(Ie,ot))}});const B=new Xa(E);return new ag(A,B,h.fieldTransforms)}function dg(u,r,a,c,h,E){const A=u.Ba(1,r,a),B=[fg(r,c,a)],Z=[h];if(E.length%2!=0)throw new Dt(it.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ot=0;ot<E.length;ot+=2)B.push(fg(r,E[ot])),Z.push(E[ot+1]);const ve=[],Ie=$.empty();for(let ot=B.length-1;ot>=0;--ot)if(!pg(ve,B[ot])){const vt=B[ot];let kt=Z[ot];kt=(0,Ge.m9)(kt);const pn=A.$a(vt);if(kt instanceof nd)ve.push(vt);else{const Zn=mc(kt,pn);null!=Zn&&(ve.push(vt),Ie.set(vt,Zn))}}const Fe=new Xa(ve);return new ag(Ie,Fe,A.fieldTransforms)}function nv(u,r,a,c=!1){return mc(a,u.Ba(c?4:3,r))}function mc(u,r){if(dy(u=(0,Ge.m9)(u)))return yf("Unsupported field value:",r,u),hg(u,r);if(u instanceof Wa)return function(a,c){if(!ug(c.Da))throw c.Fa(`${a._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Fa(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(c);h&&c.fieldTransforms.push(h)}(u,r),null;if(void 0===u&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),u instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(a,c){const h=[];let E=0;for(const A of a){let B=mc(A,c.Oa(E));null==B&&(B={nullValue:"NULL_VALUE"}),h.push(B),E++}return{arrayValue:{values:h}}}(u,r)}return function(a,c){if(null===(a=(0,Ge.m9)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return ld(c.N,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const h=Qr.fromDate(a);return{timestampValue:Gl(c.N,h)}}if(a instanceof Qr){const h=new Qr(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Gl(c.N,h)}}if(a instanceof Xu)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Go)return{bytesValue:zl(c.N,a._byteString)};if(a instanceof bi){const h=c.databaseId,E=a.firestore._databaseId;if(!E.isEqual(h))throw c.Fa(`Document reference is for database ${E.projectId}/${E.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Mc(a.firestore._databaseId||c.databaseId,a._key.path)}}throw c.Fa(`Unsupported field value: ${ng(a)}`)}(u,r)}function hg(u,r){const a={};return wc(u)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):du(u,(c,h)=>{const E=mc(h,r.Na(c));null!=E&&(a[c]=E)}),{mapValue:{fields:a}}}function dy(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof Qr||u instanceof Xu||u instanceof Go||u instanceof bi||u instanceof Wa)}function yf(u,r,a){if(!dy(a)||"object"!=typeof(c=a)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=ng(a);throw r.Fa("an object"===c?u+" a custom object":u+" "+c)}var c}function fg(u,r,a){if((r=(0,Ge.m9)(r))instanceof sa)return r._internalPath;if("string"==typeof r)return hy(u,r);throw _f("Field path arguments must be of type string or FieldPath.",u,!1,void 0,a)}const rv=new RegExp("[~\\*/\\[\\]]");function hy(u,r,a){if(r.search(rv)>=0)throw _f(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,a);try{return new sa(...r.split("."))._internalPath}catch(c){throw _f(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,a)}}function _f(u,r,a,c,h){const E=c&&!c.isEmpty(),A=void 0!==h;let B=`Function ${r}() called with invalid data`;a&&(B+=" (via `toFirestore()`)"),B+=". ";let Z="";return(E||A)&&(Z+=" (found",E&&(Z+=` in field ${c}`),A&&(Z+=` in document ${h}`),Z+=")"),new Dt(it.INVALID_ARGUMENT,B+u+Z)}function pg(u,r){return u.some(a=>a.isEqual(r))}class vf{constructor(r,a,c,h,E){this._firestore=r,this._userDataWriter=a,this._key=c,this._document=h,this._converter=E}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new KE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const a=this._document.data.field(gg("DocumentSnapshot.get",r));if(null!==a)return this._userDataWriter.convertValue(a)}}}class KE extends vf{data(){return super.data()}}function gg(u,r){return"string"==typeof r?hy(u,r):r instanceof sa?r._internalPath:r._delegate._internalPath}class yc{constructor(r,a){this.hasPendingWrites=r,this.fromCache=a}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class Rl extends vf{constructor(r,a,c,h,E,A){super(r,a,c,h,A),this._firestore=r,this._firestoreImpl=r,this.metadata=E}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const a=new Kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,a={}){if(this._document){const c=this._document.data.field(gg("DocumentSnapshot.get",r));if(null!==c)return this._userDataWriter.convertValue(c,a.serverTimestamps)}}}class Kd extends Rl{data(r={}){return super.data(r)}}class Nl{constructor(r,a,c,h){this._firestore=r,this._userDataWriter=a,this._snapshot=h,this.metadata=new yc(h.hasPendingWrites,h.fromCache),this.query=c}get docs(){const r=[];return this.forEach(a=>r.push(a)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,a){this._snapshot.docs.forEach(c=>{r.call(a,new Kd(this._firestore,this._userDataWriter,c.key,c,new yc(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const a=!!r.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new Dt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=function(c,h){if(c._snapshot.oldDocs.isEmpty()){let E=0;return c._snapshot.docChanges.map(A=>({type:"added",doc:new Kd(c._firestore,c._userDataWriter,A.doc.key,A.doc,new yc(c._snapshot.mutatedKeys.has(A.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:E++}))}{let E=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(A=>h||3!==A.type).map(A=>{const B=new Kd(c._firestore,c._userDataWriter,A.doc.key,A.doc,new yc(c._snapshot.mutatedKeys.has(A.doc.key),c._snapshot.fromCache),c.query.converter);let Z=-1,ve=-1;return 0!==A.type&&(Z=E.indexOf(A.doc.key),E=E.delete(A.doc.key)),1!==A.type&&(E=E.add(A.doc),ve=E.indexOf(A.doc.key)),{type:mg(A.type),doc:B,oldIndex:Z,newIndex:ve}})}}(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}}function mg(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt()}}function Ef(u,r){return u instanceof Rl&&r instanceof Rl?u._firestore===r._firestore&&u._key.isEqual(r._key)&&(null===u._document?null===r._document:u._document.isEqual(r._document))&&u._converter===r._converter:u instanceof Nl&&r instanceof Nl&&u._firestore===r._firestore&&sy(u.query,r.query)&&u.metadata.isEqual(r.metadata)&&u._snapshot.isEqual(r._snapshot)}function fy(u){if(fn(u)&&0===u.explicitOrderBy.length)throw new Dt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bf{}function _c(u,...r){for(const a of r)u=a._apply(u);return u}class qE extends bf{constructor(r,a,c){super(),this.Ka=r,this.ja=a,this.Qa=c,this.type="where"}_apply(r){const a=Ml(r.firestore),c=function(h,E,A,B,Z,ve,Ie){let Fe;if(Z.isKeyField()){if("array-contains"===ve||"array-contains-any"===ve)throw new Dt(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ve}' queries on FieldPath.documentId().`);if("in"===ve||"not-in"===ve){Ey(Ie,ve);const vt=[];for(const kt of Ie)vt.push(vy(B,h,kt));Fe={arrayValue:{values:vt}}}else Fe=vy(B,h,Ie)}else"in"!==ve&&"not-in"!==ve&&"array-contains-any"!==ve||Ey(Ie,ve),Fe=nv(A,"where",Ie,"in"===ve||"not-in"===ve);const ot=Mn.create(Z,ve,Fe);return function(vt,kt){if(kt.v()){const Zn=er(vt);if(null!==Zn&&!Zn.isEqual(kt.field))throw new Dt(it.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Zn.toString()}' and '${kt.field.toString()}'`);const xi=_n(vt);null!==xi&&by(0,kt.field,xi)}const pn=function(Zn,xi){for(const Xs of Zn.filters)if(xi.indexOf(Xs.op)>=0)return Xs.op;return null}(vt,function(Zn){switch(Zn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(kt.op));if(null!==pn)throw new Dt(it.INVALID_ARGUMENT,pn===kt.op?`Invalid query. You cannot use more than one '${kt.op.toString()}' filter.`:`Invalid query. You cannot use '${kt.op.toString()}' filters with '${pn.toString()}' filters.`)}(h,ot),ot}(r._query,0,a,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Js(r.firestore,r.converter,function(h,E){const A=h.filters.concat([E]);return new Ni(h.path,h.collectionGroup,h.explicitOrderBy.slice(),A,h.limit,h.limitType,h.startAt,h.endAt)}(r._query,c))}}class py extends bf{constructor(r,a){super(),this.Ka=r,this.Wa=a,this.type="orderBy"}_apply(r){const a=function(c,h,E){if(null!==c.startAt)throw new Dt(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new Dt(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const A=new Ki(h,E);return function(B,Z){if(null===_n(B)){const ve=er(B);null!==ve&&by(0,ve,Z.field)}}(c,A),A}(r._query,this.Ka,this.Wa);return new Js(r.firestore,r.converter,function(c,h){const E=c.explicitOrderBy.concat([h]);return new Ni(c.path,c.collectionGroup,E,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(r._query,a))}}class gy extends bf{constructor(r,a,c){super(),this.type=r,this.Ga=a,this.za=c}_apply(r){return new Js(r.firestore,r.converter,Xo(r._query,this.Ga,this.za))}}class yg extends bf{constructor(r,a,c){super(),this.type=r,this.Ha=a,this.Ja=c}_apply(r){const a=_y(r,this.type,this.Ha,this.Ja);return new Js(r.firestore,r.converter,(h=a,new Ni((c=r._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,h,c.endAt)));var c,h}}class qd extends bf{constructor(r,a,c){super(),this.type=r,this.Ha=a,this.Ja=c}_apply(r){const a=_y(r,this.type,this.Ha,this.Ja);return new Js(r.firestore,r.converter,(h=a,new Ni((c=r._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,h)));var c,h}}function _y(u,r,a,c){if(a[0]=(0,Ge.m9)(a[0]),a[0]instanceof vf)return function(h,E,A,B,Z){if(!B)throw new Dt(it.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${A}().`);const ve=[];for(const Ie of Ds(h))if(Ie.field.isKeyField())ve.push(ya(E,B.key));else{const Fe=B.data.field(Ie.field);if(ll(Fe))throw new Dt(it.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ie.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Fe){const ot=Ie.field.canonicalString();throw new Dt(it.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ot}' (used as the orderBy) does not exist.`)}ve.push(Fe)}return new zi(ve,Z)}(u._query,u.firestore._databaseId,r,a[0]._document,c);{const h=Ml(u.firestore);return function(E,A,B,Z,ve,Ie){const Fe=E.explicitOrderBy;if(ve.length>Fe.length)throw new Dt(it.INVALID_ARGUMENT,`Too many arguments provided to ${Z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ot=[];for(let vt=0;vt<ve.length;vt++){const kt=ve[vt];if(Fe[vt].field.isKeyField()){if("string"!=typeof kt)throw new Dt(it.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Z}(), but got a ${typeof kt}`);if(!Pi(E)&&-1!==kt.indexOf("/"))throw new Dt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${Z}() must be a plain document ID, but '${kt}' contains a slash.`);const pn=E.path.child(wr.fromString(kt));if(!Ft.isDocumentKey(pn))throw new Dt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${Z}() must result in a valid document path, but '${pn}' is not because it contains an odd number of segments.`);const Zn=new Ft(pn);ot.push(ya(A,Zn))}else{const pn=nv(B,Z,kt);ot.push(pn)}}return new zi(ot,Ie)}(u._query,u.firestore._databaseId,h,r,a,c)}}function vy(u,r,a){if("string"==typeof(a=(0,Ge.m9)(a))){if(""===a)throw new Dt(it.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pi(r)&&-1!==a.indexOf("/"))throw new Dt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${a}' contains a '/' character.`);const c=r.path.child(wr.fromString(a));if(!Ft.isDocumentKey(c))throw new Dt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return ya(u,new Ft(c))}if(a instanceof bi)return ya(u,a._key);throw new Dt(it.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${ng(a)}.`)}function Ey(u,r){if(!Array.isArray(u)||0===u.length)throw new Dt(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(u.length>10)throw new Dt(it.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function by(u,r,a){if(!a.isEqual(r))throw new Dt(it.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${a.toString()}' instead.`)}class _g{convertValue(r,a="none"){switch(bo(r)){case 0:return null;case 1:return r.booleanValue;case 2:return oi(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,a);case 5:return r.stringValue;case 6:return this.convertBytes(hu(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,a);case 10:return this.convertObject(r.mapValue,a);default:throw qt()}}convertObject(r,a){const c={};return du(r.fields,(h,E)=>{c[h]=this.convertValue(E,a)}),c}convertGeoPoint(r){return new Xu(oi(r.latitude),oi(r.longitude))}convertArray(r,a){return(r.values||[]).map(c=>this.convertValue(c,a))}convertServerTimestamp(r,a){switch(a){case"previous":const c=ju(r);return null==c?null:this.convertValue(c,a);case"estimate":return this.convertTimestamp(fu(r));default:return null}}convertTimestamp(r){const a=La(r);return new Qr(a.seconds,a.nanos)}convertDocumentKey(r,a){const c=wr.fromString(r);cn(wd(c));const h=new fc(c.get(1),c.get(3)),E=new Ft(c.popFirst(5));return h.isEqual(a)||ln(`Document ${E} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),E}}function Zd(u,r,a){let c;return c=u?a&&(a.merge||a.mergeFields)?u.toFirestore(r,a):u.toFirestore(r):r,c}class uv extends _g{constructor(r){super(),this.firestore=r}convertBytes(r){return new Go(r)}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return new bi(this.firestore,null,a)}}class vg{constructor(r,a){this._firestore=r,this._commitHandler=a,this._mutations=[],this._committed=!1,this._dataReader=Ml(r)}set(r,a,c){this._verifyNotCommitted();const h=el(r,this._firestore),E=Zd(h.converter,a,c),A=zd(this._dataReader,"WriteBatch.set",h._key,E,null!==h.converter,c);return this._mutations.push(A.toMutation(h._key,Fi.none())),this}update(r,a,c,...h){this._verifyNotCommitted();const E=el(r,this._firestore);let A;return A="string"==typeof(a=(0,Ge.m9)(a))||a instanceof sa?dg(this._dataReader,"WriteBatch.update",E._key,a,c,h):mf(this._dataReader,"WriteBatch.update",E._key,a),this._mutations.push(A.toMutation(E._key,Fi.exists(!0))),this}delete(r){this._verifyNotCommitted();const a=el(r,this._firestore);return this._mutations=this._mutations.concat(new Sc(a._key,Fi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Dt(it.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function el(u,r){if((u=(0,Ge.m9)(u)).firestore!==r)throw new Dt(it.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class id extends _g{constructor(r){super(),this.firestore=r}convertBytes(r){return new Go(r)}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return new bi(this.firestore,null,a)}}function wf(u,r,a){u=Rr(u,bi);const c=Rr(u.firestore,Zi),h=Zd(u.converter,r,a);return Qd(c,[zd(Ml(c),"setDoc",u._key,h,null!==u.converter,a).toMutation(u._key,Fi.none())])}function Cf(u,r,a,...c){u=Rr(u,bi);const h=Rr(u.firestore,Zi),E=Ml(h);let A;return A="string"==typeof(r=(0,Ge.m9)(r))||r instanceof sa?dg(E,"updateDoc",u._key,r,a,c):mf(E,"updateDoc",u._key,r),Qd(h,[A.toMutation(u._key,Fi.exists(!0))])}function If(u,...r){var a,c,h;u=(0,Ge.m9)(u);let E={includeMetadataChanges:!1},A=0;"object"!=typeof r[A]||sg(r[A])||(E=r[A],A++);const B={includeMetadataChanges:E.includeMetadataChanges};if(sg(r[A])){const Fe=r[A];r[A]=null===(a=Fe.next)||void 0===a?void 0:a.bind(Fe),r[A+1]=null===(c=Fe.error)||void 0===c?void 0:c.bind(Fe),r[A+2]=null===(h=Fe.complete)||void 0===h?void 0:h.bind(Fe)}let Z,ve,Ie;if(u instanceof bi)ve=Rr(u.firestore,Zi),Ie=Br(u._key.path),Z={next:Fe=>{r[A]&&r[A](Cg(ve,u,Fe))},error:r[A+1],complete:r[A+2]};else{const Fe=Rr(u,Js);ve=Rr(Fe.firestore,Zi),Ie=Fe._query;const ot=new id(ve);Z={next:vt=>{r[A]&&r[A](new Nl(ve,ot,Fe,vt))},error:r[A+1],complete:r[A+2]},fy(u._query)}return function(Fe,ot,vt,kt){const pn=new Zc(kt),Zn=new Yh(ot,pn,vt);return Fe.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Sp(yield Yc(Fe),Zn)})),()=>{pn.Xo(),Fe.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Zh(yield Yc(Fe),Zn)}))}}(Bs(ve),Ie,B,Z)}function Qd(u,r){return function(a,c){const h=new Xi;return a.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(u,r,a){return Ud.apply(this,arguments)}(yield cf(a),c,h)})),h.promise}(Bs(u),r)}function Cg(u,r,a){const c=a.docs.get(r._key),h=new id(u);return new Rl(u,h,r._key,c,new yc(a.hasPendingWrites,a.fromCache),r.converter)}class Cy extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=Ml(r)}get(r){const a=el(r,this._firestore),c=new uv(this._firestore);return this._transaction.lookup([a._key]).then(h=>{if(!h||1!==h.length)return qt();const E=h[0];if(E.isFoundDocument())return new vf(this._firestore,c,E.key,E,a.converter);if(E.isNoDocument())return new vf(this._firestore,c,a._key,null,a.converter);throw qt()})}set(r,a,c){const h=el(r,this._firestore),E=Zd(h.converter,a,c),A=zd(this._dataReader,"Transaction.set",h._key,E,null!==h.converter,c);return this._transaction.set(h._key,A),this}update(r,a,c,...h){const E=el(r,this._firestore);let A;return A="string"==typeof(a=(0,Ge.m9)(a))||a instanceof sa?dg(this._dataReader,"Transaction.update",E._key,a,c,h):mf(this._dataReader,"Transaction.update",E._key,a),this._transaction.update(E._key,A),this}delete(r){const a=el(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(r,a){super(r,a),this._firestore=r}get(r){const a=el(r,this._firestore),c=new id(this._firestore);return super.get(r).then(h=>new Rl(this._firestore,c,a._key,h._document,new yc(!1,!1),a.converter))}}function Df(u,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new Dt("invalid-argument",`Invalid options passed to function ${u}(): You cannot specify both "merge" and "mergeFields".`);return r}function Tf(){if("undefined"==typeof Uint8Array)throw new Dt("unimplemented","Uint8Arrays are not available in this environment.")}function Tg(){if("undefined"==typeof atob)throw new Dt("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(u){lt=u})(mt.SDK_VERSION),(0,mt._registerComponent)(new rn.wA("firestore",(u,{options:r})=>{const a=u.getProvider("app").getImmediate(),c=new Zi(a,new Uu(u.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),c._setSettings(r),c},"PUBLIC")),(0,mt.registerVersion)("@firebase/firestore","3.0.0",void 0);class Jd{constructor(r){this._delegate=r}static fromBase64String(r){return Tg(),new Jd(Go.fromBase64String(r))}static fromUint8Array(r){return Tf(),new Jd(Go.fromUint8Array(r))}toBase64(){return Tg(),this._delegate.toBase64()}toUint8Array(){return Tf(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Sg(u){return function(u,r){if("object"!=typeof u||null===u)return!1;const a=u;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(u)}class Ag{enableIndexedDbPersistence(r,a){return function(u,r){gc(u=Rr(u,Zi));const a=Bs(u),c=u._freezeSettings(),h=new Xm;return Jc(a,h,new Wr(h,c.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:a})}enableMultiTabIndexedDbPersistence(r){return function(u){gc(u=Rr(u,Zi));const r=Bs(u),a=u._freezeSettings(),c=new Xm;return Jc(r,c,new Gp(c,a.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(u){if(u._initialized&&!u._terminated)throw new Dt(it.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new Xi;return u._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(a=(0,ye.Z)(function*(c){if(!To.Pt())return Promise.resolve();const h=c+"main";yield To.delete(h)}),function(c){return a.apply(this,arguments)})(ym(u._databaseId,u._persistenceKey)),r.resolve()}catch(a){r.reject(a)}var a})),r.promise}(r._delegate)}}class Sf{constructor(r,a,c){this._delegate=a,this._persistenceProvider=c,this.INTERNAL={delete:()=>this.terminate()},r instanceof fc||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const a=this._delegate._getSettings();!r.merge&&a.host!==r.host&&Wi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},a),r)).merge,this._delegate._setSettings(r)}useEmulator(r,a,c={}){!function(u,r,a,c={}){var h;const E=(u=Rr(u,$d))._getSettings();if("firestore.googleapis.com"!==E.host&&E.host!==r&&Wi("Host has been set in both settings() and useEmulator(), emulator host will be used"),u._setSettings(Object.assign(Object.assign({},E),{host:`${r}:${a}`,ssl:!1})),c.mockUserToken){let A,B;if("string"==typeof c.mockUserToken)A=c.mockUserToken,B=Oe.MOCK_USER;else{A=(0,Ge.Sg)(c.mockUserToken,null===(h=u._app)||void 0===h?void 0:h.options.projectId);const Z=c.mockUserToken.sub||c.mockUserToken.user_id;if(!Z)throw new Dt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");B=new Oe(Z)}u._credentials=new ol(new cu(A,B))}}(this._delegate,r,a,c)}enableNetwork(){return function(u){return function(u){return u.asyncQueue.enqueue((0,ye.Z)(function*(){const r=yield Qp(u),a=yield Jp(u);return r.setNetworkEnabled(!0),function(c){const h=Mt(c);return h.Kr.delete(0),sc(h)}(a)}))}(Bs(u=Rr(u,Zi)))}(this._delegate)}disableNetwork(){return function(u){return function(u){return u.asyncQueue.enqueue((0,ye.Z)(function*(){const r=yield Qp(u),a=yield Jp(u);return r.setNetworkEnabled(!1),(c=(0,ye.Z)(function*(h){const E=Mt(h);E.Kr.add(0),yield Sl(E),E.Wr.set("Offline")}),function(h){return c.apply(this,arguments)})(a);var c}))}(Bs(u=Rr(u,Zi)))}(this._delegate)}enablePersistence(r){let a=!1,c=!1;return r&&(a=!!r.synchronizeTabs,c=!!r.experimentalForceOwningTab,Ha("synchronizeTabs",a,"experimentalForceOwningTab",c)),a?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,c)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(u){return function(r){const a=new Xi;return r.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(u,r){return nf.apply(this,arguments)}(yield cf(r),a)})),a.promise}(Bs(u=Rr(u,Zi)))}(this._delegate)}onSnapshotsInSync(r){return function(u,r){return function(u,r){const a=new Zc(r);return u.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return c=yield Yc(u),h=a,Mt(c).Zr.add(h),void h.next();var c,h})),()=>{a.Xo(),u.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return c=yield Yc(u),h=a,void Mt(c).Zr.delete(h);var c,h}))}}(Bs(u=Rr(u,Zi)),sg(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new Dt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new vc(this,df(this._delegate,r))}catch(a){throw Ao(a,"collection()","Firestore.collection()")}}doc(r){try{return new wa(this,hf(this._delegate,r))}catch(a){throw Ao(a,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new xo(this,function(u,r){if(u=Rr(u,$d),ry("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Dt(it.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Js(u,null,(a=r,new Ni(wr.emptyPath(),a)));var a}(this._delegate,r))}catch(a){throw Ao(a,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(u,r){return function(u,r){const a=new Xi;return u.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const c=yield(h=u,Ol(h).then(E=>E.datastore));var h;new $_(u.asyncQueue,c,r,a).run()})),a.promise}(Bs(u),a=>r(new Cy(u,a)))}(this._delegate,a=>r(new xg(this,a)))}batch(){return Bs(this._delegate),new Og(new vg(this._delegate,r=>Qd(this._delegate,r)))}loadBundle(r){return function(u,r){const a=Bs(u=Rr(u,Zi)),c=new ff;return function(u,r,a,c){const h=function(E,A){let B;return B="string"==typeof E?(new TextEncoder).encode(E):E,Z=function(Z,ve){if(Z instanceof Uint8Array)return Au(Z,void 0);if(Z instanceof ArrayBuffer)return Au(new Uint8Array(Z),void 0);if(Z instanceof ReadableStream)return Z.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(B),new zp(Z,A);var Z}(a,Gh(r));u.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function(u,r,a){const c=Mt(u);var h;(h=(0,ye.Z)(function*(E,A,B){try{const Z=yield A.getMetadata();if(yield function(ot,vt){const kt=Mt(ot),pn=ki(vt.createTime);return kt.persistence.runTransaction("hasNewerBundle","readonly",Zn=>kt.Je.getBundleMetadata(Zn,vt.id)).then(Zn=>!!Zn&&Zn.createTime.compareTo(pn)>=0)}(E.localStore,Z))return yield A.close(),void B._completeWith((ot=Z,{taskState:"Success",documentsLoaded:ot.totalDocuments,bytesLoaded:ot.totalBytes,totalDocuments:ot.totalDocuments,totalBytes:ot.totalBytes}));B._updateProgress(Qh(Z));const ve=new Tu(Z,E.localStore,A.N);let Ie=yield A.Qo();for(;Ie;){const ot=yield ve.fo(Ie);ot&&B._updateProgress(ot),Ie=yield A.Qo()}const Fe=yield ve.complete();yield Su(E,Fe.Tn,void 0),yield function(ot,vt){const kt=Mt(ot);return kt.persistence.runTransaction("Save bundle","readwrite",pn=>kt.Je.saveBundleMetadata(pn,vt))}(E.localStore,Z),B._completeWith(Fe.progress)}catch(Z){Wi("SyncEngine",`Loading bundle failed with ${Z}`),B._failWith(Z)}var ot}),function(E,A,B){return h.apply(this,arguments)})(c,r,a).then(()=>{c.sharedClientState.notifyBundleLoaded()})}(yield cf(u),h,c)}))}(a,u._databaseId,r,c),c}(this._delegate,r)}namedQuery(r){return function(u,r){return function(u,r){return u.asyncQueue.enqueue((0,ye.Z)(function*(){return function(a,c){const h=Mt(a);return h.persistence.runTransaction("Get named query","readonly",E=>h.Je.getNamedQuery(E,c))}(yield lf(u),r)}))}(Bs(u=Rr(u,Zi)),r).then(a=>a?new Js(u,null,a.query):null)}(this._delegate,r).then(a=>a?new xo(this,a):null)}}class Xd extends _g{constructor(r){super(),this.firestore=r}convertBytes(r){return new Jd(new Go(r))}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return wa.forKey(a,this.firestore,null)}}class xg{constructor(r,a){this._firestore=r,this._delegate=a,this._userDataWriter=new Xd(r)}get(r){const a=Ec(r);return this._delegate.get(a).then(c=>new eh(this._firestore,new Rl(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,a.converter)))}set(r,a,c){const h=Ec(r);return c?(Df("Transaction.set",c),this._delegate.set(h,a,c)):this._delegate.set(h,a),this}update(r,a,c,...h){const E=Ec(r);return 2===arguments.length?this._delegate.update(E,a):this._delegate.update(E,a,c,...h),this}delete(r){const a=Ec(r);return this._delegate.delete(a),this}}class Og{constructor(r){this._delegate=r}set(r,a,c){const h=Ec(r);return c?(Df("WriteBatch.set",c),this._delegate.set(h,a,c)):this._delegate.set(h,a),this}update(r,a,c,...h){const E=Ec(r);return 2===arguments.length?this._delegate.update(E,a):this._delegate.update(E,a,c,...h),this}delete(r){const a=Ec(r);return this._delegate.delete(a),this}commit(){return this._delegate.commit()}}class Pl{constructor(r,a,c){this._firestore=r,this._userDataWriter=a,this._delegate=c}fromFirestore(r,a){const c=new Kd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new th(this._firestore,c),null!=a?a:{})}toFirestore(r,a){return a?this._delegate.toFirestore(r,a):this._delegate.toFirestore(r)}static getInstance(r,a){const c=Pl.INSTANCES;let h=c.get(r);h||(h=new WeakMap,c.set(r,h));let E=h.get(a);return E||(E=new Pl(r,new Xd(r),a),h.set(a,E)),E}}Pl.INSTANCES=new WeakMap;class wa{constructor(r,a){this.firestore=r,this._delegate=a,this._userDataWriter=new Xd(r)}static forPath(r,a,c){if(r.length%2!=0)throw new Dt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new wa(a,new bi(a._delegate,c,new Ft(r)))}static forKey(r,a,c){return new wa(a,new bi(a._delegate,c,r))}get id(){return this._delegate.id}get parent(){return new vc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new vc(this.firestore,df(this._delegate,r))}catch(a){throw Ao(a,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,Ge.m9)(r))instanceof bi&&iy(this._delegate,r)}set(r,a){a=Df("DocumentReference.set",a);try{return a?wf(this._delegate,r,a):wf(this._delegate,r)}catch(c){throw Ao(c,"setDoc()","DocumentReference.set()")}}update(r,a,...c){try{return 1===arguments.length?Cf(this._delegate,r):Cf(this._delegate,r,a,...c)}catch(h){throw Ao(h,"updateDoc()","DocumentReference.update()")}}delete(){return function(u){return Qd(Rr(u.firestore,Zi),[new Sc(u._key,Fi.none())])}(this._delegate)}onSnapshot(...r){const a=Mg(r),c=gv(r,h=>new eh(this.firestore,new Rl(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return If(this._delegate,a,c)}get(r){let a;return a="cache"===(null==r?void 0:r.source)?function(u){u=Rr(u,bi);const r=Rr(u.firestore,Zi),a=Bs(r),c=new id(r);return function(u,r){const a=new Xi;return u.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(c=(0,ye.Z)(function*(h,E,A){try{const B=yield function(Z,ve){const Ie=Mt(Z);return Ie.persistence.runTransaction("read document","readonly",Fe=>Ie.Qn.An(Fe,ve))}(h,E);B.isFoundDocument()?A.resolve(B):B.isNoDocument()?A.resolve(null):A.reject(new Dt(it.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(B){const Z=cc(B,`Failed to get document '${E} from cache`);A.reject(Z)}}),function(h,E,A){return c.apply(this,arguments)})(yield lf(u),r,a);var c})),a.promise}(a,u._key).then(h=>new Rl(r,c,u._key,h,new yc(null!==h&&h.hasLocalMutations,!0),u.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(u){u=Rr(u,bi);const r=Rr(u.firestore,Zi);return K_(Bs(r),u._key,{source:"server"}).then(a=>Cg(r,u,a))}(this._delegate):function(u){u=Rr(u,bi);const r=Rr(u.firestore,Zi);return K_(Bs(r),u._key).then(a=>Cg(r,u,a))}(this._delegate),a.then(c=>new eh(this.firestore,new Rl(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)))}withConverter(r){return new wa(this.firestore,this._delegate.withConverter(r?Pl.getInstance(this.firestore,r):null))}}function Ao(u,r,a){return u.message=u.message.replace(r,a),u}function Mg(u){for(const r of u)if("object"==typeof r&&!Sg(r))return r;return{}}function gv(u,r){var a,c;let h;return h=Sg(u[0])?u[0]:Sg(u[1])?u[1]:"function"==typeof u[0]?{next:u[0],error:u[1],complete:u[2]}:{next:u[1],error:u[2],complete:u[3]},{next:E=>{h.next&&h.next(r(E))},error:null===(a=h.error)||void 0===a?void 0:a.bind(h),complete:null===(c=h.complete)||void 0===c?void 0:c.bind(h)}}class eh{constructor(r,a){this._firestore=r,this._delegate=a}get ref(){return new wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,a){return this._delegate.get(r,a)}isEqual(r){return Ef(this._delegate,r._delegate)}}class th extends eh{data(r){const a=this._delegate.data(r);return function(u,r){u||qt()}(void 0!==a),a}}class xo{constructor(r,a){this.firestore=r,this._delegate=a,this._userDataWriter=new Xd(r)}where(r,a,c){try{return new xo(this.firestore,_c(this._delegate,function(u,r,a){const c=r,h=gg("where",u);return new qE(h,c,a)}(r,a,c)))}catch(h){throw Ao(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,a){try{return new xo(this.firestore,_c(this._delegate,function(u,r="asc"){const a=r,c=gg("orderBy",u);return new py(c,a)}(r,a)))}catch(c){throw Ao(c,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new xo(this.firestore,_c(this._delegate,function(u){return rg("limit",u),new gy("limit",u,"F")}(r)))}catch(a){throw Ao(a,"limit()","Query.limit()")}}limitToLast(r){try{return new xo(this.firestore,_c(this._delegate,function(u){return rg("limitToLast",u),new gy("limitToLast",u,"L")}(r)))}catch(a){throw Ao(a,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new xo(this.firestore,_c(this._delegate,function(...u){return new yg("startAt",u,!0)}(...r)))}catch(a){throw Ao(a,"startAt()","Query.startAt()")}}startAfter(...r){try{return new xo(this.firestore,_c(this._delegate,function(...u){return new yg("startAfter",u,!1)}(...r)))}catch(a){throw Ao(a,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new xo(this.firestore,_c(this._delegate,function(...u){return new qd("endBefore",u,!0)}(...r)))}catch(a){throw Ao(a,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new xo(this.firestore,_c(this._delegate,function(...u){return new qd("endAt",u,!1)}(...r)))}catch(a){throw Ao(a,"endAt()","Query.endAt()")}}isEqual(r){return sy(this._delegate,r._delegate)}get(r){let a;return a="cache"===(null==r?void 0:r.source)?function(u){u=Rr(u,Js);const r=Rr(u.firestore,Zi),a=Bs(r),c=new id(r);return function(u,r){const a=new Xi;return u.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(c=(0,ye.Z)(function*(h,E,A){try{const B=yield Kn(h,E,!0),Z=new N_(E,B.Gn),ve=Z.Io(B.documents),Ie=Z.applyChanges(ve,!1);A.resolve(Ie.snapshot)}catch(B){const Z=cc(B,`Failed to execute query '${E} against cache`);A.reject(Z)}}),function(h,E,A){return c.apply(this,arguments)})(yield lf(u),r,a);var c})),a.promise}(a,u._query).then(h=>new Nl(r,c,u,h))}(this._delegate):"server"===(null==r?void 0:r.source)?function(u){u=Rr(u,Js);const r=Rr(u.firestore,Zi),a=Bs(r),c=new id(r);return ny(a,u._query,{source:"server"}).then(h=>new Nl(r,c,u,h))}(this._delegate):function(u){u=Rr(u,Js);const r=Rr(u.firestore,Zi),a=Bs(r),c=new id(r);return fy(u._query),ny(a,u._query).then(h=>new Nl(r,c,u,h))}(this._delegate),a.then(c=>new cs(this.firestore,new Nl(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)))}onSnapshot(...r){const a=Mg(r),c=gv(r,h=>new cs(this.firestore,new Nl(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return If(this._delegate,a,c)}withConverter(r){return new xo(this.firestore,this._delegate.withConverter(r?Pl.getInstance(this.firestore,r):null))}}class mv{constructor(r,a){this._firestore=r,this._delegate=a}get type(){return this._delegate.type}get doc(){return new th(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cs{constructor(r,a){this._firestore=r,this._delegate=a}get query(){return new xo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new th(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(a=>new mv(this._firestore,a))}forEach(r,a){this._delegate.forEach(c=>{r.call(a,new th(this._firestore,c))})}isEqual(r){return Ef(this._delegate,r._delegate)}}class vc extends xo{constructor(r,a){super(r,a),this.firestore=r,this._delegate=a}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new wa(this.firestore,r):null}doc(r){try{return new wa(this.firestore,void 0===r?hf(this._delegate):hf(this._delegate,r))}catch(a){throw Ao(a,"doc()","CollectionReference.doc()")}}add(r){return function(u,r){const a=Rr(u.firestore,Zi),c=hf(u),h=Zd(u.converter,r);return Qd(a,[zd(Ml(u.firestore),"addDoc",c._key,h,null!==u.converter,{}).toMutation(c._key,Fi.exists(!1))]).then(()=>c)}(this._delegate,r).then(a=>new wa(this.firestore,a))}isEqual(r){return iy(this._delegate,r._delegate)}withConverter(r){return new vc(this.firestore,this._delegate.withConverter(r?Pl.getInstance(this.firestore,r):null))}}function Ec(u){return Rr(u,bi)}class Rg{constructor(...r){this._delegate=new sa(...r)}static documentId(){return new Rg(lr.keyField().canonicalString())}isEqual(r){return(r=(0,Ge.m9)(r))instanceof sa&&this._delegate._internalPath.isEqual(r._internalPath)}}class Fl{constructor(r){this._delegate=r}static serverTimestamp(){const r=new cg("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new Fl(r)}static delete(){const r=new nd("deleteField");return r._methodName="FieldValue.delete",new Fl(r)}static arrayUnion(...r){const a=function(...u){return new cy("arrayUnion",u)}(...r);return a._methodName="FieldValue.arrayUnion",new Fl(a)}static arrayRemove(...r){const a=function(...u){return new ev("arrayRemove",u)}(...r);return a._methodName="FieldValue.arrayRemove",new Fl(a)}static increment(r){const a=function(u){return new tv("increment",u)}(r);return a._methodName="FieldValue.increment",new Fl(a)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const yv={Firestore:Sf,GeoPoint:Xu,Timestamp:Qr,Blob:Jd,Transaction:xg,WriteBatch:Og,DocumentReference:wa,DocumentSnapshot:eh,Query:xo,QueryDocumentSnapshot:th,QuerySnapshot:cs,CollectionReference:vc,FieldPath:Rg,FieldValue:Fl,setLogLevel:function(u){!function(u){Ut.setLogLevel(u)}(u)},CACHE_SIZE_UNLIMITED:-1};!function(u){(function(u,r){u.INTERNAL.registerComponent(new rn.wA("firestore-compat",a=>((r,a)=>new Sf(r,a,new Ag))(a.getProvider("app-compat").getImmediate(),a.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},yv)))})(u),u.registerVersion("@firebase/firestore-compat","0.1.0")}(Je.Z);var Ga=M(1325);function Ny(u,r){return function(u,r=P.z){return new se.y(a=>{let c;return null!=r?r.schedule(()=>{c=u.onSnapshot({includeMetadataChanges:!0},a)}):c=u.onSnapshot({includeMetadataChanges:!0},a),()=>{null!=c&&c()}})}(u,r)}function Ng(u,r){return Ny(u,r).pipe((0,X.U)(a=>({payload:a,type:"query"})))}function nh(u,r){return Ng(u,r).pipe((0,he.O)(void 0),(0,q.G)(),(0,X.U)(([a,c])=>{const h=c.payload.docChanges(),E=h.map(A=>({type:A.type,payload:A}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((A,B)=>{const Z=h.find(Ie=>Ie.doc.ref.isEqual(A.ref)),ve=null==a?void 0:a.payload.docs.find(Ie=>Ie.ref.isEqual(A.ref));Z&&JSON.stringify(Z.doc.metadata)===JSON.stringify(A.metadata)||!Z&&ve&&JSON.stringify(ve.metadata)===JSON.stringify(A.metadata)||E.push({type:"modified",payload:{oldIndex:B,newIndex:B,type:"modified",doc:A}})}),E}))}function vv(u,r,a){return nh(u,a).pipe((0,Y.R)((c,h)=>function(u,r,a){return r.forEach(c=>{a.indexOf(c.type)>-1&&(u=function(u,r){switch(r.type){case"added":if(!u[r.newIndex]||!u[r.newIndex].doc.ref.isEqual(r.doc.ref))return rh(u,r.newIndex,0,r);break;case"modified":if(null==u[r.oldIndex]||u[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const a=u.slice();return a.splice(r.oldIndex,1),a.splice(r.newIndex,0,r),a}return rh(u,r.newIndex,1,r)}break;case"removed":if(u[r.oldIndex]&&u[r.oldIndex].doc.ref.isEqual(r.doc.ref))return rh(u,r.oldIndex,1)}return u}(u,c))}),u}(c,h.map(E=>E.payload),r),[]),(0,ce.x)(),(0,X.U)(c=>c.map(h=>({type:h.type,payload:h}))))}function rh(u,r,a,...c){const h=u.slice();return h.splice(r,a,...c),h}function Ly(u){return(!u||0===u.length)&&(u=["added","removed","modified"]),u}class ky{constructor(r,a,c){this.ref=r,this.query=a,this.afs=c}stateChanges(r){let a=nh(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(a=a.pipe((0,X.U)(c=>c.filter(h=>r.indexOf(h.type)>-1)))),a.pipe((0,he.O)(void 0),(0,q.G)(),(0,Q.h)(([c,h])=>h.length>0||!c),(0,X.U)(([c,h])=>h),re.iC)}auditTrail(r){return this.stateChanges(r).pipe((0,Y.R)((a,c)=>[...a,...c],[]))}snapshotChanges(r){const a=Ly(r);return vv(this.query,a,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(r={}){return Ng(this.query,this.afs.schedulers.outsideAngular).pipe((0,X.U)(a=>a.payload.docs.map(c=>r.idField?Object.assign(Object.assign({},c.data()),{[r.idField]:c.id}):c.data())),re.iC)}get(r){return(0,oe.D)(this.query.get(r)).pipe(re.f6)}add(r){return this.ref.add(r)}doc(r){return new ou(this.ref.doc(r),this.afs)}}class ou{constructor(r,a){this.ref=r,this.afs=a}set(r,a){return this.ref.set(r,a)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,a){const c=this.ref.collection(r),{ref:h,query:E}=Uy(c,a);return new ky(h,E,this.afs)}snapshotChanges(){return function(u,r){return Ny(u,r).pipe((0,he.O)(void 0),(0,q.G)(),(0,X.U)(([a,c])=>c.exists?(null==a?void 0:a.exists)?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,X.U)(({payload:a})=>r.idField?Object.assign(Object.assign({},a.data()),{[r.idField]:a.id}):a.data()))}get(r){return(0,oe.D)(this.ref.get(r)).pipe((0,fe.QV)(this.afs.schedulers.insideAngular))}}class au{constructor(r,a){this.query=r,this.afs=a}stateChanges(r){return r&&0!==r.length?nh(this.query,this.afs.schedulers.outsideAngular).pipe((0,X.U)(a=>a.filter(c=>r.indexOf(c.type)>-1)),(0,Q.h)(a=>a.length>0),re.iC):nh(this.query,this.afs.schedulers.outsideAngular).pipe(re.iC)}auditTrail(r){return this.stateChanges(r).pipe((0,Y.R)((a,c)=>[...a,...c],[]))}snapshotChanges(r){const a=Ly(r);return vv(this.query,a,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(r={}){return Ng(this.query,this.afs.schedulers.outsideAngular).pipe((0,X.U)(c=>c.payload.docs.map(h=>r.idField?Object.assign({[r.idField]:h.id},h.data()):h.data())),re.iC)}get(r){return(0,oe.D)(this.query.get(r)).pipe(re.f6)}}const za=new b.OlP("angularfire2.enableFirestorePersistence"),Pg=new b.OlP("angularfire2.firestore.persistenceSettings"),Vy=new b.OlP("angularfire2.firestore.settings"),Ev=new b.OlP("angularfire2.firestore.use-emulator");function Uy(u,r=(a=>a)){return{query:r(u),ref:u}}let By=(()=>{class u{constructor(a,c,h,E,A,B,Z,ve,Ie,Fe,ot,vt,kt,pn,Zn,xi){this.schedulers=Z;const Xs=(0,_e.on)(a,B,c),Nu=Ie;if(Fe){const Oo=vt;(0,re.cc)(`${Xs.name}.auth`,"AngularFireAuth",Xs.name,()=>{const oa=B.runOutsideAngular(()=>Xs.auth());if(ot&&oa.useEmulator(...ot),kt&&(oa.tenantId=kt),oa.languageCode=pn,Zn&&oa.useDeviceLanguage(),Oo)for(const[sd,wv]of Object.entries(Oo))oa.settings[sd]=wv;return xi&&oa.setPersistence(xi),oa},[ot,kt,pn,Zn,Oo,xi])}[this.firestore,this.persistenceEnabled$]=(0,re.cc)(`${Xs.name}.firestore`,"AngularFirestore",Xs.name,()=>{const Oo=B.runOutsideAngular(()=>Xs.firestore());if(E&&Oo.settings(E),Nu&&Oo.useEmulator(...Nu),h&&!(0,Pe.PM)(A)){const oa=()=>{try{return(0,oe.D)(Oo.enablePersistence(ve||void 0).then(()=>!0,()=>!1))}catch(sd){return"undefined"!=typeof console&&console.warn(sd),(0,ge.of)(!1)}};return[Oo,B.runOutsideAngular(oa)]}return[Oo,(0,ge.of)(!1)]},[E,Nu,h])}collection(a,c){let h;h="string"==typeof a?this.firestore.collection(a):a;const{ref:E,query:A}=Uy(h,c),B=this.schedulers.ngZone.run(()=>E);return new ky(B,A,this)}collectionGroup(a,c){const h=c||(A=>A),E=this.firestore.collectionGroup(a);return new au(h(E),this)}doc(a){let c;c="string"==typeof a?this.firestore.doc(a):a;const h=this.schedulers.ngZone.run(()=>c);return new ou(h,this)}createId(){return this.firestore.collection("_").doc().id}}return u.\u0275fac=function(a){return new(a||u)(b.LFG(_e.Dh),b.LFG(_e.xv,8),b.LFG(za,8),b.LFG(Vy,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(re.HU),b.LFG(Pg,8),b.LFG(Ev,8),b.LFG(Ga.zQ,8),b.LFG(Ga.Qv,8),b.LFG(Ga.L6,8),b.LFG(Ga._Q,8),b.LFG(Ga.rT,8),b.LFG(Ga.lh,8),b.LFG(Ga.f7,8))},u.\u0275prov=b.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),bv=(()=>{class u{static enablePersistence(a){return{ngModule:u,providers:[{provide:za,useValue:!0},{provide:Pg,useValue:a}]}}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=b.oAB({type:u}),u.\u0275inj=b.cJS({providers:[By]}),u})()},9958:(pt,Me,M)=>{"use strict";M.d(Me,{hO:()=>Pe,xv:()=>ce,Dh:()=>Y,GT:()=>q,on:()=>Q,pX:()=>he});var b=M(7716),P=M(4486);P.Z.registerVersion("firebase","9.0.0","app-compat");var ge=M(9126);pt=M.hmd(pt);const re=["ngOnDestroy"],he=(qe,Je,ye,mt={})=>new Proxy(qe,{get:(rn,_t)=>ye.runOutsideAngular(()=>{var Ge;if(qe[_t])return(null===(Ge=null==mt?void 0:mt.spy)||void 0===Ge?void 0:Ge.get)&&mt.spy.get(_t,qe[_t]),qe[_t];if(re.indexOf(_t)>-1)return()=>{};const jt=Je.toPromise().then($e=>{const Nt=$e&&$e[_t];return"function"==typeof Nt?Nt.bind($e):Nt&&Nt.then?Nt.then(St=>ye.run(()=>St)):ye.run(()=>Nt)});return new Proxy(()=>{},{get:($e,Nt)=>jt[Nt],apply:($e,Nt,St)=>jt.then(Ae=>{var He;const Re=Ae&&Ae(...St);return(null===(He=null==mt?void 0:mt.spy)||void 0===He?void 0:He.apply)&&mt.spy.apply(_t,St,Re),Re})})})}),q=(qe,Je)=>{Je.forEach(ye=>{Object.getOwnPropertyNames(ye.prototype||ye).forEach(mt=>{Object.defineProperty(qe.prototype,mt,Object.getOwnPropertyDescriptor(ye.prototype||ye,mt))})})};class X{constructor(Je){return Je}}const Y=new b.OlP("angularfire2.app.options"),ce=new b.OlP("angularfire2.app.name");function Q(qe,Je,ye){const rn="object"==typeof ye&&ye||{};rn.name=rn.name||"string"==typeof ye&&ye||"[DEFAULT]";const Ge=P.Z.apps.filter(jt=>jt&&jt.name===rn.name)[0]||Je.runOutsideAngular(()=>P.Z.initializeApp(qe,rn));try{JSON.stringify(qe)!==JSON.stringify(Ge.options)&&fe("error",`${Ge.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(jt){}return new X(Ge)}const fe=(qe,...Je)=>{(0,b.X6Q)()&&"undefined"!=typeof console&&console[qe](...Je)},_e={provide:X,useFactory:Q,deps:[Y,b.R0b,[new b.FiY,ce]]};let Pe=(()=>{class qe{constructor(ye){P.Z.registerVersion("angularfire",ge.q4.full,`compat-${ye.toString()}`),P.Z.registerVersion("angular",b.q4F.full)}static initializeApp(ye,mt){return{ngModule:qe,providers:[{provide:Y,useValue:ye},{provide:ce,useValue:mt}]}}}return qe.\u0275fac=function(ye){return new(ye||qe)(b.LFG(b.Lbi))},qe.\u0275mod=b.oAB({type:qe}),qe.\u0275inj=b.cJS({providers:[_e]}),qe})()},9126:(pt,Me,M)=>{"use strict";M.d(Me,{q4:()=>Y,iC:()=>Ae,f6:()=>St,HU:()=>_t,cc:()=>fe});var b=M(7716);(0,M(5452).registerVersion)("firebase","9.0.0","app");var ge=M(7771),re=M(3637),he=M(8307),q=M(9746),X=M(9673);pt=M.hmd(pt);const Y=new b.GfV("7.0.0"),ce=!!pt.hot,Q=(Ze,...Ne)=>{(0,b.X6Q)()&&"undefined"!=typeof console&&console[Ze](...Ne)};function fe(Ze,Ne,bt,Gt,Rn){const[,Ht,Xt]=globalThis.\u0275AngularfireInstanceCache.find(Bt=>Bt[0]===Ze)||[];if(Ht)return function(Ze,Ne){try{return Ze.toString()===Ne.toString()}catch(bt){return Ze===Ne}}(Rn,Xt)||(Q("error",`${Ne} was already initialized on the ${bt} Firebase App with different settings.${ce?" You may need to reload as Firebase is not HMR aware.":""}`),Q("warn",{is:Rn,was:Xt})),Ht;{const Bt=Gt();return globalThis.\u0275AngularfireInstanceCache.push([Ze,Bt,Rn]),Bt}}function ye(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class mt{constructor(Ne,bt=ge.N){this.zone=Ne,this.delegate=bt}now(){return this.delegate.now()}schedule(Ne,bt,Gt){const Rn=this.zone;return this.delegate.schedule(function(Xt){Rn.runGuarded(()=>{Ne.apply(this,[Xt])})},bt,Gt)}}class rn{constructor(Ne){this.zone=Ne,this.task=null}call(Ne,bt){const Gt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ye,{},ye,ye)),bt.pipe((0,he.b)({next:Gt,complete:Gt,error:Gt})).subscribe(Ne).add(Gt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _t=(()=>{class Ze{constructor(bt){this.ngZone=bt,this.outsideAngular=bt.runOutsideAngular(()=>new mt(Zone.current)),this.insideAngular=bt.run(()=>new mt(Zone.current,re.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Ze.\u0275fac=function(bt){return new(bt||Ze)(b.LFG(b.R0b))},Ze.\u0275prov=b.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();function Ge(){const Ze=globalThis.\u0275AngularFireScheduler;if(!Ze)throw new Error("AngularFireModule has not been provided");return Ze}function St(Ze){return Ze.pipe((0,q.QV)(Ge().insideAngular))}function Ae(Ze){return Ge(),function(Ze){return function(bt){return(bt=bt.lift(new rn(Ze.ngZone))).pipe((0,X.R)(Ze.outsideAngular),(0,q.QV)(Ze.insideAngular))}}(Ge())(Ze)}},3679:(pt,Me,M)=>{"use strict";M.d(Me,{Fj:()=>_e,u5:()=>Rs,JJ:()=>yr,JL:()=>zt,F:()=>$n,On:()=>Fn,Q7:()=>ro,_Y:()=>Ci});var b=M(7716),P=M(8583),se=M(9412),oe=M(5758),ge=M(8002);let re=(()=>{class W{constructor(L,te){this._renderer=L,this._elementRef=te,this.onChange=Xe=>{},this.onTouched=()=>{}}setProperty(L,te){this._renderer.setProperty(this._elementRef.nativeElement,L,te)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return W.\u0275fac=function(L){return new(L||W)(b.Y36(b.Qsj),b.Y36(b.SBq))},W.\u0275dir=b.lG2({type:W}),W})(),he=(()=>{class W extends re{}return W.\u0275fac=function(){let j;return function(te){return(j||(j=b.n5z(W)))(te||W)}}(),W.\u0275dir=b.lG2({type:W,features:[b.qOj]}),W})();const q=new b.OlP("NgValueAccessor"),ce={provide:q,useExisting:(0,b.Gpc)(()=>_e),multi:!0},fe=new b.OlP("CompositionEventMode");let _e=(()=>{class W extends re{constructor(L,te,Xe){super(L,te),this._compositionMode=Xe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const W=(0,P.q)()?(0,P.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(L){this.setProperty("value",null==L?"":L)}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return W.\u0275fac=function(L){return new(L||W)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(fe,8))},W.\u0275dir=b.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,te){1&L&&b.NdJ("input",function(Kt){return te._handleInput(Kt.target.value)})("blur",function(){return te.onTouched()})("compositionstart",function(){return te._compositionStart()})("compositionend",function(Kt){return te._compositionEnd(Kt.target.value)})},features:[b._Bn([ce]),b.qOj]}),W})();const Je=new b.OlP("NgValidators"),ye=new b.OlP("NgAsyncValidators");function Ye(W){return null!=W}function Ze(W){const j=(0,b.QGY)(W)?(0,se.D)(W):W;return(0,b.CqO)(j),j}function Ne(W){let j={};return W.forEach(L=>{j=null!=L?Object.assign(Object.assign({},j),L):j}),0===Object.keys(j).length?null:j}function bt(W,j){return j.map(L=>L(W))}function Rn(W){return W.map(j=>function(W){return!W.validate}(j)?j:L=>j.validate(L))}function Xt(W){return null!=W?function(W){if(!W)return null;const j=W.filter(Ye);return 0==j.length?null:function(L){return Ne(bt(L,j))}}(Rn(W)):null}function tr(W){return null!=W?function(W){if(!W)return null;const j=W.filter(Ye);return 0==j.length?null:function(L){const te=bt(L,j).map(Ze);return(0,oe.D)(te).pipe((0,ge.U)(Ne))}}(Rn(W)):null}function Jn(W,j){return null===W?[j]:Array.isArray(W)?[...W,j]:[W,j]}function hr(W){return W?Array.isArray(W)?W:[W]:[]}function Bn(W,j){return Array.isArray(W)?W.includes(j):W===j}function qn(W,j){const L=hr(j);return hr(W).forEach(Xe=>{Bn(L,Xe)||L.push(Xe)}),L}function dn(W,j){return hr(j).filter(L=>!Bn(W,L))}let $t=(()=>{class W{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=Xt(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=tr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L){this.control&&this.control.reset(L)}hasError(L,te){return!!this.control&&this.control.hasError(L,te)}getError(L,te){return this.control?this.control.getError(L,te):null}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275dir=b.lG2({type:W}),W})(),Un=(()=>{class W extends $t{get formDirective(){return null}get path(){return null}}return W.\u0275fac=function(){let j;return function(te){return(j||(j=b.n5z(W)))(te||W)}}(),W.\u0275dir=b.lG2({type:W,features:[b.qOj]}),W})();class vr extends $t{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ar{constructor(j){this._cd=j}is(j){var L,te,Xe;return"submitted"===j?!!(null===(L=this._cd)||void 0===L?void 0:L.submitted):!!(null===(Xe=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===Xe?void 0:Xe[j])}}let yr=(()=>{class W extends Ar{constructor(L){super(L)}}return W.\u0275fac=function(L){return new(L||W)(b.Y36(vr,2))},W.\u0275dir=b.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,te){2&L&&b.ekj("ng-untouched",te.is("untouched"))("ng-touched",te.is("touched"))("ng-pristine",te.is("pristine"))("ng-dirty",te.is("dirty"))("ng-valid",te.is("valid"))("ng-invalid",te.is("invalid"))("ng-pending",te.is("pending"))},features:[b.qOj]}),W})(),zt=(()=>{class W extends Ar{constructor(L){super(L)}}return W.\u0275fac=function(L){return new(L||W)(b.Y36(Un,10))},W.\u0275dir=b.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,te){2&L&&b.ekj("ng-untouched",te.is("untouched"))("ng-touched",te.is("touched"))("ng-pristine",te.is("pristine"))("ng-dirty",te.is("dirty"))("ng-valid",te.is("valid"))("ng-invalid",te.is("invalid"))("ng-pending",te.is("pending"))("ng-submitted",te.is("submitted"))},features:[b.qOj]}),W})();function Ke(W,j){ht(W,j),j.valueAccessor.writeValue(W.value),function(W,j){j.valueAccessor.registerOnChange(L=>{W._pendingValue=L,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&Sn(W,j)})}(W,j),function(W,j){const L=(te,Xe)=>{j.valueAccessor.writeValue(te),Xe&&j.viewToModelUpdate(te)};W.registerOnChange(L),j._registerOnDestroy(()=>{W._unregisterOnChange(L)})}(W,j),function(W,j){j.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&Sn(W,j),"submit"!==W.updateOn&&W.markAsTouched()})}(W,j),function(W,j){if(j.valueAccessor.setDisabledState){const L=te=>{j.valueAccessor.setDisabledState(te)};W.registerOnDisabledChange(L),j._registerOnDestroy(()=>{W._unregisterOnDisabledChange(L)})}}(W,j)}function Ce(W,j){W.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(j)})}function ht(W,j){const L=function(W){return W._rawValidators}(W);null!==j.validator?W.setValidators(Jn(L,j.validator)):"function"==typeof L&&W.setValidators([L]);const te=function(W){return W._rawAsyncValidators}(W);null!==j.asyncValidator?W.setAsyncValidators(Jn(te,j.asyncValidator)):"function"==typeof te&&W.setAsyncValidators([te]);const Xe=()=>W.updateValueAndValidity();Ce(j._rawValidators,Xe),Ce(j._rawAsyncValidators,Xe)}function Sn(W,j){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function We(W,j){const L=W.indexOf(j);L>-1&&W.splice(L,1)}const Tt="VALID",At="INVALID",mn="PENDING",An="DISABLED";function Er(W){return(rt(W)?W.validators:W)||null}function Nr(W){return Array.isArray(W)?Xt(W):W||null}function nt(W,j){return(rt(j)?j.asyncValidators:W)||null}function Qe(W){return Array.isArray(W)?tr(W):W||null}function rt(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}class Ct{constructor(j,L){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=j,this._rawAsyncValidators=L,this._composedValidatorFn=Nr(this._rawValidators),this._composedAsyncValidatorFn=Qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===Tt}get invalid(){return this.status===At}get pending(){return this.status==mn}get disabled(){return this.status===An}get enabled(){return this.status!==An}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._rawValidators=j,this._composedValidatorFn=Nr(j)}setAsyncValidators(j){this._rawAsyncValidators=j,this._composedAsyncValidatorFn=Qe(j)}addValidators(j){this.setValidators(qn(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(qn(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(dn(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(dn(j,this._rawAsyncValidators))}hasValidator(j){return Bn(this._rawValidators,j)}hasAsyncValidator(j){return Bn(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=mn,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const L=this._parentMarkedDirty(j.onlySelf);this.status=An,this.errors=null,this._forEachChild(te=>{te.disable(Object.assign(Object.assign({},j),{onlySelf:!0}))}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},j),{skipPristineCheck:L})),this._onDisabledChange.forEach(te=>te(!0))}enable(j={}){const L=this._parentMarkedDirty(j.onlySelf);this.status=Tt,this._forEachChild(te=>{te.enable(Object.assign(Object.assign({},j),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},j),{skipPristineCheck:L})),this._onDisabledChange.forEach(te=>te(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tt||this.status===mn)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?An:Tt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=mn,this._hasOwnPendingAsyncValidator=!0;const L=Ze(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(te=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(te,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,L={}){this.errors=j,this._updateControlsErrors(!1!==L.emitEvent)}get(j){return function(W,j,L){if(null==j||(Array.isArray(j)||(j=j.split(".")),Array.isArray(j)&&0===j.length))return null;let te=W;return j.forEach(Xe=>{te=te instanceof Wt?te.controls.hasOwnProperty(Xe)?te.controls[Xe]:null:te instanceof xn&&te.at(Xe)||null}),te}(this,j)}getError(j,L){const te=L?this.get(L):this;return te&&te.errors?te.errors[j]:null}hasError(j,L){return!!this.getError(j,L)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?An:this.errors?At:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mn)?mn:this._anyControlsHaveStatus(At)?At:Tt}_anyControlsHaveStatus(j){return this._anyControls(L=>L.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_isBoxedValue(j){return"object"==typeof j&&null!==j&&2===Object.keys(j).length&&"value"in j&&"disabled"in j}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){rt(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wt extends Ct{constructor(j=null,L,te){super(Er(L),nt(te,L)),this._onChange=[],this._applyFormState(j),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(j,L={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(te=>te(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(j,L={}){this.setValue(j,L)}reset(j=null,L={}){this._applyFormState(j),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){We(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){We(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){this._isBoxedValue(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}}class Wt extends Ct{constructor(j,L,te){super(Er(L),nt(te,L)),this.controls=j,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,L){return this.controls[j]?this.controls[j]:(this.controls[j]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(j,L,te={}){this.registerControl(j,L),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}removeControl(j,L={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(j,L,te={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],L&&this.registerControl(j,L),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,L={}){this._checkAllValuesPresent(j),Object.keys(j).forEach(te=>{this._throwIfControlMissing(te),this.controls[te].setValue(j[te],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(j,L={}){null!=j&&(Object.keys(j).forEach(te=>{this.controls[te]&&this.controls[te].patchValue(j[te],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(j={},L={}){this._forEachChild((te,Xe)=>{te.reset(j[Xe],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(j,L,te)=>(j[te]=L instanceof wt?L.value:L.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(L,te)=>!!te._syncPendingControls()||L);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_throwIfControlMissing(j){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[j])throw new Error(`Cannot find form control with name: ${j}.`)}_forEachChild(j){Object.keys(this.controls).forEach(L=>{const te=this.controls[L];te&&j(te,L)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const L of Object.keys(this.controls)){const te=this.controls[L];if(this.contains(L)&&j(te))return!0}return!1}_reduceValue(){return this._reduceChildren({},(j,L,te)=>((L.enabled||this.disabled)&&(j[te]=L.value),j))}_reduceChildren(j,L){let te=j;return this._forEachChild((Xe,Kt)=>{te=L(te,Xe,Kt)}),te}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(j){this._forEachChild((L,te)=>{if(void 0===j[te])throw new Error(`Must supply a value for form control with name: '${te}'.`)})}}class xn extends Ct{constructor(j,L,te){super(Er(L),nt(te,L)),this.controls=j,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(j){return this.controls[j]}push(j,L={}){this.controls.push(j),this._registerControl(j),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(j,L,te={}){this.controls.splice(j,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:te.emitEvent})}removeAt(j,L={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(j,L,te={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),L&&(this.controls.splice(j,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(j,L={}){this._checkAllValuesPresent(j),j.forEach((te,Xe)=>{this._throwIfControlMissing(Xe),this.at(Xe).setValue(te,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(j,L={}){null!=j&&(j.forEach((te,Xe)=>{this.at(Xe)&&this.at(Xe).patchValue(te,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(j=[],L={}){this._forEachChild((te,Xe)=>{te.reset(j[Xe],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(j=>j instanceof wt?j.value:j.getRawValue())}clear(j={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:j.emitEvent}))}_syncPendingControls(){let j=this.controls.reduce((L,te)=>!!te._syncPendingControls()||L,!1);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_throwIfControlMissing(j){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(j))throw new Error(`Cannot find form control at index ${j}`)}_forEachChild(j){this.controls.forEach((L,te)=>{j(L,te)})}_updateValue(){this.value=this.controls.filter(j=>j.enabled||this.disabled).map(j=>j.value)}_anyControls(j){return this.controls.some(L=>L.enabled&&j(L))}_setUpControls(){this._forEachChild(j=>this._registerControl(j))}_checkAllValuesPresent(j){this._forEachChild((L,te)=>{if(void 0===j[te])throw new Error(`Must supply a value for form control at index: ${te}.`)})}_allControlsDisabled(){for(const j of this.controls)if(j.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(j){j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)}}const Yt={provide:Un,useExisting:(0,b.Gpc)(()=>$n)},Dn=(()=>Promise.resolve(null))();let $n=(()=>{class W extends Un{constructor(L,te){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new b.vpe,this.form=new Wt({},Xt(L),tr(te))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){Dn.then(()=>{const te=this._findContainer(L.path);L.control=te.registerControl(L.name,L.control),Ke(L.control,L),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){Dn.then(()=>{const te=this._findContainer(L.path);te&&te.removeControl(L.name),We(this._directives,L)})}addFormGroup(L){Dn.then(()=>{const te=this._findContainer(L.path),Xe=new Wt({});(function(W,j){ht(W,j)})(Xe,L),te.registerControl(L.name,Xe),Xe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){Dn.then(()=>{const te=this._findContainer(L.path);te&&te.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,te){Dn.then(()=>{this.form.get(L.path).setValue(te)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,function(W,j){W._syncPendingControls(),j.forEach(L=>{const te=L.control;"submit"===te.updateOn&&te._pendingChange&&(L.viewToModelUpdate(te._pendingValue),te._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(L),!1}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}}return W.\u0275fac=function(L){return new(L||W)(b.Y36(Je,10),b.Y36(ye,10))},W.\u0275dir=b.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(L,te){1&L&&b.NdJ("submit",function(Kt){return te.onSubmit(Kt)})("reset",function(){return te.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([Yt]),b.qOj]}),W})();const yn={provide:vr,useExisting:(0,b.Gpc)(()=>Fn)},nr=(()=>Promise.resolve(null))();let Fn=(()=>{class W extends vr{constructor(L,te,Xe,Kt){super(),this.control=new wt,this._registered=!1,this.update=new b.vpe,this._parent=L,this._setValidators(te),this._setAsyncValidators(Xe),this.valueAccessor=function(W,j){if(!j)return null;let L,te,Xe;return Array.isArray(j),j.forEach(Kt=>{Kt.constructor===_e?L=Kt:function(W){return Object.getPrototypeOf(W.constructor)===he}(Kt)?te=Kt:Xe=Kt}),Xe||te||L||null}(0,Kt)}ngOnChanges(L){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in L&&this._updateDisabled(L),function(W,j){if(!W.hasOwnProperty("model"))return!1;const L=W.model;return!!L.isFirstChange()||!Object.is(j,L.currentValue)}(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(W,j){return[...j.path,W]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ke(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){nr.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1})})}_updateDisabled(L){const te=L.isDisabled.currentValue,Xe=""===te||te&&"false"!==te;nr.then(()=>{Xe&&!this.control.disabled?this.control.disable():!Xe&&this.control.disabled&&this.control.enable()})}}return W.\u0275fac=function(L){return new(L||W)(b.Y36(Un,9),b.Y36(Je,10),b.Y36(ye,10),b.Y36(q,10))},W.\u0275dir=b.lG2({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[b._Bn([yn]),b.qOj,b.TTD]}),W})(),Ci=(()=>{class W{}return W.\u0275fac=function(L){return new(L||W)},W.\u0275dir=b.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),W})(),Qi=(()=>{class W{}return W.\u0275fac=function(L){return new(L||W)},W.\u0275mod=b.oAB({type:W}),W.\u0275inj=b.cJS({}),W})();const Ms={provide:Je,useExisting:(0,b.Gpc)(()=>ro),multi:!0};let ro=(()=>{class W{constructor(){this._required=!1}get required(){return this._required}set required(L){this._required=null!=L&&!1!==L&&"false"!=`${L}`,this._onChange&&this._onChange()}validate(L){return this.required?function(W){return function(W){return null==W||0===W.length}(W.value)?{required:!0}:null}(L):null}registerOnValidatorChange(L){this._onChange=L}}return W.\u0275fac=function(L){return new(L||W)},W.\u0275dir=b.lG2({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(L,te){2&L&&b.uIk("required",te.required?"":null)},inputs:{required:"required"},features:[b._Bn([Ms])]}),W})(),Zr=(()=>{class W{}return W.\u0275fac=function(L){return new(L||W)},W.\u0275mod=b.oAB({type:W}),W.\u0275inj=b.cJS({imports:[[Qi]]}),W})(),Rs=(()=>{class W{}return W.\u0275fac=function(L){return new(L||W)},W.\u0275mod=b.oAB({type:W}),W.\u0275inj=b.cJS({imports:[Zr]}),W})()},9895:(pt,Me,M)=>{"use strict";M.d(Me,{gz:()=>Kr,F0:()=>Ti,yS:()=>pa,Bz:()=>bs,lC:()=>Oa});var b=M(8583),P=M(7716),se=M(9412),oe=M(5917),ge=M(6215),re=M(9112),he=M(9897),q=M(3410),X=M(9923),Y=M(1439),ce=M(9193),Q=M(2441),fe=M(9765),_e=M(8002),Pe=M(3190),qe=M(5257),Je=M(9761),ye=M(2145),mt=M(5435),rn=M(5304),_t=M(4612),Ge=M(2627),jt=M(8049),$e=M(9773),Nt=M(8307),St=M(548),Ae=M(1307),He=M(8939),Re=M(3282);class Ye{constructor(O,D){this.id=O,this.url=D}}class Ze extends Ye{constructor(O,D,U="imperative",K=null){super(O,D),this.navigationTrigger=U,this.restoredState=K}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ne extends Ye{constructor(O,D,U){super(O,D),this.urlAfterRedirects=U}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bt extends Ye{constructor(O,D,U){super(O,D),this.reason=U}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gt extends Ye{constructor(O,D,U){super(O,D),this.error=U}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rn extends Ye{constructor(O,D,U,K){super(O,D),this.urlAfterRedirects=U,this.state=K}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ht extends Ye{constructor(O,D,U,K){super(O,D),this.urlAfterRedirects=U,this.state=K}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xt extends Ye{constructor(O,D,U,K,ne){super(O,D),this.urlAfterRedirects=U,this.state=K,this.shouldActivate=ne}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bt extends Ye{constructor(O,D,U,K){super(O,D),this.urlAfterRedirects=U,this.state=K}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tr extends Ye{constructor(O,D,U,K){super(O,D),this.urlAfterRedirects=U,this.state=K}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn{constructor(O){this.route=O}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class En{constructor(O){this.route=O}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sn{constructor(O){this.snapshot=O}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hr{constructor(O){this.snapshot=O}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bn{constructor(O){this.snapshot=O}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qn{constructor(O){this.snapshot=O}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dn{constructor(O,D,U){this.routerEvent=O,this.position=D,this.anchor=U}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const $t="primary";class Un{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const D=this.params[O];return Array.isArray(D)?D[0]:D}return null}getAll(O){if(this.has(O)){const D=this.params[O];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function vr(N){return new Un(N)}const Ar="ngNavigationCancelingError";function fr(N){const O=Error("NavigationCancelingError: "+N);return O[Ar]=!0,O}function yr(N,O,D){const U=D.path.split("/");if(U.length>N.length||"full"===D.pathMatch&&(O.hasChildren()||U.length<N.length))return null;const K={};for(let ne=0;ne<U.length;ne++){const Te=U[ne],Oe=N[ne];if(Te.startsWith(":"))K[Te.substring(1)]=Oe;else if(Te!==Oe.path)return null}return{consumed:N.slice(0,U.length),posParams:K}}function gn(N,O){const D=N?Object.keys(N):void 0,U=O?Object.keys(O):void 0;if(!D||!U||D.length!=U.length)return!1;let K;for(let ne=0;ne<D.length;ne++)if(K=D[ne],!Gr(N[K],O[K]))return!1;return!0}function Gr(N,O){if(Array.isArray(N)&&Array.isArray(O)){if(N.length!==O.length)return!1;const D=[...N].sort(),U=[...O].sort();return D.every((K,ne)=>U[ne]===K)}return N===O}function ur(N){return Array.prototype.concat.apply([],N)}function Ke(N){return N.length>0?N[N.length-1]:null}function Ce(N,O){for(const D in N)N.hasOwnProperty(D)&&O(N[D],D)}function et(N){return(0,P.CqO)(N)?N:(0,P.QGY)(N)?(0,se.D)(Promise.resolve(N)):(0,oe.of)(N)}const Ot={exact:function Ir(N,O,D){if(!We(N.segments,O.segments)||!Nn(N.segments,O.segments,D)||N.numberOfChildren!==O.numberOfChildren)return!1;for(const U in O.children)if(!N.children[U]||!Ir(N.children[U],O.children[U],D))return!1;return!0},subset:In},ft={exact:function(N,O){return gn(N,O)},subset:function(N,O){return Object.keys(O).length<=Object.keys(N).length&&Object.keys(O).every(D=>Gr(N[D],O[D]))},ignored:()=>!0};function Rt(N,O,D){return Ot[D.paths](N.root,O.root,D.matrixParams)&&ft[D.queryParams](N.queryParams,O.queryParams)&&!("exact"===D.fragment&&N.fragment!==O.fragment)}function In(N,O,D){return Dr(N,O,O.segments,D)}function Dr(N,O,D,U){if(N.segments.length>D.length){const K=N.segments.slice(0,D.length);return!(!We(K,D)||O.hasChildren()||!Nn(K,D,U))}if(N.segments.length===D.length){if(!We(N.segments,D)||!Nn(N.segments,D,U))return!1;for(const K in O.children)if(!N.children[K]||!In(N.children[K],O.children[K],U))return!1;return!0}{const K=D.slice(0,N.segments.length),ne=D.slice(N.segments.length);return!!(We(N.segments,K)&&Nn(N.segments,K,U)&&N.children[$t])&&Dr(N.children[$t],O,ne,U)}}function Nn(N,O,D){return O.every((U,K)=>ft[D](N[K].parameters,U.parameters))}class Qt{constructor(O,D,U){this.root=O,this.queryParams=D,this.fragment=U}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vr(this.queryParams)),this._queryParamMap}toString(){return mn.serialize(this)}}class Ee{constructor(O,D){this.segments=O,this.children=D,this.parent=null,Ce(D,(U,K)=>U.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return An(this)}}class be{constructor(O,D){this.path=O,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=vr(this.parameters)),this._parameterMap}toString(){return wt(this)}}function We(N,O){return N.length===O.length&&N.every((D,U)=>D.path===O[U].path)}class Tt{}class At{parse(O){const D=new Vt(O);return new Qt(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(O){var N;return`${`/${hn(O.root,!0)}`}${function(N){const O=Object.keys(N).map(D=>{const U=N[D];return Array.isArray(U)?U.map(K=>`${Nr(D)}=${Nr(K)}`).join("&"):`${Nr(D)}=${Nr(U)}`}).filter(D=>!!D);return O.length?`?${O.join("&")}`:""}(O.queryParams)}${"string"==typeof O.fragment?`#${N=O.fragment,encodeURI(N)}`:""}`}}const mn=new At;function An(N){return N.segments.map(O=>wt(O)).join("/")}function hn(N,O){if(!N.hasChildren())return An(N);if(O){const D=N.children[$t]?hn(N.children[$t],!1):"",U=[];return Ce(N.children,(K,ne)=>{ne!==$t&&U.push(`${ne}:${hn(K,!1)}`)}),U.length>0?`${D}(${U.join("//")})`:D}{const D=function(N,O){let D=[];return Ce(N.children,(U,K)=>{K===$t&&(D=D.concat(O(U,K)))}),Ce(N.children,(U,K)=>{K!==$t&&(D=D.concat(O(U,K)))}),D}(N,(U,K)=>K===$t?[hn(N.children[$t],!1)]:[`${K}:${hn(U,!1)}`]);return 1===Object.keys(N.children).length&&null!=N.children[$t]?`${An(N)}/${D[0]}`:`${An(N)}/(${D.join("//")})`}}function Er(N){return encodeURIComponent(N).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nr(N){return Er(N).replace(/%3B/gi,";")}function Qe(N){return Er(N).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rt(N){return decodeURIComponent(N)}function Ct(N){return rt(N.replace(/\+/g,"%20"))}function wt(N){return`${Qe(N.path)}${function(N){return Object.keys(N).map(O=>`;${Qe(O)}=${Qe(N[O])}`).join("")}(N.parameters)}`}const Yt=/^[^\/()?;=#]+/;function kn(N){const O=N.match(Yt);return O?O[0]:""}const Dn=/^[^=?&#]+/,wi=/^[^?&#]+/;class Vt{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let U={};return this.peekStartsWith("(")&&(U=this.parseParens(!1)),(O.length>0||Object.keys(D).length>0)&&(U[$t]=new Ee(O,D)),U}parseSegment(){const O=kn(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(O),new be(rt(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const D=kn(this.remaining);if(!D)return;this.capture(D);let U="";if(this.consumeOptional("=")){const K=kn(this.remaining);K&&(U=K,this.capture(U))}O[rt(D)]=rt(U)}parseQueryParam(O){const D=function(N){const O=N.match(Dn);return O?O[0]:""}(this.remaining);if(!D)return;this.capture(D);let U="";if(this.consumeOptional("=")){const Te=function(N){const O=N.match(wi);return O?O[0]:""}(this.remaining);Te&&(U=Te,this.capture(U))}const K=Ct(D),ne=Ct(U);if(O.hasOwnProperty(K)){let Te=O[K];Array.isArray(Te)||(Te=[Te],O[K]=Te),Te.push(ne)}else O[K]=ne}parseParens(O){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const U=kn(this.remaining),K=this.remaining[U.length];if("/"!==K&&")"!==K&&";"!==K)throw new Error(`Cannot parse url '${this.url}'`);let ne;U.indexOf(":")>-1?(ne=U.substr(0,U.indexOf(":")),this.capture(ne),this.capture(":")):O&&(ne=$t);const Te=this.parseChildren();D[ne]=1===Object.keys(Te).length?Te[$t]:new Ee([],Te),this.consumeOptional("//")}return D}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new Error(`Expected "${O}".`)}}class Pn{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const D=this.pathFromRoot(O);return D.length>1?D[D.length-2]:null}children(O){const D=yn(O,this._root);return D?D.children.map(U=>U.value):[]}firstChild(O){const D=yn(O,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(O){const D=zr(O,this._root);return D.length<2?[]:D[D.length-2].children.map(K=>K.value).filter(K=>K!==O)}pathFromRoot(O){return zr(O,this._root).map(D=>D.value)}}function yn(N,O){if(N===O.value)return O;for(const D of O.children){const U=yn(N,D);if(U)return U}return null}function zr(N,O){if(N===O.value)return[O];for(const D of O.children){const U=zr(N,D);if(U.length)return U.unshift(O),U}return[]}class nr{constructor(O,D){this.value=O,this.children=D}toString(){return`TreeNode(${this.value})`}}function Fn(N){const O={};return N&&N.children.forEach(D=>O[D.value.outlet]=D),O}class Ci extends Pn{constructor(O,D){super(O),this.snapshot=D,hs(this,O)}toString(){return this.snapshot.toString()}}function Tr(N,O){const D=function(N,O){const Te=new ei([],{},{},"",{},$t,O,null,N.root,-1,{});return new Vi("",new nr(Te,[]))}(N,O),U=new ge.X([new be("",{})]),K=new ge.X({}),ne=new ge.X({}),Te=new ge.X({}),Oe=new ge.X(""),lt=new Kr(U,K,Te,Oe,ne,$t,O,D.root);return lt.snapshot=D.root,new Ci(new nr(lt,[]),D)}class Kr{constructor(O,D,U,K,ne,Te,Oe,lt){this.url=O,this.params=D,this.queryParams=U,this.fragment=K,this.data=ne,this.outlet=Te,this.component=Oe,this._futureSnapshot=lt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_e.U)(O=>vr(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_e.U)(O=>vr(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bn(N,O="emptyOnly"){const D=N.pathFromRoot;let U=0;if("always"!==O)for(U=D.length-1;U>=1;){const K=D[U],ne=D[U-1];if(K.routeConfig&&""===K.routeConfig.path)U--;else{if(ne.component)break;U--}}return function(N){return N.reduce((O,D)=>({params:Object.assign(Object.assign({},O.params),D.params),data:Object.assign(Object.assign({},O.data),D.data),resolve:Object.assign(Object.assign({},O.resolve),D._resolvedData)}),{params:{},data:{},resolve:{}})}(D.slice(U))}class ei{constructor(O,D,U,K,ne,Te,Oe,lt,Ut,on,Gn){this.url=O,this.params=D,this.queryParams=U,this.fragment=K,this.data=ne,this.outlet=Te,this.component=Oe,this.routeConfig=lt,this._urlSegment=Ut,this._lastPathIndex=on,this._resolve=Gn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(U=>U.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vi extends Pn{constructor(O,D){super(D),this.url=O,hs(this,D)}toString(){return jr(this._root)}}function hs(N,O){O.value._routerState=N,O.children.forEach(D=>hs(N,D))}function jr(N){const O=N.children.length>0?` { ${N.children.map(jr).join(", ")} } `:"";return`${N.value}${O}`}function Ui(N){if(N.snapshot){const O=N.snapshot,D=N._futureSnapshot;N.snapshot=D,gn(O.queryParams,D.queryParams)||N.queryParams.next(D.queryParams),O.fragment!==D.fragment&&N.fragment.next(D.fragment),gn(O.params,D.params)||N.params.next(D.params),function(N,O){if(N.length!==O.length)return!1;for(let D=0;D<N.length;++D)if(!gn(N[D],O[D]))return!1;return!0}(O.url,D.url)||N.url.next(D.url),gn(O.data,D.data)||N.data.next(D.data)}else N.snapshot=N._futureSnapshot,N.data.next(N._futureSnapshot.data)}function Bi(N,O){return gn(N.params,O.params)&&function(N,O){return We(N,O)&&N.every((D,U)=>gn(D.parameters,O[U].parameters))}(N.url,O.url)&&!(!N.parent!=!O.parent)&&(!N.parent||Bi(N.parent,O.parent))}function Wn(N,O,D){if(D&&N.shouldReuseRoute(O.value,D.value.snapshot)){const U=D.value;U._futureSnapshot=O.value;const K=function(N,O,D){return O.children.map(U=>{for(const K of D.children)if(N.shouldReuseRoute(U.value,K.value.snapshot))return Wn(N,U,K);return Wn(N,U)})}(N,O,D);return new nr(U,K)}{if(N.shouldAttach(O.value)){const ne=N.retrieve(O.value);if(null!==ne){const Te=ne.route;return fs(O,Te),Te}}const U=function(N){return new Kr(new ge.X(N.url),new ge.X(N.params),new ge.X(N.queryParams),new ge.X(N.fragment),new ge.X(N.data),N.outlet,N.component,N)}(O.value),K=O.children.map(ne=>Wn(N,ne));return new nr(U,K)}}function fs(N,O){if(N.value.routeConfig!==O.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(N.children.length!==O.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");O.value._futureSnapshot=N.value;for(let D=0;D<N.children.length;++D)fs(N.children[D],O.children[D])}function li(N){return"object"==typeof N&&null!=N&&!N.outlets&&!N.segmentPath}function pi(N){return"object"==typeof N&&null!=N&&N.outlets}function ci(N,O,D,U,K){let ne={};return U&&Ce(U,(Te,Oe)=>{ne[Oe]=Array.isArray(Te)?Te.map(lt=>`${lt}`):`${Te}`}),new Qt(D.root===N?O:Pr(D.root,N,O),ne,K)}function Pr(N,O,D){const U={};return Ce(N.children,(K,ne)=>{U[ne]=K===O?D:Pr(K,O,D)}),new Ee(N.segments,U)}class no{constructor(O,D,U){if(this.isAbsolute=O,this.numberOfDoubleDots=D,this.commands=U,O&&U.length>0&&li(U[0]))throw new Error("Root segment cannot have matrix parameters");const K=U.find(pi);if(K&&K!==Ke(U))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gi{constructor(O,D,U){this.segmentGroup=O,this.processChildren=D,this.index=U}}function gr(N,O,D){if(N||(N=new Ee([],{})),0===N.segments.length&&N.hasChildren())return di(N,O,D);const U=function(N,O,D){let U=0,K=O;const ne={match:!1,pathIndex:0,commandIndex:0};for(;K<N.segments.length;){if(U>=D.length)return ne;const Te=N.segments[K],Oe=D[U];if(pi(Oe))break;const lt=`${Oe}`,Ut=U<D.length-1?D[U+1]:null;if(K>0&&void 0===lt)break;if(lt&&Ut&&"object"==typeof Ut&&void 0===Ut.outlets){if(!Lr(lt,Ut,Te))return ne;U+=2}else{if(!Lr(lt,{},Te))return ne;U++}K++}return{match:!0,pathIndex:K,commandIndex:U}}(N,O,D),K=D.slice(U.commandIndex);if(U.match&&U.pathIndex<N.segments.length){const ne=new Ee(N.segments.slice(0,U.pathIndex),{});return ne.children[$t]=new Ee(N.segments.slice(U.pathIndex),N.children),di(ne,0,K)}return U.match&&0===K.length?new Ee(N.segments,{}):U.match&&!N.hasChildren()?ms(N,O,D):U.match?di(N,0,K):ms(N,O,D)}function di(N,O,D){if(0===D.length)return new Ee(N.segments,{});{const U=function(N){return pi(N[0])?N[0].outlets:{[$t]:N}}(D),K={};return Ce(U,(ne,Te)=>{"string"==typeof ne&&(ne=[ne]),null!==ne&&(K[Te]=gr(N.children[Te],O,ne))}),Ce(N.children,(ne,Te)=>{void 0===U[Te]&&(K[Te]=ne)}),new Ee(N.segments,K)}}function ms(N,O,D){const U=N.segments.slice(0,O);let K=0;for(;K<D.length;){const ne=D[K];if(pi(ne)){const lt=rs(ne.outlets);return new Ee(U,lt)}if(0===K&&li(D[0])){U.push(new be(N.segments[O].path,hi(D[0]))),K++;continue}const Te=pi(ne)?ne.outlets[$t]:`${ne}`,Oe=K<D.length-1?D[K+1]:null;Te&&Oe&&li(Oe)?(U.push(new be(Te,hi(Oe))),K+=2):(U.push(new be(Te,{})),K++)}return new Ee(U,{})}function rs(N){const O={};return Ce(N,(D,U)=>{"string"==typeof D&&(D=[D]),null!==D&&(O[U]=ms(new Ee([],{}),0,D))}),O}function hi(N){const O={};return Ce(N,(D,U)=>O[U]=`${D}`),O}function Lr(N,O,D){return N==D.path&&gn(O,D.parameters)}class js{constructor(O,D,U,K){this.routeReuseStrategy=O,this.futureState=D,this.currState=U,this.forwardEvent=K}activate(O){const D=this.futureState._root,U=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,U,O),Ui(this.futureState.root),this.activateChildRoutes(D,U,O)}deactivateChildRoutes(O,D,U){const K=Fn(D);O.children.forEach(ne=>{const Te=ne.value.outlet;this.deactivateRoutes(ne,K[Te],U),delete K[Te]}),Ce(K,(ne,Te)=>{this.deactivateRouteAndItsChildren(ne,U)})}deactivateRoutes(O,D,U){const K=O.value,ne=D?D.value:null;if(K===ne)if(K.component){const Te=U.getContext(K.outlet);Te&&this.deactivateChildRoutes(O,D,Te.children)}else this.deactivateChildRoutes(O,D,U);else ne&&this.deactivateRouteAndItsChildren(D,U)}deactivateRouteAndItsChildren(O,D){this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,D):this.deactivateRouteAndOutlet(O,D)}detachAndStoreRouteSubtree(O,D){const U=D.getContext(O.value.outlet);if(U&&U.outlet){const K=U.outlet.detach(),ne=U.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:K,route:O,contexts:ne})}}deactivateRouteAndOutlet(O,D){const U=D.getContext(O.value.outlet),K=U&&O.value.component?U.children:D,ne=Fn(O);for(const Te of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Te],K);U&&U.outlet&&(U.outlet.deactivate(),U.children.onOutletDeactivated(),U.attachRef=null,U.resolver=null,U.route=null)}activateChildRoutes(O,D,U){const K=Fn(D);O.children.forEach(ne=>{this.activateRoutes(ne,K[ne.value.outlet],U),this.forwardEvent(new qn(ne.value.snapshot))}),O.children.length&&this.forwardEvent(new hr(O.value.snapshot))}activateRoutes(O,D,U){const K=O.value,ne=D?D.value:null;if(Ui(K),K===ne)if(K.component){const Te=U.getOrCreateContext(K.outlet);this.activateChildRoutes(O,D,Te.children)}else this.activateChildRoutes(O,D,U);else if(K.component){const Te=U.getOrCreateContext(K.outlet);if(this.routeReuseStrategy.shouldAttach(K.snapshot)){const Oe=this.routeReuseStrategy.retrieve(K.snapshot);this.routeReuseStrategy.store(K.snapshot,null),Te.children.onOutletReAttached(Oe.contexts),Te.attachRef=Oe.componentRef,Te.route=Oe.route.value,Te.outlet&&Te.outlet.attach(Oe.componentRef,Oe.route.value),ti(Oe.route)}else{const Oe=function(N){for(let O=N.parent;O;O=O.parent){const D=O.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig;if(D&&D.component)return null}return null}(K.snapshot),lt=Oe?Oe.module.componentFactoryResolver:null;Te.attachRef=null,Te.route=K,Te.resolver=lt,Te.outlet&&Te.outlet.activateWith(K,lt),this.activateChildRoutes(O,null,Te.children)}}else this.activateChildRoutes(O,null,U)}}function ti(N){Ui(N.value),N.children.forEach(ti)}class Ms{constructor(O,D){this.routes=O,this.module=D}}function Ii(N){return"function"==typeof N}function ji(N){return N instanceof Qt}const qr=Symbol("INITIAL_VALUE");function ni(){return(0,Pe.w)(N=>(0,re.aj)(N.map(O=>O.pipe((0,qe.q)(1),(0,Je.O)(qr)))).pipe((0,ye.R)((O,D)=>{let U=!1;return D.reduce((K,ne,Te)=>K!==qr?K:(ne===qr&&(U=!0),U||!1!==ne&&Te!==D.length-1&&!ji(ne)?K:ne),O)},qr),(0,mt.h)(O=>O!==qr),(0,_e.U)(O=>ji(O)?O:!0===O),(0,qe.q)(1)))}let io=(()=>{class N{}return N.\u0275fac=function(D){return new(D||N)},N.\u0275cmp=P.Xpm({type:N,selectors:[["ng-component"]],decls:1,vars:0,template:function(D,U){1&D&&P._UZ(0,"router-outlet")},directives:function(){return[Oa]},encapsulation:2}),N})();function ys(N,O=""){for(let D=0;D<N.length;D++){const U=N[D];$s(U,Ji(O,U))}}function $s(N,O){N.children&&ys(N.children,O)}function Ji(N,O){return O?N||O.path?N&&!O.path?`${N}/`:!N&&O.path?O.path:`${N}/${O.path}`:"":N}function _s(N){const O=N.children&&N.children.map(_s),D=O?Object.assign(Object.assign({},N),{children:O}):Object.assign({},N);return!D.component&&(O||D.loadChildren)&&D.outlet&&D.outlet!==$t&&(D.component=io),D}function Zr(N){return N.outlet||$t}function Rs(N,O){const D=N.filter(U=>Zr(U)===O);return D.push(...N.filter(U=>Zr(U)!==O)),D}const po={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Hi(N,O,D){var U;if(""===O.path)return"full"===O.pathMatch&&(N.hasChildren()||D.length>0)?Object.assign({},po):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const ne=(O.matcher||yr)(D,N,O);if(!ne)return Object.assign({},po);const Te={};Ce(ne.posParams,(lt,Ut)=>{Te[Ut]=lt.path});const Oe=ne.consumed.length>0?Object.assign(Object.assign({},Te),ne.consumed[ne.consumed.length-1].parameters):Te;return{matched:!0,consumedSegments:ne.consumed,lastChild:ne.consumed.length,parameters:Oe,positionalParamSegments:null!==(U=ne.posParams)&&void 0!==U?U:{}}}function Ws(N,O,D,U,K="corrected"){if(D.length>0&&function(N,O,D){return D.some(U=>te(N,O,U)&&Zr(U)!==$t)}(N,D,U)){const Te=new Ee(O,function(N,O,D,U){const K={};K[$t]=U,U._sourceSegment=N,U._segmentIndexShift=O.length;for(const ne of D)if(""===ne.path&&Zr(ne)!==$t){const Te=new Ee([],{});Te._sourceSegment=N,Te._segmentIndexShift=O.length,K[Zr(ne)]=Te}return K}(N,O,U,new Ee(D,N.children)));return Te._sourceSegment=N,Te._segmentIndexShift=O.length,{segmentGroup:Te,slicedSegments:[]}}if(0===D.length&&function(N,O,D){return D.some(U=>te(N,O,U))}(N,D,U)){const Te=new Ee(N.segments,function(N,O,D,U,K,ne){const Te={};for(const Oe of U)if(te(N,D,Oe)&&!K[Zr(Oe)]){const lt=new Ee([],{});lt._sourceSegment=N,lt._segmentIndexShift="legacy"===ne?N.segments.length:O.length,Te[Zr(Oe)]=lt}return Object.assign(Object.assign({},K),Te)}(N,O,D,U,N.children,K));return Te._sourceSegment=N,Te._segmentIndexShift=O.length,{segmentGroup:Te,slicedSegments:D}}const ne=new Ee(N.segments,N.children);return ne._sourceSegment=N,ne._segmentIndexShift=O.length,{segmentGroup:ne,slicedSegments:D}}function te(N,O,D){return(!(N.hasChildren()||O.length>0)||"full"!==D.pathMatch)&&""===D.path}function Xe(N,O,D,U){return!!(Zr(N)===U||U!==$t&&te(O,D,N))&&("**"===N.path||Hi(O,N,D).matched)}function Kt(N,O,D){return 0===O.length&&!N.children[D]}class cr{constructor(O){this.segmentGroup=O||null}}class vi{constructor(O){this.urlTree=O}}function fi(N){return new he.y(O=>O.error(new cr(N)))}function zo(N){return new he.y(O=>O.error(new vi(N)))}function V(N){return new he.y(O=>O.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${N}'`)))}class ie{constructor(O,D,U,K,ne){this.configLoader=D,this.urlSerializer=U,this.urlTree=K,this.config=ne,this.allowRedirects=!0,this.ngModule=O.get(P.h0i)}apply(){const O=Ws(this.urlTree.root,[],[],this.config).segmentGroup,D=new Ee(O.segments,O.children);return this.expandSegmentGroup(this.ngModule,this.config,D,$t).pipe((0,_e.U)(ne=>this.createUrlTree(tt(ne),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,rn.K)(ne=>{if(ne instanceof vi)return this.allowRedirects=!1,this.match(ne.urlTree);throw ne instanceof cr?this.noMatchError(ne):ne}))}match(O){return this.expandSegmentGroup(this.ngModule,this.config,O.root,$t).pipe((0,_e.U)(K=>this.createUrlTree(tt(K),O.queryParams,O.fragment))).pipe((0,rn.K)(K=>{throw K instanceof cr?this.noMatchError(K):K}))}noMatchError(O){return new Error(`Cannot match any routes. URL Segment: '${O.segmentGroup}'`)}createUrlTree(O,D,U){const K=O.segments.length>0?new Ee([],{[$t]:O}):O;return new Qt(K,D,U)}expandSegmentGroup(O,D,U,K){return 0===U.segments.length&&U.hasChildren()?this.expandChildren(O,D,U).pipe((0,_e.U)(ne=>new Ee([],ne))):this.expandSegment(O,U,D,U.segments,K,!0)}expandChildren(O,D,U){const K=[];for(const ne of Object.keys(U.children))"primary"===ne?K.unshift(ne):K.push(ne);return(0,se.D)(K).pipe((0,_t.b)(ne=>{const Te=U.children[ne],Oe=Rs(D,ne);return this.expandSegmentGroup(O,Oe,Te,ne).pipe((0,_e.U)(lt=>({segment:lt,outlet:ne})))}),(0,ye.R)((ne,Te)=>(ne[Te.outlet]=Te.segment,ne),{}),(0,Ge.Z)())}expandSegment(O,D,U,K,ne,Te){return(0,se.D)(U).pipe((0,_t.b)(Oe=>this.expandSegmentAgainstRoute(O,D,U,Oe,K,ne,Te).pipe((0,rn.K)(Ut=>{if(Ut instanceof cr)return(0,oe.of)(null);throw Ut}))),(0,jt.P)(Oe=>!!Oe),(0,rn.K)((Oe,lt)=>{if(Oe instanceof q.K||"EmptyError"===Oe.name){if(Kt(D,K,ne))return(0,oe.of)(new Ee([],{}));throw new cr(D)}throw Oe}))}expandSegmentAgainstRoute(O,D,U,K,ne,Te,Oe){return Xe(K,D,ne,Te)?void 0===K.redirectTo?this.matchSegmentAgainstRoute(O,D,K,ne,Te):Oe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,D,U,K,ne,Te):fi(D):fi(D)}expandSegmentAgainstRouteUsingRedirect(O,D,U,K,ne,Te){return"**"===K.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,U,K,Te):this.expandRegularSegmentAgainstRouteUsingRedirect(O,D,U,K,ne,Te)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,D,U,K){const ne=this.applyRedirectCommands([],U.redirectTo,{});return U.redirectTo.startsWith("/")?zo(ne):this.lineralizeSegments(U,ne).pipe((0,$e.zg)(Te=>{const Oe=new Ee(Te,{});return this.expandSegment(O,Oe,D,Te,K,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,D,U,K,ne,Te){const{matched:Oe,consumedSegments:lt,lastChild:Ut,positionalParamSegments:on}=Hi(D,K,ne);if(!Oe)return fi(D);const Gn=this.applyRedirectCommands(lt,K.redirectTo,on);return K.redirectTo.startsWith("/")?zo(Gn):this.lineralizeSegments(K,Gn).pipe((0,$e.zg)(yt=>this.expandSegment(O,D,U,yt.concat(ne.slice(Ut)),Te,!1)))}matchSegmentAgainstRoute(O,D,U,K,ne){if("**"===U.path)return U.loadChildren?(U._loadedConfig?(0,oe.of)(U._loadedConfig):this.configLoader.load(O.injector,U)).pipe((0,_e.U)(yt=>(U._loadedConfig=yt,new Ee(K,{})))):(0,oe.of)(new Ee(K,{}));const{matched:Te,consumedSegments:Oe,lastChild:lt}=Hi(D,U,K);if(!Te)return fi(D);const Ut=K.slice(lt);return this.getChildConfig(O,U,K).pipe((0,$e.zg)(Gn=>{const yt=Gn.module,ln=Gn.routes,{segmentGroup:Wi,slicedSegments:Cs}=Ws(D,Oe,Ut,ln),qt=new Ee(Wi.segments,Wi.children);if(0===Cs.length&&qt.hasChildren())return this.expandChildren(yt,ln,qt).pipe((0,_e.U)(it=>new Ee(Oe,it)));if(0===ln.length&&0===Cs.length)return(0,oe.of)(new Ee(Oe,{}));const cn=Zr(U)===ne;return this.expandSegment(yt,qt,ln,Cs,cn?$t:ne,!0).pipe((0,_e.U)(Mt=>new Ee(Oe.concat(Mt.segments),Mt.children)))}))}getChildConfig(O,D,U){return D.children?(0,oe.of)(new Ms(D.children,O)):D.loadChildren?void 0!==D._loadedConfig?(0,oe.of)(D._loadedConfig):this.runCanLoadGuards(O.injector,D,U).pipe((0,$e.zg)(K=>{return K?this.configLoader.load(O.injector,D).pipe((0,_e.U)(ne=>(D._loadedConfig=ne,ne))):(N=D,new he.y(O=>O.error(fr(`Cannot load children because the guard of the route "path: '${N.path}'" returned false`))));var N})):(0,oe.of)(new Ms([],O))}runCanLoadGuards(O,D,U){const K=D.canLoad;if(!K||0===K.length)return(0,oe.of)(!0);const ne=K.map(Te=>{const Oe=O.get(Te);let lt;if((N=Oe)&&Ii(N.canLoad))lt=Oe.canLoad(D,U);else{if(!Ii(Oe))throw new Error("Invalid CanLoad guard");lt=Oe(D,U)}var N;return et(lt)});return(0,oe.of)(ne).pipe(ni(),(0,Nt.b)(Te=>{if(!ji(Te))return;const Oe=fr(`Redirecting to "${this.urlSerializer.serialize(Te)}"`);throw Oe.url=Te,Oe}),(0,_e.U)(Te=>!0===Te))}lineralizeSegments(O,D){let U=[],K=D.root;for(;;){if(U=U.concat(K.segments),0===K.numberOfChildren)return(0,oe.of)(U);if(K.numberOfChildren>1||!K.children[$t])return V(O.redirectTo);K=K.children[$t]}}applyRedirectCommands(O,D,U){return this.applyRedirectCreatreUrlTree(D,this.urlSerializer.parse(D),O,U)}applyRedirectCreatreUrlTree(O,D,U,K){const ne=this.createSegmentGroup(O,D.root,U,K);return new Qt(ne,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(O,D){const U={};return Ce(O,(K,ne)=>{if("string"==typeof K&&K.startsWith(":")){const Oe=K.substring(1);U[ne]=D[Oe]}else U[ne]=K}),U}createSegmentGroup(O,D,U,K){const ne=this.createSegments(O,D.segments,U,K);let Te={};return Ce(D.children,(Oe,lt)=>{Te[lt]=this.createSegmentGroup(O,Oe,U,K)}),new Ee(ne,Te)}createSegments(O,D,U,K){return D.map(ne=>ne.path.startsWith(":")?this.findPosParam(O,ne,K):this.findOrReturn(ne,U))}findPosParam(O,D,U){const K=U[D.path.substring(1)];if(!K)throw new Error(`Cannot redirect to '${O}'. Cannot find '${D.path}'.`);return K}findOrReturn(O,D){let U=0;for(const K of D){if(K.path===O.path)return D.splice(U),K;U++}return O}}function tt(N){const O={};for(const U of Object.keys(N.children)){const ne=tt(N.children[U]);(ne.segments.length>0||ne.hasChildren())&&(O[U]=ne)}return function(N){if(1===N.numberOfChildren&&N.children[$t]){const O=N.children[$t];return new Ee(N.segments.concat(O.segments),O.children)}return N}(new Ee(N.segments,O))}class Zt{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class On{constructor(O,D){this.component=O,this.route=D}}function mr(N,O,D){const U=N._root;return dr(U,O?O._root:null,D,[U.value])}function wn(N,O,D){const U=function(N){if(!N)return null;for(let O=N.parent;O;O=O.parent){const D=O.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig}return null}(O);return(U?U.module.injector:D).get(N)}function dr(N,O,D,U,K={canDeactivateChecks:[],canActivateChecks:[]}){const ne=Fn(O);return N.children.forEach(Te=>{(function(N,O,D,U,K={canDeactivateChecks:[],canActivateChecks:[]}){const ne=N.value,Te=O?O.value:null,Oe=D?D.getContext(N.value.outlet):null;if(Te&&ne.routeConfig===Te.routeConfig){const lt=function(N,O,D){if("function"==typeof D)return D(N,O);switch(D){case"pathParamsChange":return!We(N.url,O.url);case"pathParamsOrQueryParamsChange":return!We(N.url,O.url)||!gn(N.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bi(N,O)||!gn(N.queryParams,O.queryParams);case"paramsChange":default:return!Bi(N,O)}}(Te,ne,ne.routeConfig.runGuardsAndResolvers);lt?K.canActivateChecks.push(new Zt(U)):(ne.data=Te.data,ne._resolvedData=Te._resolvedData),dr(N,O,ne.component?Oe?Oe.children:null:D,U,K),lt&&Oe&&Oe.outlet&&Oe.outlet.isActivated&&K.canDeactivateChecks.push(new On(Oe.outlet.component,Te))}else Te&&sr(O,Oe,K),K.canActivateChecks.push(new Zt(U)),dr(N,null,ne.component?Oe?Oe.children:null:D,U,K)})(Te,ne[Te.value.outlet],D,U.concat([Te.value]),K),delete ne[Te.value.outlet]}),Ce(ne,(Te,Oe)=>sr(Te,D.getContext(Oe),K)),K}function sr(N,O,D){const U=Fn(N),K=N.value;Ce(U,(ne,Te)=>{sr(ne,K.component?O?O.children.getContext(Te):null:O,D)}),D.canDeactivateChecks.push(new On(K.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,K))}class Ka{}function ha(N){return new he.y(O=>O.error(N))}class Qn{constructor(O,D,U,K,ne,Te){this.rootComponentType=O,this.config=D,this.urlTree=U,this.url=K,this.paramsInheritanceStrategy=ne,this.relativeLinkResolution=Te}recognize(){const O=Ws(this.urlTree.root,[],[],this.config.filter(Te=>void 0===Te.redirectTo),this.relativeLinkResolution).segmentGroup,D=this.processSegmentGroup(this.config,O,$t);if(null===D)return null;const U=new ei([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),K=new nr(U,D),ne=new Vi(this.url,K);return this.inheritParamsAndData(ne._root),ne}inheritParamsAndData(O){const D=O.value,U=bn(D,this.paramsInheritanceStrategy);D.params=Object.freeze(U.params),D.data=Object.freeze(U.data),O.children.forEach(K=>this.inheritParamsAndData(K))}processSegmentGroup(O,D,U){return 0===D.segments.length&&D.hasChildren()?this.processChildren(O,D):this.processSegment(O,D,D.segments,U)}processChildren(O,D){const U=[];for(const ne of Object.keys(D.children)){const Te=D.children[ne],Oe=Rs(O,ne),lt=this.processSegmentGroup(Oe,Te,ne);if(null===lt)return null;U.push(...lt)}const K=Lo(U);return K.sort((O,D)=>O.value.outlet===$t?-1:D.value.outlet===$t?1:O.value.outlet.localeCompare(D.value.outlet)),K}processSegment(O,D,U,K){for(const ne of O){const Te=this.processSegmentAgainstRoute(ne,D,U,K);if(null!==Te)return Te}return Kt(D,U,K)?[]:null}processSegmentAgainstRoute(O,D,U,K){if(O.redirectTo||!Xe(O,D,U,K))return null;let ne,Te=[],Oe=[];if("**"===O.path){const ln=U.length>0?Ke(U).parameters:{};ne=new ei(U,ln,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ao(O),Zr(O),O.component,O,oo(D),Ta(D)+U.length,Sa(O))}else{const ln=Hi(D,O,U);if(!ln.matched)return null;Te=ln.consumedSegments,Oe=U.slice(ln.lastChild),ne=new ei(Te,ln.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ao(O),Zr(O),O.component,O,oo(D),Ta(D)+Te.length,Sa(O))}const lt=(N=O).children?N.children:N.loadChildren?N._loadedConfig.routes:[],{segmentGroup:Ut,slicedSegments:on}=Ws(D,Te,Oe,lt.filter(ln=>void 0===ln.redirectTo),this.relativeLinkResolution);var N;if(0===on.length&&Ut.hasChildren()){const ln=this.processChildren(lt,Ut);return null===ln?null:[new nr(ne,ln)]}if(0===lt.length&&0===on.length)return[new nr(ne,[])];const Gn=Zr(O)===K,yt=this.processSegment(lt,Ut,on,Gn?$t:K);return null===yt?null:[new nr(ne,yt)]}}function Da(N){const O=N.value.routeConfig;return O&&""===O.path&&void 0===O.redirectTo}function Lo(N){const O=[],D=new Set;for(const U of N){if(!Da(U)){O.push(U);continue}const K=O.find(ne=>U.value.routeConfig===ne.value.routeConfig);void 0!==K?(K.children.push(...U.children),D.add(K)):O.push(U)}for(const U of D){const K=Lo(U.children);O.push(new nr(U.value,K))}return O.filter(U=>!D.has(U))}function oo(N){let O=N;for(;O._sourceSegment;)O=O._sourceSegment;return O}function Ta(N){let O=N,D=O._segmentIndexShift?O._segmentIndexShift:0;for(;O._sourceSegment;)O=O._sourceSegment,D+=O._segmentIndexShift?O._segmentIndexShift:0;return D-1}function ao(N){return N.data||{}}function Sa(N){return N.resolve||{}}function Es(N){return(0,Pe.w)(O=>{const D=N(O);return D?(0,se.D)(D).pipe((0,_e.U)(()=>O)):(0,oe.of)(O)})}class Vr extends class{shouldDetach(O){return!1}store(O,D){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,D){return O.routeConfig===D.routeConfig}}{}const uo=new P.OlP("ROUTES");class Ko{constructor(O,D,U,K){this.loader=O,this.compiler=D,this.onLoadStartListener=U,this.onLoadEndListener=K}load(O,D){if(D._loader$)return D._loader$;this.onLoadStartListener&&this.onLoadStartListener(D);const K=this.loadModuleFactory(D.loadChildren).pipe((0,_e.U)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(D);const Te=ne.create(O);return new Ms(ur(Te.injector.get(uo,void 0,P.XFs.Self|P.XFs.Optional)).map(_s),Te)}),(0,rn.K)(ne=>{throw D._loader$=void 0,ne}));return D._loader$=new Q.c(K,()=>new fe.xQ).pipe((0,Ae.x)()),D._loader$}loadModuleFactory(O){return"string"==typeof O?(0,se.D)(this.loader.load(O)):et(O()).pipe((0,$e.zg)(D=>D instanceof P.YKP?(0,oe.of)(D):(0,se.D)(this.compiler.compileModuleAsync(D))))}}class qo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new mo,this.attachRef=null}}class mo{constructor(){this.contexts=new Map}onChildOutletCreated(O,D){const U=this.getOrCreateContext(O);U.outlet=D,this.contexts.set(O,U)}onChildOutletDestroyed(O){const D=this.getContext(O);D&&(D.outlet=null)}onOutletDeactivated(){const O=this.contexts;return this.contexts=new Map,O}onOutletReAttached(O){this.contexts=O}getOrCreateContext(O){let D=this.getContext(O);return D||(D=new qo,this.contexts.set(O,D)),D}getContext(O){return this.contexts.get(O)||null}}class Zo{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,D){return O}}function ku(N){throw N}function zs(N,O,D){return O.parse("/")}function yo(N,O){return(0,oe.of)(null)}const Za={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ti=(()=>{class N{constructor(D,U,K,ne,Te,Oe,lt,Ut){this.rootComponentType=D,this.urlSerializer=U,this.rootContexts=K,this.location=ne,this.config=Ut,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new fe.xQ,this.errorHandler=ku,this.malformedUriErrorHandler=zs,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:yo,afterPreactivation:yo},this.urlHandlingStrategy=new Zo,this.routeReuseStrategy=new Vr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Te.get(P.h0i),this.console=Te.get(P.c2e);const yt=Te.get(P.R0b);this.isNgZoneEnabled=yt instanceof P.R0b&&P.R0b.isInAngularZone(),this.resetConfig(Ut),this.currentUrlTree=new Qt(new Ee([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ko(Oe,lt,ln=>this.triggerEvent(new Jn(ln)),ln=>this.triggerEvent(new En(ln))),this.routerState=Tr(this.currentUrlTree,this.rootComponentType),this.transitions=new ge.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var D;return null===(D=this.location.getState())||void 0===D?void 0:D.\u0275routerPageId}setupNavigations(D){const U=this.events;return D.pipe((0,mt.h)(K=>0!==K.id),(0,_e.U)(K=>Object.assign(Object.assign({},K),{extractedUrl:this.urlHandlingStrategy.extract(K.rawUrl)})),(0,Pe.w)(K=>{let ne=!1,Te=!1;return(0,oe.of)(K).pipe((0,Nt.b)(Oe=>{this.currentNavigation={id:Oe.id,initialUrl:Oe.currentRawUrl,extractedUrl:Oe.extractedUrl,trigger:Oe.source,extras:Oe.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Pe.w)(Oe=>{const lt=!this.navigated||Oe.extractedUrl.toString()!==this.browserUrlTree.toString(),Ut=("reload"===this.onSameUrlNavigation||lt)&&this.urlHandlingStrategy.shouldProcessUrl(Oe.rawUrl);if(Ls(Oe.source)&&(this.browserUrlTree=Oe.rawUrl),Ut)return(0,oe.of)(Oe).pipe((0,Pe.w)(on=>{const Gn=this.transitions.getValue();return U.next(new Ze(on.id,this.serializeUrl(on.extractedUrl),on.source,on.restoredState)),Gn!==this.transitions.getValue()?ce.E:Promise.resolve(on)}),function(N,O,D,U){return(0,Pe.w)(K=>function(N,O,D,U,K){return new ie(N,O,D,U,K).apply()}(N,O,D,K.extractedUrl,U).pipe((0,_e.U)(ne=>Object.assign(Object.assign({},K),{urlAfterRedirects:ne}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Nt.b)(on=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:on.urlAfterRedirects})}),function(N,O,D,U,K){return(0,$e.zg)(ne=>function(N,O,D,U,K="emptyOnly",ne="legacy"){try{const Te=new Qn(N,O,D,U,K,ne).recognize();return null===Te?ha(new Ka):(0,oe.of)(Te)}catch(Te){return ha(Te)}}(N,O,ne.urlAfterRedirects,D(ne.urlAfterRedirects),U,K).pipe((0,_e.U)(Te=>Object.assign(Object.assign({},ne),{targetSnapshot:Te}))))}(this.rootComponentType,this.config,on=>this.serializeUrl(on),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Nt.b)(on=>{"eager"===this.urlUpdateStrategy&&(on.extras.skipLocationChange||this.setBrowserUrl(on.urlAfterRedirects,on),this.browserUrlTree=on.urlAfterRedirects);const Gn=new Rn(on.id,this.serializeUrl(on.extractedUrl),this.serializeUrl(on.urlAfterRedirects),on.targetSnapshot);U.next(Gn)}));if(lt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Gn,extractedUrl:yt,source:ln,restoredState:Wi,extras:Cs}=Oe,qt=new Ze(Gn,this.serializeUrl(yt),ln,Wi);U.next(qt);const cn=Tr(yt,this.rootComponentType).snapshot;return(0,oe.of)(Object.assign(Object.assign({},Oe),{targetSnapshot:cn,urlAfterRedirects:yt,extras:Object.assign(Object.assign({},Cs),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Oe.rawUrl,this.browserUrlTree=Oe.urlAfterRedirects,Oe.resolve(null),ce.E}),Es(Oe=>{const{targetSnapshot:lt,id:Ut,extractedUrl:on,rawUrl:Gn,extras:{skipLocationChange:yt,replaceUrl:ln}}=Oe;return this.hooks.beforePreactivation(lt,{navigationId:Ut,appliedUrlTree:on,rawUrlTree:Gn,skipLocationChange:!!yt,replaceUrl:!!ln})}),(0,Nt.b)(Oe=>{const lt=new Ht(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot);this.triggerEvent(lt)}),(0,_e.U)(Oe=>Object.assign(Object.assign({},Oe),{guards:mr(Oe.targetSnapshot,Oe.currentSnapshot,this.rootContexts)})),function(N,O){return(0,$e.zg)(D=>{const{targetSnapshot:U,currentSnapshot:K,guards:{canActivateChecks:ne,canDeactivateChecks:Te}}=D;return 0===Te.length&&0===ne.length?(0,oe.of)(Object.assign(Object.assign({},D),{guardsResult:!0})):function(N,O,D,U){return(0,se.D)(N).pipe((0,$e.zg)(K=>function(N,O,D,U,K){const ne=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,oe.of)(!0);const Te=ne.map(Oe=>{const lt=wn(Oe,O,K);let Ut;if(function(N){return N&&Ii(N.canDeactivate)}(lt))Ut=et(lt.canDeactivate(N,O,D,U));else{if(!Ii(lt))throw new Error("Invalid CanDeactivate guard");Ut=et(lt(N,O,D,U))}return Ut.pipe((0,jt.P)())});return(0,oe.of)(Te).pipe(ni())}(K.component,K.route,D,O,U)),(0,jt.P)(K=>!0!==K,!0))}(Te,U,K,N).pipe((0,$e.zg)(Oe=>Oe&&function(N){return"boolean"==typeof N}(Oe)?function(N,O,D,U){return(0,se.D)(O).pipe((0,_t.b)(K=>(0,X.z)(function(N,O){return null!==N&&O&&O(new sn(N)),(0,oe.of)(!0)}(K.route.parent,U),function(N,O){return null!==N&&O&&O(new Bn(N)),(0,oe.of)(!0)}(K.route,U),function(N,O,D){const U=O[O.length-1],ne=O.slice(0,O.length-1).reverse().map(Te=>function(N){const O=N.routeConfig?N.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:N,guards:O}:null}(Te)).filter(Te=>null!==Te).map(Te=>(0,Y.P)(()=>{const Oe=Te.guards.map(lt=>{const Ut=wn(lt,Te.node,D);let on;if(function(N){return N&&Ii(N.canActivateChild)}(Ut))on=et(Ut.canActivateChild(U,N));else{if(!Ii(Ut))throw new Error("Invalid CanActivateChild guard");on=et(Ut(U,N))}return on.pipe((0,jt.P)())});return(0,oe.of)(Oe).pipe(ni())}));return(0,oe.of)(ne).pipe(ni())}(N,K.path,D),function(N,O,D){const U=O.routeConfig?O.routeConfig.canActivate:null;if(!U||0===U.length)return(0,oe.of)(!0);const K=U.map(ne=>(0,Y.P)(()=>{const Te=wn(ne,O,D);let Oe;if(function(N){return N&&Ii(N.canActivate)}(Te))Oe=et(Te.canActivate(O,N));else{if(!Ii(Te))throw new Error("Invalid CanActivate guard");Oe=et(Te(O,N))}return Oe.pipe((0,jt.P)())}));return(0,oe.of)(K).pipe(ni())}(N,K.route,D))),(0,jt.P)(K=>!0!==K,!0))}(U,ne,N,O):(0,oe.of)(Oe)),(0,_e.U)(Oe=>Object.assign(Object.assign({},D),{guardsResult:Oe})))})}(this.ngModule.injector,Oe=>this.triggerEvent(Oe)),(0,Nt.b)(Oe=>{if(ji(Oe.guardsResult)){const Ut=fr(`Redirecting to "${this.serializeUrl(Oe.guardsResult)}"`);throw Ut.url=Oe.guardsResult,Ut}const lt=new Xt(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot,!!Oe.guardsResult);this.triggerEvent(lt)}),(0,mt.h)(Oe=>!!Oe.guardsResult||(this.restoreHistory(Oe),this.cancelNavigationTransition(Oe,""),!1)),Es(Oe=>{if(Oe.guards.canActivateChecks.length)return(0,oe.of)(Oe).pipe((0,Nt.b)(lt=>{const Ut=new Bt(lt.id,this.serializeUrl(lt.extractedUrl),this.serializeUrl(lt.urlAfterRedirects),lt.targetSnapshot);this.triggerEvent(Ut)}),(0,Pe.w)(lt=>{let Ut=!1;return(0,oe.of)(lt).pipe(function(N,O){return(0,$e.zg)(D=>{const{targetSnapshot:U,guards:{canActivateChecks:K}}=D;if(!K.length)return(0,oe.of)(D);let ne=0;return(0,se.D)(K).pipe((0,_t.b)(Te=>function(N,O,D,U){return function(N,O,D,U){const K=Object.keys(N);if(0===K.length)return(0,oe.of)({});const ne={};return(0,se.D)(K).pipe((0,$e.zg)(Te=>function(N,O,D,U){const K=wn(N,O,U);return et(K.resolve?K.resolve(O,D):K(O,D))}(N[Te],O,D,U).pipe((0,Nt.b)(Oe=>{ne[Te]=Oe}))),(0,St.h)(1),(0,$e.zg)(()=>Object.keys(ne).length===K.length?(0,oe.of)(ne):ce.E))}(N._resolve,N,O,U).pipe((0,_e.U)(ne=>(N._resolvedData=ne,N.data=Object.assign(Object.assign({},N.data),bn(N,D).resolve),null)))}(Te.route,U,N,O)),(0,Nt.b)(()=>ne++),(0,St.h)(1),(0,$e.zg)(Te=>ne===K.length?(0,oe.of)(D):ce.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Nt.b)({next:()=>Ut=!0,complete:()=>{Ut||(this.restoreHistory(lt),this.cancelNavigationTransition(lt,"At least one route resolver didn't emit any value."))}}))}),(0,Nt.b)(lt=>{const Ut=new tr(lt.id,this.serializeUrl(lt.extractedUrl),this.serializeUrl(lt.urlAfterRedirects),lt.targetSnapshot);this.triggerEvent(Ut)}))}),Es(Oe=>{const{targetSnapshot:lt,id:Ut,extractedUrl:on,rawUrl:Gn,extras:{skipLocationChange:yt,replaceUrl:ln}}=Oe;return this.hooks.afterPreactivation(lt,{navigationId:Ut,appliedUrlTree:on,rawUrlTree:Gn,skipLocationChange:!!yt,replaceUrl:!!ln})}),(0,_e.U)(Oe=>{const lt=function(N,O,D){const U=Wn(N,O._root,D?D._root:void 0);return new Ci(U,O)}(this.routeReuseStrategy,Oe.targetSnapshot,Oe.currentRouterState);return Object.assign(Object.assign({},Oe),{targetRouterState:lt})}),(0,Nt.b)(Oe=>{this.currentUrlTree=Oe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Oe.rawUrl),this.routerState=Oe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Oe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Oe),this.browserUrlTree=Oe.urlAfterRedirects)}),((N,O,D)=>(0,_e.U)(U=>(new js(O,U.targetRouterState,U.currentRouterState,D).activate(N),U)))(this.rootContexts,this.routeReuseStrategy,Oe=>this.triggerEvent(Oe)),(0,Nt.b)({next(){ne=!0},complete(){ne=!0}}),(0,He.x)(()=>{if(!ne&&!Te){const Oe=`Navigation ID ${K.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(K),this.cancelNavigationTransition(K,Oe)):this.cancelNavigationTransition(K,Oe)}this.currentNavigation=null}),(0,rn.K)(Oe=>{if(Te=!0,function(N){return N&&N[Ar]}(Oe)){const lt=ji(Oe.url);lt||(this.navigated=!0,this.restoreHistory(K,!0));const Ut=new bt(K.id,this.serializeUrl(K.extractedUrl),Oe.message);U.next(Ut),lt?setTimeout(()=>{const on=this.urlHandlingStrategy.merge(Oe.url,this.rawUrlTree),Gn={skipLocationChange:K.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ls(K.source)};this.scheduleNavigation(on,"imperative",null,Gn,{resolve:K.resolve,reject:K.reject,promise:K.promise})},0):K.resolve(!1)}else{this.restoreHistory(K,!0);const lt=new Gt(K.id,this.serializeUrl(K.extractedUrl),Oe);U.next(lt);try{K.resolve(this.errorHandler(Oe))}catch(Ut){K.reject(Ut)}}return ce.E}))}))}resetRootComponentType(D){this.rootComponentType=D,this.routerState.root.component=this.rootComponentType}getTransition(){const D=this.transitions.value;return D.urlAfterRedirects=this.browserUrlTree,D}setTransition(D){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),D))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const U=this.extractLocationChangeInfoFromEvent(D);this.shouldScheduleNavigation(this.lastLocationChangeInfo,U)&&setTimeout(()=>{const{source:K,state:ne,urlTree:Te}=U,Oe={replaceUrl:!0};if(ne){const lt=Object.assign({},ne);delete lt.navigationId,delete lt.\u0275routerPageId,0!==Object.keys(lt).length&&(Oe.state=lt)}this.scheduleNavigation(Te,K,ne,Oe)},0),this.lastLocationChangeInfo=U}))}extractLocationChangeInfoFromEvent(D){var U;return{source:"popstate"===D.type?"popstate":"hashchange",urlTree:this.parseUrl(D.url),state:(null===(U=D.state)||void 0===U?void 0:U.navigationId)?D.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(D,U){if(!D)return!0;const K=U.urlTree.toString()===D.urlTree.toString();return U.transitionId!==D.transitionId||!K||!("hashchange"===U.source&&"popstate"===D.source||"popstate"===U.source&&"hashchange"===D.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(D){this.events.next(D)}resetConfig(D){ys(D),this.config=D.map(_s),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,U={}){const{relativeTo:K,queryParams:ne,fragment:Te,queryParamsHandling:Oe,preserveFragment:lt}=U,Ut=K||this.routerState.root,on=lt?this.currentUrlTree.fragment:Te;let Gn=null;switch(Oe){case"merge":Gn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ne);break;case"preserve":Gn=this.currentUrlTree.queryParams;break;default:Gn=ne||null}return null!==Gn&&(Gn=this.removeEmptyProps(Gn)),function(N,O,D,U,K){if(0===D.length)return ci(O.root,O.root,O,U,K);const ne=function(N){if("string"==typeof N[0]&&1===N.length&&"/"===N[0])return new no(!0,0,N);let O=0,D=!1;const U=N.reduce((K,ne,Te)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const Oe={};return Ce(ne.outlets,(lt,Ut)=>{Oe[Ut]="string"==typeof lt?lt.split("/"):lt}),[...K,{outlets:Oe}]}if(ne.segmentPath)return[...K,ne.segmentPath]}return"string"!=typeof ne?[...K,ne]:0===Te?(ne.split("/").forEach((Oe,lt)=>{0==lt&&"."===Oe||(0==lt&&""===Oe?D=!0:".."===Oe?O++:""!=Oe&&K.push(Oe))}),K):[...K,ne]},[]);return new no(D,O,U)}(D);if(ne.toRoot())return ci(O.root,new Ee([],{}),O,U,K);const Te=function(N,O,D){if(N.isAbsolute)return new gi(O.root,!0,0);if(-1===D.snapshot._lastPathIndex){const ne=D.snapshot._urlSegment;return new gi(ne,ne===O.root,0)}const U=li(N.commands[0])?0:1;return function(N,O,D){let U=N,K=O,ne=D;for(;ne>K;){if(ne-=K,U=U.parent,!U)throw new Error("Invalid number of '../'");K=U.segments.length}return new gi(U,!1,K-ne)}(D.snapshot._urlSegment,D.snapshot._lastPathIndex+U,N.numberOfDoubleDots)}(ne,O,N),Oe=Te.processChildren?di(Te.segmentGroup,Te.index,ne.commands):gr(Te.segmentGroup,Te.index,ne.commands);return ci(Te.segmentGroup,Oe,O,U,K)}(Ut,this.currentUrlTree,D,Gn,null!=on?on:null)}navigateByUrl(D,U={skipLocationChange:!1}){const K=ji(D)?D:this.parseUrl(D),ne=this.urlHandlingStrategy.merge(K,this.rawUrlTree);return this.scheduleNavigation(ne,"imperative",null,U)}navigate(D,U={skipLocationChange:!1}){return function(N){for(let O=0;O<N.length;O++){const D=N[O];if(null==D)throw new Error(`The requested path contains ${D} segment at index ${O}`)}}(D),this.navigateByUrl(this.createUrlTree(D,U),U)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let U;try{U=this.urlSerializer.parse(D)}catch(K){U=this.malformedUriErrorHandler(K,this.urlSerializer,D)}return U}isActive(D,U){let K;if(K=!0===U?Object.assign({},Za):!1===U?Object.assign({},lo):U,ji(D))return Rt(this.currentUrlTree,D,K);const ne=this.parseUrl(D);return Rt(this.currentUrlTree,ne,K)}removeEmptyProps(D){return Object.keys(D).reduce((U,K)=>{const ne=D[K];return null!=ne&&(U[K]=ne),U},{})}processNavigations(){this.navigations.subscribe(D=>{this.navigated=!0,this.lastSuccessfulId=D.id,this.currentPageId=D.targetPageId,this.events.next(new Ne(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,D.resolve(!0)},D=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(D,U,K,ne,Te){var Oe,lt;if(this.disposed)return Promise.resolve(!1);const Ut=this.getTransition(),on=Ls(U)&&Ut&&!Ls(Ut.source),ln=(this.lastSuccessfulId===Ut.id||this.currentNavigation?Ut.rawUrl:Ut.urlAfterRedirects).toString()===D.toString();if(on&&ln)return Promise.resolve(!0);let Wi,Cs,qt;Te?(Wi=Te.resolve,Cs=Te.reject,qt=Te.promise):qt=new Promise((Mt,it)=>{Wi=Mt,Cs=it});const cn=++this.navigationId;let ma;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(K=this.location.getState()),ma=K&&K.\u0275routerPageId?K.\u0275routerPageId:ne.replaceUrl||ne.skipLocationChange?null!==(Oe=this.browserPageId)&&void 0!==Oe?Oe:0:(null!==(lt=this.browserPageId)&&void 0!==lt?lt:0)+1):ma=0,this.setTransition({id:cn,targetPageId:ma,source:U,restoredState:K,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:D,extras:ne,resolve:Wi,reject:Cs,promise:qt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),qt.catch(Mt=>Promise.reject(Mt))}setBrowserUrl(D,U){const K=this.urlSerializer.serialize(D),ne=Object.assign(Object.assign({},U.extras.state),this.generateNgRouterState(U.id,U.targetPageId));this.location.isCurrentPathEqualTo(K)||U.extras.replaceUrl?this.location.replaceState(K,"",ne):this.location.go(K,"",ne)}restoreHistory(D,U=!1){var K,ne;if("computed"===this.canceledNavigationResolution){const Te=this.currentPageId-D.targetPageId;"popstate"!==D.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(K=this.currentNavigation)||void 0===K?void 0:K.finalUrl)||0===Te?this.currentUrlTree===(null===(ne=this.currentNavigation)||void 0===ne?void 0:ne.finalUrl)&&0===Te&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Te)}else"replace"===this.canceledNavigationResolution&&(U&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(D,U){const K=new bt(D.id,this.serializeUrl(D.extractedUrl),U);this.triggerEvent(K),D.resolve(!1)}generateNgRouterState(D,U){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:U}:{navigationId:D}}}return N.\u0275fac=function(D){return new(D||N)(P.LFG(P.DyG),P.LFG(Tt),P.LFG(mo),P.LFG(b.Ye),P.LFG(P.zs3),P.LFG(P.v3s),P.LFG(P.Sil),P.LFG(void 0))},N.\u0275prov=P.Yz7({token:N,factory:N.\u0275fac}),N})();function Ls(N){return"imperative"!==N}let pa=(()=>{class N{constructor(D,U,K){this.router=D,this.route=U,this.locationStrategy=K,this.commands=[],this.onChanges=new fe.xQ,this.subscription=D.events.subscribe(ne=>{ne instanceof Ne&&this.updateTargetUrlAndHref()})}set routerLink(D){this.commands=null!=D?Array.isArray(D)?D:[D]:[]}ngOnChanges(D){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(D,U,K,ne,Te){if(0!==D||U||K||ne||Te||"string"==typeof this.target&&"_self"!=this.target)return!0;const Oe={skipLocationChange:Yr(this.skipLocationChange),replaceUrl:Yr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Oe),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Yr(this.preserveFragment)})}}return N.\u0275fac=function(D){return new(D||N)(P.Y36(Ti),P.Y36(Kr),P.Y36(b.S$))},N.\u0275dir=P.lG2({type:N,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(D,U){1&D&&P.NdJ("click",function(ne){return U.onClick(ne.button,ne.ctrlKey,ne.shiftKey,ne.altKey,ne.metaKey)}),2&D&&(P.Ikx("href",U.href,P.LSH),P.uIk("target",U.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[P.TTD]}),N})();function Yr(N){return""===N||!!N}let Oa=(()=>{class N{constructor(D,U,K,ne,Te){this.parentContexts=D,this.location=U,this.resolver=K,this.changeDetector=Te,this.activated=null,this._activatedRoute=null,this.activateEvents=new P.vpe,this.deactivateEvents=new P.vpe,this.name=ne||$t,D.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const D=this.parentContexts.getContext(this.name);D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,D}attach(D,U){this.activated=D,this._activatedRoute=U,this.location.insert(D.hostView)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,U){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=D;const Te=(U=U||this.resolver).resolveComponentFactory(D._futureSnapshot.routeConfig.component),Oe=this.parentContexts.getOrCreateContext(this.name).children,lt=new Ma(D,Oe,this.location.injector);this.activated=this.location.createComponent(Te,this.location.length,lt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return N.\u0275fac=function(D){return new(D||N)(P.Y36(mo),P.Y36(P.s_b),P.Y36(P._Vd),P.$8M("name"),P.Y36(P.sBO))},N.\u0275dir=P.lG2({type:N,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),N})();class Ma{constructor(O,D,U){this.route=O,this.childContexts=D,this.parent=U}get(O,D){return O===Kr?this.route:O===mo?this.childContexts:this.parent.get(O,D)}}class ga{}class Eo{preload(O,D){return(0,oe.of)(null)}}let Ra=(()=>{class N{constructor(D,U,K,ne,Te){this.router=D,this.injector=ne,this.preloadingStrategy=Te,this.loader=new Ko(U,K,Ut=>D.triggerEvent(new Jn(Ut)),Ut=>D.triggerEvent(new En(Ut)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,mt.h)(D=>D instanceof Ne),(0,_t.b)(()=>this.preload())).subscribe(()=>{})}preload(){const D=this.injector.get(P.h0i);return this.processRoutes(D,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,U){const K=[];for(const ne of U)if(ne.loadChildren&&!ne.canLoad&&ne._loadedConfig){const Te=ne._loadedConfig;K.push(this.processRoutes(Te.module,Te.routes))}else ne.loadChildren&&!ne.canLoad?K.push(this.preloadConfig(D,ne)):ne.children&&K.push(this.processRoutes(D,ne.children));return(0,se.D)(K).pipe((0,Re.J)(),(0,_e.U)(ne=>{}))}preloadConfig(D,U){return this.preloadingStrategy.preload(U,()=>(U._loadedConfig?(0,oe.of)(U._loadedConfig):this.loader.load(D.injector,U)).pipe((0,$e.zg)(ne=>(U._loadedConfig=ne,this.processRoutes(ne.module,ne.routes)))))}}return N.\u0275fac=function(D){return new(D||N)(P.LFG(Ti),P.LFG(P.v3s),P.LFG(P.Sil),P.LFG(P.zs3),P.LFG(ga))},N.\u0275prov=P.Yz7({token:N,factory:N.\u0275fac}),N})(),ko=(()=>{class N{constructor(D,U,K={}){this.router=D,this.viewportScroller=U,this.options=K,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},K.scrollPositionRestoration=K.scrollPositionRestoration||"disabled",K.anchorScrolling=K.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(D=>{D instanceof Ze?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Ne&&(this.lastId=D.id,this.scheduleScrollEvent(D,this.router.parseUrl(D.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(D=>{D instanceof dn&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,U){this.router.triggerEvent(new dn(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,U))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return N.\u0275fac=function(D){return new(D||N)(P.LFG(Ti),P.LFG(b.EM),P.LFG(void 0))},N.\u0275prov=P.Yz7({token:N,factory:N.\u0275fac}),N})();const ss=new P.OlP("ROUTER_CONFIGURATION"),Vo=new P.OlP("ROUTER_FORROOT_GUARD"),Ya=[b.Ye,{provide:Tt,useClass:At},{provide:Ti,useFactory:function(N,O,D,U,K,ne,Te,Oe={},lt,Ut){const on=new Ti(null,N,O,D,U,K,ne,ur(Te));return lt&&(on.urlHandlingStrategy=lt),Ut&&(on.routeReuseStrategy=Ut),function(N,O){N.errorHandler&&(O.errorHandler=N.errorHandler),N.malformedUriErrorHandler&&(O.malformedUriErrorHandler=N.malformedUriErrorHandler),N.onSameUrlNavigation&&(O.onSameUrlNavigation=N.onSameUrlNavigation),N.paramsInheritanceStrategy&&(O.paramsInheritanceStrategy=N.paramsInheritanceStrategy),N.relativeLinkResolution&&(O.relativeLinkResolution=N.relativeLinkResolution),N.urlUpdateStrategy&&(O.urlUpdateStrategy=N.urlUpdateStrategy)}(Oe,on),Oe.enableTracing&&on.events.subscribe(Gn=>{var yt,ln;null===(yt=console.group)||void 0===yt||yt.call(console,`Router Event: ${Gn.constructor.name}`),console.log(Gn.toString()),console.log(Gn),null===(ln=console.groupEnd)||void 0===ln||ln.call(console)}),on},deps:[Tt,mo,b.Ye,P.zs3,P.v3s,P.Sil,uo,ss,[class{},new P.FiY],[class{},new P.FiY]]},mo,{provide:Kr,useFactory:function(N){return N.routerState.root},deps:[Ti]},{provide:P.v3s,useClass:P.EAV},Ra,Eo,class{preload(O,D){return D().pipe((0,rn.K)(()=>(0,oe.of)(null)))}},{provide:ss,useValue:{enableTracing:!1}}];function os(){return new P.PXZ("Router",Ti)}let bs=(()=>{class N{constructor(D,U){}static forRoot(D,U){return{ngModule:N,providers:[Ya,de(D),{provide:Vo,useFactory:F,deps:[[Ti,new P.FiY,new P.tp0]]},{provide:ss,useValue:U||{}},{provide:b.S$,useFactory:I,deps:[b.lw,[new P.tBr(b.mr),new P.FiY],ss]},{provide:ko,useFactory:ue,deps:[Ti,b.EM,ss]},{provide:ga,useExisting:U&&U.preloadingStrategy?U.preloadingStrategy:Eo},{provide:P.PXZ,multi:!0,useFactory:os},[br,{provide:P.ip1,multi:!0,useFactory:Ur,deps:[br]},{provide:Bo,useFactory:ws,deps:[br]},{provide:P.tb,multi:!0,useExisting:Bo}]]}}static forChild(D){return{ngModule:N,providers:[de(D)]}}}return N.\u0275fac=function(D){return new(D||N)(P.LFG(Vo,8),P.LFG(Ti,8))},N.\u0275mod=P.oAB({type:N}),N.\u0275inj=P.cJS({}),N})();function ue(N,O,D){return D.scrollOffset&&O.setOffset(D.scrollOffset),new ko(N,O,D)}function I(N,O,D={}){return D.useHash?new b.Do(N,O):new b.b0(N,O)}function F(N){return"guarded"}function de(N){return[{provide:P.deG,multi:!0,useValue:N},{provide:uo,multi:!0,useValue:N}]}let br=(()=>{class N{constructor(D){this.injector=D,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new fe.xQ}appInitializer(){return this.injector.get(b.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let U=null;const K=new Promise(Oe=>U=Oe),ne=this.injector.get(Ti),Te=this.injector.get(ss);return"disabled"===Te.initialNavigation?(ne.setUpLocationChangeListener(),U(!0)):"enabled"===Te.initialNavigation||"enabledBlocking"===Te.initialNavigation?(ne.hooks.afterPreactivation=()=>this.initNavigation?(0,oe.of)(null):(this.initNavigation=!0,U(!0),this.resultOfPreactivationDone),ne.initialNavigation()):U(!0),K})}bootstrapListener(D){const U=this.injector.get(ss),K=this.injector.get(Ra),ne=this.injector.get(ko),Te=this.injector.get(Ti),Oe=this.injector.get(P.z2F);D===Oe.components[0]&&(("enabledNonBlocking"===U.initialNavigation||void 0===U.initialNavigation)&&Te.initialNavigation(),K.setUpPreloading(),ne.init(),Te.resetRootComponentType(Oe.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return N.\u0275fac=function(D){return new(D||N)(P.LFG(P.zs3))},N.\u0275prov=P.Yz7({token:N,factory:N.\u0275fac}),N})();function Ur(N){return N.appInitializer.bind(N)}function ws(N){return N.bootstrapListener.bind(N)}const Bo=new P.OlP("Router Initializer")},4486:(pt,Me,M)=>{"use strict";M.d(Me,{Z:()=>qe});var b=M(4685),P=M(6034),se=M(5452),oe=M(300);class ge{constructor(ye,mt){this._delegate=ye,this.firebase=mt,(0,se._addComponent)(ye,new P.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,se.deleteApp)(this._delegate)))}_getService(ye,mt=se._DEFAULT_ENTRY_NAME){var rn;this._delegate.checkDestroyed();const _t=this._delegate.container.getProvider(ye);return!_t.isInitialized()&&"EXPLICIT"===(null===(rn=_t.getComponent())||void 0===rn?void 0:rn.instantiationMode)&&_t.initialize(),_t.getImmediate({identifier:mt})}_removeServiceInstance(ye,mt=se._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(mt)}_addComponent(ye){(0,se._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,se._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new b.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function X(){const Je=function(Je){const ye={},mt={__esModule:!0,initializeApp:function(St,Ae={}){const He=se.initializeApp(St,Ae);if((0,b.r3)(ye,He.name))return ye[He.name];const Re=new Je(He,mt);return ye[He.name]=Re,Re},app:_t,registerVersion:se.registerVersion,setLogLevel:se.setLogLevel,onLog:se.onLog,apps:null,SDK_VERSION:se.SDK_VERSION,INTERNAL:{registerComponent:function(St){const Ae=St.name,He=Ae.replace("-compat","");if(se._registerComponent(St)&&"PUBLIC"===St.type){const Re=(Ye=_t())=>{if("function"!=typeof Ye[He])throw he.create("invalid-app-argument",{appName:Ae});return Ye[He]()};void 0!==St.serviceProps&&(0,b.ZB)(Re,St.serviceProps),mt[He]=Re,Je.prototype[He]=function(...Ye){return this._getService.bind(this,Ae).apply(this,St.multipleInstances?Ye:[])}}return"PUBLIC"===St.type?mt[He]:null},removeApp:function(St){delete ye[St]},useAsService:function(St,Ae){return"serverAuth"===Ae?null:Ae},modularAPIs:se}};function _t(St){if(!(0,b.r3)(ye,St=St||se._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:St});return ye[St]}return mt.default=mt,Object.defineProperty(mt,"apps",{get:function(){return Object.keys(ye).map(St=>ye[St])}}),_t.App=Je,mt}(ge);return Je.INTERNAL=Object.assign(Object.assign({},Je.INTERNAL),{createFirebaseNamespace:X,extendNamespace:function(mt){(0,b.ZB)(Je,mt)},createSubscribe:b.ne,ErrorFactory:b.LL,deepExtend:b.ZB}),Je}(),ce=new oe.Yd("@firebase/app-compat");if((0,b.jU)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=Y;(0,se.registerVersion)("@firebase/app-compat","0.1.0",undefined);const qe=Pe},5452:(pt,Me,M)=>{"use strict";M.r(Me),M.d(Me,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Un,_DEFAULT_ENTRY_NAME:()=>Rn,_addComponent:()=>tr,_addOrOverwriteComponent:()=>Jn,_apps:()=>Xt,_clearComponents:()=>Bn,_components:()=>Bt,_getProvider:()=>sn,_registerComponent:()=>En,_removeServiceInstance:()=>hr,deleteApp:()=>Yi,getApp:()=>Ar,getApps:()=>fr,initializeApp:()=>vr,onLog:()=>gn,registerVersion:()=>zt,setLogLevel:()=>Gr});var b=M(8239),P=M(6034),se=M(300),oe=M(4685);class ge{constructor(we){this.container=we}getPlatformInfoString(){return this.container.getProviders().map(Ce=>{if(function(Ke){const we=Ke.getComponent();return"VERSION"===(null==we?void 0:we.type)}(Ce)){const et=Ce.getImmediate();return`${et.library}/${et.version}`}return null}).filter(Ce=>Ce).join(" ")}}const he="@firebase/app",X=new se.Yd("@firebase/app"),Rn="[DEFAULT]",Ht={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xt=new Map,Bt=new Map;function tr(Ke,we){try{Ke.container.addComponent(we)}catch(Ce){X.debug(`Component ${we.name} failed to register with FirebaseApp ${Ke.name}`,Ce)}}function Jn(Ke,we){Ke.container.addOrOverwriteComponent(we)}function En(Ke){const we=Ke.name;if(Bt.has(we))return X.debug(`There were multiple attempts to register component ${we}.`),!1;Bt.set(we,Ke);for(const Ce of Xt.values())tr(Ce,Ke);return!0}function sn(Ke,we){return Ke.container.getProvider(we)}function hr(Ke,we,Ce=Rn){sn(Ke,we).clearInstance(Ce)}function Bn(){Bt.clear()}const dn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class $t{constructor(we,Ce,et){this._isDeleted=!1,this._options=Object.assign({},we),this._config=Object.assign({},Ce),this._name=Ce.name,this._automaticDataCollectionEnabled=Ce.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new P.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this.checkDestroyed(),this._automaticDataCollectionEnabled=we}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(we){this._isDeleted=we}checkDestroyed(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}}const Un="9.0.0";function vr(Ke,we={}){"object"!=typeof we&&(we={name:we});const Ce=Object.assign({name:Rn,automaticDataCollectionEnabled:!1},we),et=Ce.name;if("string"!=typeof et||!et)throw dn.create("bad-app-name",{appName:String(et)});const ht=Xt.get(et);if(ht){if((0,oe.vZ)(Ke,ht.options)&&(0,oe.vZ)(Ce,ht.config))return ht;throw dn.create("duplicate-app",{appName:et})}const Ot=new P.H0(et);for(const Rt of Bt.values())Ot.addComponent(Rt);const ft=new $t(Ke,Ce,Ot);return Xt.set(et,ft),ft}function Ar(Ke=Rn){const we=Xt.get(Ke);if(!we)throw dn.create("no-app",{appName:Ke});return we}function fr(){return Array.from(Xt.values())}function Yi(Ke){return yr.apply(this,arguments)}function yr(){return(yr=(0,b.Z)(function*(Ke){const we=Ke.name;Xt.has(we)&&(Xt.delete(we),yield Promise.all(Ke.container.getProviders().map(Ce=>Ce.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function zt(Ke,we,Ce){var et;let ht=null!==(et=Ht[Ke])&&void 0!==et?et:Ke;Ce&&(ht+=`-${Ce}`);const Ot=ht.match(/\s|\//),ft=we.match(/\s|\//);if(Ot||ft){const Rt=[`Unable to register library "${ht}" with version "${we}":`];return Ot&&Rt.push(`library name "${ht}" contains illegal characters (whitespace or "/")`),Ot&&ft&&Rt.push("and"),ft&&Rt.push(`version name "${we}" contains illegal characters (whitespace or "/")`),void X.warn(Rt.join(" "))}En(new P.wA(`${ht}-version`,()=>({library:ht,version:we}),"VERSION"))}function gn(Ke,we){if(null!==Ke&&"function"!=typeof Ke)throw dn.create("invalid-log-argument");(0,se.Am)(Ke,we)}function Gr(Ke){(0,se.Ub)(Ke)}En(new P.wA("platform-logger",we=>new ge(we),"PRIVATE")),zt(he,"0.7.0",undefined),zt("fire-js","")},6034:(pt,Me,M)=>{"use strict";M.d(Me,{wA:()=>se,H0:()=>q});var b=M(4762),P=M(4685),se=function(){function X(Y,ce,Q){this.name=Y,this.instanceFactory=ce,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return X.prototype.setInstantiationMode=function(Y){return this.instantiationMode=Y,this},X.prototype.setMultipleInstances=function(Y){return this.multipleInstances=Y,this},X.prototype.setServiceProps=function(Y){return this.serviceProps=Y,this},X.prototype.setInstanceCreatedCallback=function(Y){return this.onInstanceCreated=Y,this},X}(),oe="[DEFAULT]",ge=function(){function X(Y,ce){this.name=Y,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return X.prototype.get=function(Y){var ce=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(ce)){var Q=new P.BH;if(this.instancesDeferred.set(ce,Q),this.isInitialized(ce)||this.shouldAutoInitialize())try{var fe=this.getOrInitializeService({instanceIdentifier:ce});fe&&Q.resolve(fe)}catch(_e){}}return this.instancesDeferred.get(ce).promise},X.prototype.getImmediate=function(Y){var ce,Q=this.normalizeInstanceIdentifier(null==Y?void 0:Y.identifier),fe=null!==(ce=null==Y?void 0:Y.optional)&&void 0!==ce&&ce;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(fe)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(_e){if(fe)return null;throw _e}},X.prototype.getComponent=function(){return this.component},X.prototype.setComponent=function(Y){var ce,Q;if(Y.name!==this.name)throw Error("Mismatching Component "+Y.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=Y,this.shouldAutoInitialize()){if(function(X){return"EAGER"===X.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(rn){}try{for(var fe=(0,b.XA)(this.instancesDeferred.entries()),_e=fe.next();!_e.done;_e=fe.next()){var Pe=(0,b.CR)(_e.value,2),Je=Pe[1],ye=this.normalizeInstanceIdentifier(Pe[0]);try{var mt=this.getOrInitializeService({instanceIdentifier:ye});Je.resolve(mt)}catch(rn){}}}catch(rn){ce={error:rn}}finally{try{_e&&!_e.done&&(Q=fe.return)&&Q.call(fe)}finally{if(ce)throw ce.error}}}},X.prototype.clearInstance=function(Y){void 0===Y&&(Y=oe),this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)},X.prototype.delete=function(){return(0,b.mG)(this,void 0,void 0,function(){var Y;return(0,b.Jh)(this,function(ce){switch(ce.label){case 0:return Y=Array.from(this.instances.values()),[4,Promise.all((0,b.ev)((0,b.ev)([],(0,b.CR)(Y.filter(function(Q){return"INTERNAL"in Q}).map(function(Q){return Q.INTERNAL.delete()}))),(0,b.CR)(Y.filter(function(Q){return"_delete"in Q}).map(function(Q){return Q._delete()}))))];case 1:return ce.sent(),[2]}})})},X.prototype.isComponentSet=function(){return null!=this.component},X.prototype.isInitialized=function(Y){return void 0===Y&&(Y=oe),this.instances.has(Y)},X.prototype.getOptions=function(Y){return void 0===Y&&(Y=oe),this.instancesOptions.get(Y)||{}},X.prototype.initialize=function(Y){var ce,Q;void 0===Y&&(Y={});var fe=Y.options,_e=void 0===fe?{}:fe,Pe=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(Pe))throw Error(this.name+"("+Pe+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var qe=this.getOrInitializeService({instanceIdentifier:Pe,options:_e});try{for(var Je=(0,b.XA)(this.instancesDeferred.entries()),ye=Je.next();!ye.done;ye=Je.next()){var mt=(0,b.CR)(ye.value,2),_t=mt[1];Pe===this.normalizeInstanceIdentifier(mt[0])&&_t.resolve(qe)}}catch(jt){ce={error:jt}}finally{try{ye&&!ye.done&&(Q=Je.return)&&Q.call(Je)}finally{if(ce)throw ce.error}}return qe},X.prototype.onInit=function(Y,ce){var Q,fe=this.normalizeInstanceIdentifier(ce),_e=null!==(Q=this.onInitCallbacks.get(fe))&&void 0!==Q?Q:new Set;_e.add(Y),this.onInitCallbacks.set(fe,_e);var Pe=this.instances.get(fe);return Pe&&Y(Pe,fe),function(){_e.delete(Y)}},X.prototype.invokeOnInitCallbacks=function(Y,ce){var Q,fe,_e=this.onInitCallbacks.get(ce);if(_e)try{for(var Pe=(0,b.XA)(_e),qe=Pe.next();!qe.done;qe=Pe.next()){var Je=qe.value;try{Je(Y,ce)}catch(ye){}}}catch(ye){Q={error:ye}}finally{try{qe&&!qe.done&&(fe=Pe.return)&&fe.call(Pe)}finally{if(Q)throw Q.error}}},X.prototype.getOrInitializeService=function(Y){var ce=Y.instanceIdentifier,Q=Y.options,fe=void 0===Q?{}:Q,_e=this.instances.get(ce);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:re(ce),options:fe}),this.instances.set(ce,_e),this.instancesOptions.set(ce,fe),this.invokeOnInitCallbacks(_e,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,_e)}catch(Pe){}return _e||null},X.prototype.normalizeInstanceIdentifier=function(Y){return void 0===Y&&(Y=oe),this.component?this.component.multipleInstances?Y:oe:Y},X.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},X}();function re(X){return X===oe?void 0:X}var q=function(){function X(Y){this.name=Y,this.providers=new Map}return X.prototype.addComponent=function(Y){var ce=this.getProvider(Y.name);if(ce.isComponentSet())throw new Error("Component "+Y.name+" has already been registered with "+this.name);ce.setComponent(Y)},X.prototype.addOrOverwriteComponent=function(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)},X.prototype.getProvider=function(Y){if(this.providers.has(Y))return this.providers.get(Y);var ce=new ge(Y,this);return this.providers.set(Y,ce),ce},X.prototype.getProviders=function(){return Array.from(this.providers.values())},X}()},300:(pt,Me,M)=>{"use strict";function b(){for(var Q=0,fe=0,_e=arguments.length;fe<_e;fe++)Q+=arguments[fe].length;var Pe=Array(Q),qe=0;for(fe=0;fe<_e;fe++)for(var Je=arguments[fe],ye=0,mt=Je.length;ye<mt;ye++,qe++)Pe[qe]=Je[ye];return Pe}M.d(Me,{in:()=>oe,Yd:()=>X,Ub:()=>Y,Am:()=>ce});var P,se=[],oe=(()=>{return(Q=oe||(oe={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",oe;var Q})(),ge={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},re=oe.INFO,he=((P={})[oe.DEBUG]="log",P[oe.VERBOSE]="log",P[oe.INFO]="info",P[oe.WARN]="warn",P[oe.ERROR]="error",P),q=function(Q,fe){for(var _e=[],Pe=2;Pe<arguments.length;Pe++)_e[Pe-2]=arguments[Pe];if(!(fe<Q.logLevel)){var qe=(new Date).toISOString(),Je=he[fe];if(!Je)throw new Error("Attempted to log a message with an invalid logType (value: "+fe+")");console[Je].apply(console,b(["["+qe+"]  "+Q.name+":"],_e))}},X=function(){function Q(fe){this.name=fe,this._logLevel=re,this._logHandler=q,this._userLogHandler=null,se.push(this)}return Object.defineProperty(Q.prototype,"logLevel",{get:function(){return this._logLevel},set:function(fe){if(!(fe in oe))throw new TypeError('Invalid value "'+fe+'" assigned to `logLevel`');this._logLevel=fe},enumerable:!1,configurable:!0}),Q.prototype.setLogLevel=function(fe){this._logLevel="string"==typeof fe?ge[fe]:fe},Object.defineProperty(Q.prototype,"logHandler",{get:function(){return this._logHandler},set:function(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(fe){this._userLogHandler=fe},enumerable:!1,configurable:!0}),Q.prototype.debug=function(){for(var fe=[],_e=0;_e<arguments.length;_e++)fe[_e]=arguments[_e];this._userLogHandler&&this._userLogHandler.apply(this,b([this,oe.DEBUG],fe)),this._logHandler.apply(this,b([this,oe.DEBUG],fe))},Q.prototype.log=function(){for(var fe=[],_e=0;_e<arguments.length;_e++)fe[_e]=arguments[_e];this._userLogHandler&&this._userLogHandler.apply(this,b([this,oe.VERBOSE],fe)),this._logHandler.apply(this,b([this,oe.VERBOSE],fe))},Q.prototype.info=function(){for(var fe=[],_e=0;_e<arguments.length;_e++)fe[_e]=arguments[_e];this._userLogHandler&&this._userLogHandler.apply(this,b([this,oe.INFO],fe)),this._logHandler.apply(this,b([this,oe.INFO],fe))},Q.prototype.warn=function(){for(var fe=[],_e=0;_e<arguments.length;_e++)fe[_e]=arguments[_e];this._userLogHandler&&this._userLogHandler.apply(this,b([this,oe.WARN],fe)),this._logHandler.apply(this,b([this,oe.WARN],fe))},Q.prototype.error=function(){for(var fe=[],_e=0;_e<arguments.length;_e++)fe[_e]=arguments[_e];this._userLogHandler&&this._userLogHandler.apply(this,b([this,oe.ERROR],fe)),this._logHandler.apply(this,b([this,oe.ERROR],fe))},Q}();function Y(Q){se.forEach(function(fe){fe.setLogLevel(Q)})}function ce(Q,fe){for(var _e=function(ye){var mt=null;fe&&fe.level&&(mt=ge[fe.level]),ye.userLogHandler=null===Q?null:function(rn,_t){for(var Ge=[],jt=2;jt<arguments.length;jt++)Ge[jt-2]=arguments[jt];var $e=Ge.map(function(Nt){if(null==Nt)return null;if("string"==typeof Nt)return Nt;if("number"==typeof Nt||"boolean"==typeof Nt)return Nt.toString();if(Nt instanceof Error)return Nt.message;try{return JSON.stringify(Nt)}catch(St){return null}}).filter(function(Nt){return Nt}).join(" ");_t>=(null!=mt?mt:rn.logLevel)&&Q({level:oe[_t].toLowerCase(),message:$e,args:Ge,type:rn.name})}},Pe=0,qe=se;Pe<qe.length;Pe++)_e(qe[Pe])}},4685:(pt,Me,M)=>{"use strict";M.d(Me,{BH:()=>_e,LL:()=>bt,ZR:()=>Ne,tV:()=>Y,r3:()=>hr,Sg:()=>Pe,ne:()=>yr,vZ:()=>$t,ZB:()=>Q,pd:()=>fr,m9:()=>Qt,z$:()=>qe,jU:()=>mt,ru:()=>rn,d:()=>Ge,xb:()=>qn,w1:()=>jt,hl:()=>Ae,uI:()=>Je,UG:()=>ye,b$:()=>_t,G6:()=>St,Mn:()=>$e,xO:()=>vr,zd:()=>Ar});var b=M(4762),ge=function(Ee){for(var be=[],ke=0,We=0;We<Ee.length;We++){var Ue=Ee.charCodeAt(We);Ue<128?be[ke++]=Ue:Ue<2048?(be[ke++]=Ue>>6|192,be[ke++]=63&Ue|128):55296==(64512&Ue)&&We+1<Ee.length&&56320==(64512&Ee.charCodeAt(We+1))?(Ue=65536+((1023&Ue)<<10)+(1023&Ee.charCodeAt(++We)),be[ke++]=Ue>>18|240,be[ke++]=Ue>>12&63|128,be[ke++]=Ue>>6&63|128,be[ke++]=63&Ue|128):(be[ke++]=Ue>>12|224,be[ke++]=Ue>>6&63|128,be[ke++]=63&Ue|128)}return be},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Ee,be){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ke=be?this.byteToCharMapWebSafe_:this.byteToCharMap_,We=[],Ue=0;Ue<Ee.length;Ue+=3){var Tt=Ee[Ue],At=Ue+1<Ee.length,mn=At?Ee[Ue+1]:0,An=Ue+2<Ee.length,hn=An?Ee[Ue+2]:0,nt=(15&mn)<<2|hn>>6,Qe=63&hn;An||(Qe=64,At||(nt=64)),We.push(ke[Tt>>2],ke[(3&Tt)<<4|mn>>4],ke[nt],ke[Qe])}return We.join("")},encodeString:function(Ee,be){return this.HAS_NATIVE_SUPPORT&&!be?btoa(Ee):this.encodeByteArray(ge(Ee),be)},decodeString:function(Ee,be){return this.HAS_NATIVE_SUPPORT&&!be?atob(Ee):function(Ee){for(var be=[],ke=0,We=0;ke<Ee.length;){var Ue=Ee[ke++];if(Ue<128)be[We++]=String.fromCharCode(Ue);else if(Ue>191&&Ue<224){var Tt=Ee[ke++];be[We++]=String.fromCharCode((31&Ue)<<6|63&Tt)}else if(Ue>239&&Ue<365){var An=((7&Ue)<<18|(63&(Tt=Ee[ke++]))<<12|(63&(At=Ee[ke++]))<<6|63&Ee[ke++])-65536;be[We++]=String.fromCharCode(55296+(An>>10)),be[We++]=String.fromCharCode(56320+(1023&An))}else{Tt=Ee[ke++];var At=Ee[ke++];be[We++]=String.fromCharCode((15&Ue)<<12|(63&Tt)<<6|63&At)}}return be.join("")}(this.decodeStringToByteArray(Ee,be))},decodeStringToByteArray:function(Ee,be){this.init_();for(var ke=be?this.charToByteMapWebSafe_:this.charToByteMap_,We=[],Ue=0;Ue<Ee.length;){var Tt=ke[Ee.charAt(Ue++)],mn=Ue<Ee.length?ke[Ee.charAt(Ue)]:0,hn=++Ue<Ee.length?ke[Ee.charAt(Ue)]:64,Nr=++Ue<Ee.length?ke[Ee.charAt(Ue)]:64;if(++Ue,null==Tt||null==mn||null==hn||null==Nr)throw Error();We.push(Tt<<2|mn>>4),64!==hn&&(We.push(mn<<4&240|hn>>2),64!==Nr&&We.push(hn<<6&192|Nr))}return We},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}},X=function(Ee){return function(Ee){var be=ge(Ee);return he.encodeByteArray(be,!0)}(Ee).replace(/\./g,"")},Y=function(Ee){try{return he.decodeString(Ee,!0)}catch(be){console.error("base64Decode failed: ",be)}return null};function Q(Ee,be){if(!(be instanceof Object))return be;switch(be.constructor){case Date:return new Date(be.getTime());case Object:void 0===Ee&&(Ee={});break;case Array:Ee=[];break;default:return be}for(var We in be)!be.hasOwnProperty(We)||!fe(We)||(Ee[We]=Q(Ee[We],be[We]));return Ee}function fe(Ee){return"__proto__"!==Ee}var _e=function(){function Ee(){var be=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ke,We){be.resolve=ke,be.reject=We})}return Ee.prototype.wrapCallback=function(be){var ke=this;return function(We,Ue){We?ke.reject(We):ke.resolve(Ue),"function"==typeof be&&(ke.promise.catch(function(){}),1===be.length?be(We):be(We,Ue))}},Ee}();function Pe(Ee,be){if(Ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var We=be||"demo-project",Ue=Ee.iat||0,Tt=Ee.sub||Ee.user_id;if(!Tt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var At=(0,b.pi)({iss:"https://securetoken.google.com/"+We,aud:We,iat:Ue,exp:Ue+3600,auth_time:Ue,sub:Tt,user_id:Tt,firebase:{sign_in_provider:"custom",identities:{}}},Ee);return[X(JSON.stringify({alg:"none",type:"JWT"})),X(JSON.stringify(At)),""].join(".")}function qe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Je(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ee){return!1}}function mt(){return"object"==typeof self&&self.self===self}function rn(){var Ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ee&&void 0!==Ee.id}function _t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ge(){return qe().indexOf("Electron/")>=0}function jt(){var Ee=qe();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function $e(){return qe().indexOf("MSAppHost/")>=0}function St(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ae(){return"indexedDB"in self&&null!=indexedDB}var Ne=function(Ee){function be(ke,We,Ue){var Tt=Ee.call(this,We)||this;return Tt.code=ke,Tt.customData=Ue,Tt.name="FirebaseError",Object.setPrototypeOf(Tt,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(Tt,bt.prototype.create),Tt}return(0,b.ZT)(be,Ee),be}(Error),bt=function(){function Ee(be,ke,We){this.service=be,this.serviceName=ke,this.errors=We}return Ee.prototype.create=function(be){for(var ke=[],We=1;We<arguments.length;We++)ke[We-1]=arguments[We];var Ue=ke[0]||{},Tt=this.service+"/"+be,At=this.errors[be],mn=At?Gt(At,Ue):"Error",An=this.serviceName+": "+mn+" ("+Tt+").",hn=new Ne(Tt,An,Ue);return hn},Ee}();function Gt(Ee,be){return Ee.replace(Rn,function(ke,We){var Ue=be[We];return null!=Ue?String(Ue):"<"+We+"?>"})}var Rn=/\{\$([^}]+)}/g;function hr(Ee,be){return Object.prototype.hasOwnProperty.call(Ee,be)}function qn(Ee){for(var be in Ee)if(Object.prototype.hasOwnProperty.call(Ee,be))return!1;return!0}function $t(Ee,be){if(Ee===be)return!0;for(var ke=Object.keys(Ee),We=Object.keys(be),Ue=0,Tt=ke;Ue<Tt.length;Ue++){if(!We.includes(At=Tt[Ue]))return!1;var mn=Ee[At],An=be[At];if(Un(mn)&&Un(An)){if(!$t(mn,An))return!1}else if(mn!==An)return!1}for(var hn=0,Er=We;hn<Er.length;hn++){var At;if(!ke.includes(At=Er[hn]))return!1}return!0}function Un(Ee){return null!==Ee&&"object"==typeof Ee}function vr(Ee){for(var be=[],ke=function(An,hn){Array.isArray(hn)?hn.forEach(function(Er){be.push(encodeURIComponent(An)+"="+encodeURIComponent(Er))}):be.push(encodeURIComponent(An)+"="+encodeURIComponent(hn))},We=0,Ue=Object.entries(Ee);We<Ue.length;We++){var Tt=Ue[We];ke(Tt[0],Tt[1])}return be.length?"&"+be.join("&"):""}function Ar(Ee){var be={};return Ee.replace(/^\?/,"").split("&").forEach(function(We){if(We){var Ue=We.split("="),At=Ue[1];be[decodeURIComponent(Ue[0])]=decodeURIComponent(At)}}),be}function fr(Ee){var be=Ee.indexOf("?");if(!be)return"";var ke=Ee.indexOf("#",be);return Ee.substring(be,ke>0?ke:void 0)}function yr(Ee,be){var ke=new zt(Ee,be);return ke.subscribe.bind(ke)}!function(){function Ee(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var be=1;be<this.blockSize;++be)this.pad_[be]=0;this.reset()}Ee.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Ee.prototype.compress_=function(be,ke){ke||(ke=0);var We=this.W_;if("string"==typeof be)for(var Ue=0;Ue<16;Ue++)We[Ue]=be.charCodeAt(ke)<<24|be.charCodeAt(ke+1)<<16|be.charCodeAt(ke+2)<<8|be.charCodeAt(ke+3),ke+=4;else for(Ue=0;Ue<16;Ue++)We[Ue]=be[ke]<<24|be[ke+1]<<16|be[ke+2]<<8|be[ke+3],ke+=4;for(Ue=16;Ue<80;Ue++)We[Ue]=4294967295&((Tt=We[Ue-3]^We[Ue-8]^We[Ue-14]^We[Ue-16])<<1|Tt>>>31);var Nr,nt,At=this.chain_[0],mn=this.chain_[1],An=this.chain_[2],hn=this.chain_[3],Er=this.chain_[4];for(Ue=0;Ue<80;Ue++){Ue<40?Ue<20?(Nr=hn^mn&(An^hn),nt=1518500249):(Nr=mn^An^hn,nt=1859775393):Ue<60?(Nr=mn&An|hn&(mn|An),nt=2400959708):(Nr=mn^An^hn,nt=3395469782);var Tt=(At<<5|At>>>27)+Nr+Er+nt+We[Ue]&4294967295;Er=hn,hn=An,An=4294967295&(mn<<30|mn>>>2),mn=At,At=Tt}this.chain_[0]=this.chain_[0]+At&4294967295,this.chain_[1]=this.chain_[1]+mn&4294967295,this.chain_[2]=this.chain_[2]+An&4294967295,this.chain_[3]=this.chain_[3]+hn&4294967295,this.chain_[4]=this.chain_[4]+Er&4294967295},Ee.prototype.update=function(be,ke){if(null!=be){void 0===ke&&(ke=be.length);for(var We=ke-this.blockSize,Ue=0,Tt=this.buf_,At=this.inbuf_;Ue<ke;){if(0===At)for(;Ue<=We;)this.compress_(be,Ue),Ue+=this.blockSize;if("string"==typeof be){for(;Ue<ke;)if(Tt[At]=be.charCodeAt(Ue),++Ue,++At===this.blockSize){this.compress_(Tt),At=0;break}}else for(;Ue<ke;)if(Tt[At]=be[Ue],++Ue,++At===this.blockSize){this.compress_(Tt),At=0;break}}this.inbuf_=At,this.total_+=ke}},Ee.prototype.digest=function(){var be=[],ke=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var We=this.blockSize-1;We>=56;We--)this.buf_[We]=255&ke,ke/=256;this.compress_(this.buf_);var Ue=0;for(We=0;We<5;We++)for(var Tt=24;Tt>=0;Tt-=8)be[Ue]=this.chain_[We]>>Tt&255,++Ue;return be}}();var zt=function(){function Ee(be,ke){var We=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ke,this.task.then(function(){be(We)}).catch(function(Ue){We.error(Ue)})}return Ee.prototype.next=function(be){this.forEachObserver(function(ke){ke.next(be)})},Ee.prototype.error=function(be){this.forEachObserver(function(ke){ke.error(be)}),this.close(be)},Ee.prototype.complete=function(){this.forEachObserver(function(be){be.complete()}),this.close()},Ee.prototype.subscribe=function(be,ke,We){var Tt,Ue=this;if(void 0===be&&void 0===ke&&void 0===We)throw new Error("Missing Observer.");void 0===(Tt=function(Ee,be){if("object"!=typeof Ee||null===Ee)return!1;for(var ke=0,We=["next","error","complete"];ke<We.length;ke++){var Ue=We[ke];if(Ue in Ee&&"function"==typeof Ee[Ue])return!0}return!1}(be)?be:{next:be,error:ke,complete:We}).next&&(Tt.next=ur),void 0===Tt.error&&(Tt.error=ur),void 0===Tt.complete&&(Tt.complete=ur);var At=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Ue.finalError?Tt.error(Ue.finalError):Tt.complete()}catch(mn){}}),this.observers.push(Tt),At},Ee.prototype.unsubscribeOne=function(be){void 0===this.observers||void 0===this.observers[be]||(delete this.observers[be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Ee.prototype.forEachObserver=function(be){if(!this.finalized)for(var ke=0;ke<this.observers.length;ke++)this.sendOne(ke,be)},Ee.prototype.sendOne=function(be,ke){var We=this;this.task.then(function(){if(void 0!==We.observers&&void 0!==We.observers[be])try{ke(We.observers[be])}catch(Ue){"undefined"!=typeof console&&console.error&&console.error(Ue)}})},Ee.prototype.close=function(be){var ke=this;this.finalized||(this.finalized=!0,void 0!==be&&(this.finalError=be),this.task.then(function(){ke.observers=void 0,ke.onNoObservers=void 0}))},Ee}();function ur(){}function Qt(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}},6300:(pt,Me,M)=>{"use strict";M.r(Me);var b=M(8239),P=M(4486),se=M(4685),oe=M(5452),ge=M(4762),re=M(300),he=M(6034);const Pe=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Je=new se.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mt=new re.Yd("@firebase/auth");function rn(C,...g){mt.logLevel<=re.in.ERROR&&mt.error(`Auth (${oe.SDK_VERSION}): ${C}`,...g)}function _t(C,...g){throw jt(C,...g)}function Ge(C,...g){return jt(C,...g)}function jt(C,...g){if("string"!=typeof C){const m=g[0],S=[...g.slice(1)];return S[0]&&(S[0].appName=C.name),C._errorFactory.create(m,...S)}return Je.create(C,...g)}function $e(C,g,...m){if(!C)throw jt(g,...m)}function Nt(C){const g="INTERNAL ASSERTION FAILED: "+C;throw rn(g),new Error(g)}function St(C,g){C||Nt(g)}const Ae=new Map;function He(C){St(C instanceof Function,"Expected a class definition");let g=Ae.get(C);return g?(St(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,Ae.set(C,g),g)}function Ze(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Ne(){return"http:"===bt()||"https:"===bt()}function bt(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Ht{constructor(g,m){this.shortDelay=g,this.longDelay=m,St(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,se.uI)()||(0,se.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ne()||(0,se.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Xt(C,g){St(C.emulator,"Emulator should always be set here");const{url:m}=C.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Bt{static initialize(g,m,S){this.fetchImpl=g,m&&(this.headersImpl=m),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},Jn=new Ht(3e4,6e4);function En(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function sn(C,g,m,S){return hr.apply(this,arguments)}function hr(){return(hr=(0,b.Z)(function*(C,g,m,S,G={}){return Bn(C,G,()=>{let le={},Le={};S&&("GET"===g?Le=S:le={body:JSON.stringify(S)});const at=(0,se.xO)(Object.assign({key:C.config.apiKey},Le)).slice(1),Pt=new(Bt.headers());return Pt.set("Content-Type","application/json"),Pt.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&Pt.set("X-Firebase-Locale",C.languageCode),Bt.fetch()(Un(C,C.config.apiHost,m,at),Object.assign({method:g,headers:Pt,referrerPolicy:"no-referrer"},le))})})).apply(this,arguments)}function Bn(C,g,m){return qn.apply(this,arguments)}function qn(){return(qn=(0,b.Z)(function*(C,g,m){C._canInitEmulator=!1;const S=Object.assign(Object.assign({},tr),g);try{const G=new vr(C),le=yield Promise.race([m(),G.promise]);G.clearNetworkTimeout();const Le=yield le.json();if("needConfirmation"in Le)throw Ar(C,"account-exists-with-different-credential",Le);if(le.ok&&!("errorMessage"in Le))return Le;{const Pt=(le.ok?Le.errorMessage:Le.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===Pt)throw Ar(C,"credential-already-in-use",Le);if("EMAIL_EXISTS"===Pt)throw Ar(C,"email-already-in-use",Le);_t(C,S[Pt]||Pt.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(G){if(G instanceof se.ZR)throw G;_t(C,"network-request-failed")}})).apply(this,arguments)}function dn(C,g,m,S){return $t.apply(this,arguments)}function $t(){return($t=(0,b.Z)(function*(C,g,m,S,G={}){const le=yield sn(C,g,m,S,G);return"mfaPendingCredential"in le&&_t(C,"multi-factor-auth-required",{serverResponse:le}),le})).apply(this,arguments)}function Un(C,g,m,S){const G=`${g}${m}?${S}`;return C.config.emulator?Xt(C.config,G):`${C.config.apiScheme}://${G}`}class vr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,S)=>{this.timer=setTimeout(()=>S(Ge(this.auth,"timeout")),Jn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ar(C,g,m){const S={appName:C.name};m.email&&(S.email=m.email),m.phoneNumber&&(S.phoneNumber=m.phoneNumber);const G=Ge(C,g,S);return G.customData._tokenResponse=m,G}function Yi(){return(Yi=(0,b.Z)(function*(C,g){return sn(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function yr(C,g){return zt.apply(this,arguments)}function zt(){return(zt=(0,b.Z)(function*(C,g){return sn(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function gn(C,g){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,b.Z)(function*(C,g){return sn(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ur(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Ce(){return(Ce=(0,b.Z)(function*(C,g=!1){const m=(0,se.m9)(C),S=yield m.getIdToken(g),G=ht(S);$e(G&&G.exp&&G.auth_time&&G.iat,m.auth,"internal-error");const le="object"==typeof G.firebase?G.firebase:void 0,Le=null==le?void 0:le.sign_in_provider;return{claims:G,token:S,authTime:ur(et(G.auth_time)),issuedAtTime:ur(et(G.iat)),expirationTime:ur(et(G.exp)),signInProvider:Le||null,signInSecondFactor:(null==le?void 0:le.sign_in_second_factor)||null}})).apply(this,arguments)}function et(C){return 1e3*Number(C)}function ht(C){const[g,m,S]=C.split(".");if(void 0===g||void 0===m||void 0===S)return rn("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,se.tV)(m);return G?JSON.parse(G):(rn("Failed to decode base64 JWT payload"),null)}catch(G){return rn("Caught error parsing JWT payload as JSON",G),null}}function ft(C,g){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,b.Z)(function*(C,g,m=!1){if(m)return g;try{return yield g}catch(S){throw S instanceof se.ZR&&Sn(S)&&C.auth.currentUser===C&&(yield C.auth.signOut()),S}})).apply(this,arguments)}function Sn({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Ir{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const G=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const S=this.getInterval(g);this.timerId=setTimeout((0,b.Z)(function*(){yield m.iteration()}),S)}iteration(){var g=this;return(0,b.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class xr{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ur(this.lastLoginAt),this.creationTime=ur(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function In(C){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,b.Z)(function*(C){var g;const m=C.auth,S=yield C.getIdToken(),G=yield ft(C,gn(m,{idToken:S}));$e(null==G?void 0:G.users.length,m,"internal-error");const le=G.users[0];C._notifyReloadListener(le);const Le=(null===(g=le.providerUserInfo)||void 0===g?void 0:g.length)?be(le.providerUserInfo):[],at=Ee(C.providerData,Le),un=!!C.isAnonymous&&!(C.email&&le.passwordHash||(null==at?void 0:at.length)),Tn={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:at,metadata:new xr(le.createdAt,le.lastLoginAt),isAnonymous:un};Object.assign(C,Tn)})).apply(this,arguments)}function Qt(){return(Qt=(0,b.Z)(function*(C){const g=(0,se.m9)(C);yield In(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ee(C,g){return[...C.filter(S=>!g.some(G=>G.providerId===S.providerId)),...g]}function be(C){return C.map(g=>{var{providerId:m}=g,S=(0,ge._T)(g,["providerId"]);return{providerId:m,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function We(){return(We=(0,b.Z)(function*(C,g){const m=yield Bn(C,{},()=>{const S=(0,se.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:G,apiKey:le}=C.config,Le=Un(C,G,"/v1/token",`key=${le}`);return Bt.fetch()(Le,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:S})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){$e(g.idToken,"internal-error"),$e(void 0!==g.idToken,"internal-error"),$e(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(C){const g=ht(C);return $e(g,"internal-error"),$e(void 0!==g.exp,"internal-error"),$e(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var S=this;return(0,b.Z)(function*(){return $e(!S.accessToken||S.refreshToken,g,"user-token-expired"),m||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(g,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var S=this;return(0,b.Z)(function*(){const{accessToken:G,refreshToken:le,expiresIn:Le}=yield function(C,g){return We.apply(this,arguments)}(g,m);S.updateTokensAndExpiration(G,le,Number(Le))})()}updateTokensAndExpiration(g,m,S){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(g,m){const{refreshToken:S,accessToken:G,expirationTime:le}=m,Le=new Ue;return S&&($e("string"==typeof S,"internal-error",{appName:g}),Le.refreshToken=S),G&&($e("string"==typeof G,"internal-error",{appName:g}),Le.accessToken=G),le&&($e("number"==typeof le,"internal-error",{appName:g}),Le.expirationTime=le),Le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ue,this.toJSON())}_performRefresh(){return Nt("not implemented")}}function Tt(C,g){$e("string"==typeof C||void 0===C,"internal-error",{appName:g})}class At{constructor(g){var{uid:m,auth:S,stsTokenManager:G}=g,le=(0,ge._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=S,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.metadata=new xr(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,b.Z)(function*(){const S=yield ft(m,m.stsTokenManager.getToken(m.auth,g));return $e(S,m.auth,"internal-error"),m.accessToken!==S&&(m.accessToken=S,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),S})()}getIdTokenResult(g){return function(C){return Ce.apply(this,arguments)}(this,g)}reload(){return function(C){return Qt.apply(this,arguments)}(this)}_assign(g){this!==g&&($e(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new At(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var S=this;return(0,b.Z)(function*(){let G=!1;g.idToken&&g.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(g),G=!0),m&&(yield In(S)),yield S.auth._persistUserIfCurrent(S),G&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var g=this;return(0,b.Z)(function*(){const m=yield g.getIdToken();return yield ft(g,function(C,g){return Yi.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var S,G,le,Le,at,Pt,tn,un;const Tn=null!==(S=m.displayName)&&void 0!==S?S:void 0,ns=null!==(G=m.email)&&void 0!==G?G:void 0,na=null!==(le=m.phoneNumber)&&void 0!==le?le:void 0,It=null!==(Le=m.photoURL)&&void 0!==Le?Le:void 0,Vc=null!==(at=m.tenantId)&&void 0!==at?at:void 0,To=null!==(Pt=m._redirectEventId)&&void 0!==Pt?Pt:void 0,Dh=null!==(tn=m.createdAt)&&void 0!==tn?tn:void 0,El=null!==(un=m.lastLoginAt)&&void 0!==un?un:void 0,{uid:nu,emailVerified:Ku,isAnonymous:Us,providerData:Id,stsTokenManager:Dd}=m;$e(nu&&Dd,g,"internal-error");const Td=Ue.fromJSON(this.name,Dd);$e("string"==typeof nu,g,"internal-error"),Tt(Tn,g.name),Tt(ns,g.name),$e("boolean"==typeof Ku,g,"internal-error"),$e("boolean"==typeof Us,g,"internal-error"),Tt(na,g.name),Tt(It,g.name),Tt(Vc,g.name),Tt(To,g.name),Tt(Dh,g.name),Tt(El,g.name);const ho=new At({uid:nu,auth:g,email:ns,emailVerified:Ku,displayName:Tn,isAnonymous:Us,photoURL:It,phoneNumber:na,tenantId:Vc,stsTokenManager:Td,createdAt:Dh,lastLoginAt:El});return Id&&Array.isArray(Id)&&(ho.providerData=Id.map(ra=>Object.assign({},ra))),To&&(ho._redirectEventId=To),ho}static _fromIdTokenResponse(g,m,S=!1){return(0,b.Z)(function*(){const G=new Ue;G.updateFromServerResponse(m);const le=new At({uid:m.localId,auth:g,stsTokenManager:G,isAnonymous:S});return yield In(le),le})()}}const An=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(m,S){var G=this;return(0,b.Z)(function*(){G.storage[m]=S})()}_get(m){var S=this;return(0,b.Z)(function*(){const G=S.storage[m];return void 0===G?null:G})()}_remove(m){var S=this;return(0,b.Z)(function*(){delete S.storage[m]})()}_addListener(m,S){}_removeListener(m,S){}}return C.type="NONE",C})();function hn(C,g,m){return`firebase:${C}:${g}:${m}`}class Er{constructor(g,m,S){this.persistence=g,this.auth=m,this.userKey=S;const{config:G,name:le}=this.auth;this.fullUserKey=hn(this.userKey,G.apiKey,le),this.fullPersistenceKey=hn("persistence",G.apiKey,le),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,b.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?At._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,b.Z)(function*(){if(m.persistence===g)return;const S=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,S?m.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,S="authUser"){return(0,b.Z)(function*(){if(!m.length)return new Er(He(An),g,S);const G=(yield Promise.all(m.map(function(){var tn=(0,b.Z)(function*(un){if(yield un._isAvailable())return un});return function(un){return tn.apply(this,arguments)}}()))).filter(tn=>tn);let le=G[0]||He(An);const Le=hn(S,g.config.apiKey,g.name);let at=null;for(const tn of m)try{const un=yield tn._get(Le);if(un){const Tn=At._fromJSON(g,un);tn!==le&&(at=Tn),le=tn;break}}catch(un){}const Pt=G.filter(tn=>tn._shouldAllowMigration);return le._shouldAllowMigration&&Pt.length?(le=Pt[0],at&&(yield le._set(Le,at.toJSON())),yield Promise.all(m.map(function(){var tn=(0,b.Z)(function*(un){if(un!==le)try{yield un._remove(Le)}catch(Tn){}});return function(un){return tn.apply(this,arguments)}}())),new Er(le,g,S)):new Er(le,g,S)})()}}function Nr(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ct(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(nt(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Wt(g))return"Blackberry";if(xn(g))return"Webos";if(Qe(g))return"Safari";if((g.includes("chrome/")||rt(g))&&!g.includes("edge/"))return"Chrome";if(wt(g))return"Android";{const S=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function nt(C=(0,se.z$)()){return/firefox\//i.test(C)}function Qe(C=(0,se.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function rt(C=(0,se.z$)()){return/crios\//i.test(C)}function Ct(C=(0,se.z$)()){return/iemobile/i.test(C)}function wt(C=(0,se.z$)()){return/android/i.test(C)}function Wt(C=(0,se.z$)()){return/blackberry/i.test(C)}function xn(C=(0,se.z$)()){return/webos/i.test(C)}function Yt(C=(0,se.z$)()){return/iphone|ipad|ipod/i.test(C)}function wi(C=(0,se.z$)()){return Yt(C)||wt(C)||xn(C)||Wt(C)||/windows phone/i.test(C)||Ct(C)}function Vt(C,g=[]){let m;switch(C){case"Browser":m=Nr((0,se.z$)());break;case"Worker":m=`${Nr((0,se.z$)())}-${C}`;break;default:m=C}const S=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${oe.SDK_VERSION}/${S}`}class Pn{constructor(g,m){this.app=g,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zr(this),this.idTokenSubscription=new zr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(g,m){var S=this;return m&&(this._popupRedirectResolver=He(m)),this._initializationPromise=this.queue((0,b.Z)(function*(){var G;S._deleted||(S.persistenceManager=yield Er.create(S,g),!S._deleted&&((null===(G=S._popupRedirectResolver)||void 0===G?void 0:G._shouldInitProactively)&&(yield S._popupRedirectResolver._initialize(S)),yield S.initializeCurrentUser(m),!S._deleted&&(S._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,b.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m)}})()}initializeCurrentUser(g){var m=this;return(0,b.Z)(function*(){var S;let G=yield m.assertedPersistence.getCurrentUser();if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const le=null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId,Le=null==G?void 0:G._redirectEventId,at=yield m.tryRedirectSignIn(g);(!le||le===Le)&&(null==at?void 0:at.user)&&(G=at.user)}return G?G._redirectEventId?($e(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===G._redirectEventId?m.directlySetCurrentUser(G):m.reloadAndSetCurrentUserOrClear(G)):m.reloadAndSetCurrentUserOrClear(G):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var m=this;return(0,b.Z)(function*(){let S=null;try{S=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(G){yield m._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,b.Z)(function*(){try{yield In(g)}catch(S){if("auth/network-request-failed"!==S.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,b.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,b.Z)(function*(){const S=g?(0,se.m9)(g):null;return S&&$e(S.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(S&&S._clone(m))})()}_updateCurrentUser(g){var m=this;return(0,b.Z)(function*(){if(!m._deleted)return g&&$e(m.tenantId===g.tenantId,m,"tenant-id-mismatch"),m.queue((0,b.Z)(function*(){yield m.directlySetCurrentUser(g),m.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,b.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var m=this;return this.queue((0,b.Z)(function*(){yield m.assertedPersistence.setPersistence(He(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new se.LL("auth","Firebase",g())}onAuthStateChanged(g,m,S){return this.registerStateListener(this.authStateSubscription,g,m,S)}onIdTokenChanged(g,m,S){return this.registerStateListener(this.idTokenSubscription,g,m,S)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var S=this;return(0,b.Z)(function*(){const G=yield S.getOrInitRedirectPersistenceManager(m);return null===g?G.removeCurrentUser():G.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,b.Z)(function*(){if(!m.redirectPersistenceManager){const S=g&&He(g)||m._popupRedirectResolver;$e(S,m,"argument-error"),m.redirectPersistenceManager=yield Er.create(m,[He(S._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,b.Z)(function*(){var S,G;return m._isInitialized&&(yield m.queue((0,b.Z)(function*(){}))),(null===(S=m._currentUser)||void 0===S?void 0:S._redirectEventId)===g?m._currentUser:(null===(G=m.redirectUser)||void 0===G?void 0:G._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,b.Z)(function*(){if(g===m.currentUser)return m.queue((0,b.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,S,G){if(this._deleted)return()=>{};const le="function"==typeof m?m:m.next.bind(m),Le=this._isInitialized?Promise.resolve():this._initializationPromise;return $e(Le,this,"internal-error"),Le.then(()=>le(this.currentUser)),"function"==typeof m?g.addObserver(m,S,G):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,b.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Vt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function yn(C){return(0,se.m9)(C)}class zr{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,se.ne)(m=>this.observer=m)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fn(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function Tr(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class Kr{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Nt("not implemented")}_getIdTokenResponse(g){return Nt("not implemented")}_linkToIdToken(g,m){return Nt("not implemented")}_getReauthenticationResolver(g){return Nt("not implemented")}}function bn(C,g){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,b.Z)(function*(C,g){return sn(C,"POST","/v1/accounts:resetPassword",En(C,g))})).apply(this,arguments)}function ei(C,g){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,b.Z)(function*(C,g){return sn(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function hs(C,g){return jr.apply(this,arguments)}function jr(){return(jr=(0,b.Z)(function*(C,g){return sn(C,"POST","/v1/accounts:update",En(C,g))})).apply(this,arguments)}function Bi(){return(Bi=(0,b.Z)(function*(C,g){return dn(C,"POST","/v1/accounts:signInWithPassword",En(C,g))})).apply(this,arguments)}function Hr(C,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,b.Z)(function*(C,g){return sn(C,"POST","/v1/accounts:sendOobCode",En(C,g))})).apply(this,arguments)}function fs(C,g){return ps.apply(this,arguments)}function ps(){return(ps=(0,b.Z)(function*(C,g){return Hr(C,g)})).apply(this,arguments)}function gs(C,g){return to.apply(this,arguments)}function to(){return(to=(0,b.Z)(function*(C,g){return Hr(C,g)})).apply(this,arguments)}function li(C,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,b.Z)(function*(C,g){return Hr(C,g)})).apply(this,arguments)}function ci(C,g){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,b.Z)(function*(C,g){return Hr(C,g)})).apply(this,arguments)}function Oi(){return(Oi=(0,b.Z)(function*(C,g){return dn(C,"POST","/v1/accounts:signInWithEmailLink",En(C,g))})).apply(this,arguments)}function jn(){return(jn=(0,b.Z)(function*(C,g){return dn(C,"POST","/v1/accounts:signInWithEmailLink",En(C,g))})).apply(this,arguments)}class mi extends Kr{constructor(g,m,S,G=null){super("password",S),this._email=g,this._password=m,this._tenantId=G}static _fromEmailAndPassword(g,m){return new mi(g,m,"password")}static _fromEmailAndCode(g,m,S=null){return new mi(g,m,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,b.Z)(function*(){switch(m.signInMethod){case"password":return function(C,g){return Bi.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(C,g){return Oi.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:_t(g,"internal-error")}})()}_linkToIdToken(g,m){var S=this;return(0,b.Z)(function*(){switch(S.signInMethod){case"password":return ei(g,{idToken:m,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function(C,g){return jn.apply(this,arguments)}(g,{idToken:m,email:S._email,oobCode:S._password});default:_t(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function yi(C,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,b.Z)(function*(C,g){return dn(C,"POST","/v1/accounts:signInWithIdp",En(C,g))})).apply(this,arguments)}class _i extends Kr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new _i(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):_t("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:G}=m,le=(0,ge._T)(m,["providerId","signInMethod"]);if(!S||!G)return null;const Le=new _i(S,G);return Object.assign(Le,le),Le}_getIdTokenResponse(g){return yi(g,this.buildRequest())}_linkToIdToken(g,m){const S=this.buildRequest();return S.idToken=m,yi(g,S)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,yi(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,se.xO)(m)}return g}}function ms(C,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,b.Z)(function*(C,g){return sn(C,"POST","/v1/accounts:sendVerificationCode",En(C,g))})).apply(this,arguments)}function Lr(){return(Lr=(0,b.Z)(function*(C,g){return dn(C,"POST","/v1/accounts:signInWithPhoneNumber",En(C,g))})).apply(this,arguments)}function js(){return(js=(0,b.Z)(function*(C,g){const m=yield dn(C,"POST","/v1/accounts:signInWithPhoneNumber",En(C,g));if(m.temporaryProof)throw Ar(C,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ti={USER_NOT_FOUND:"user-not-found"};function Ms(){return(Ms=(0,b.Z)(function*(C,g){return dn(C,"POST","/v1/accounts:signInWithPhoneNumber",En(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ti)})).apply(this,arguments)}class Ii extends Kr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new Ii({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new Ii({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function(C,g){return Lr.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function(C,g){return js.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(C,g){return Ms.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:S,verificationCode:G}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:S,code:G}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:S,phoneNumber:G,temporaryProof:le}=g;return S||m||G||le?new Ii({verificationId:m,verificationCode:S,phoneNumber:G,temporaryProof:le}):null}}class Mi{constructor(g){var m,S,G,le,Le,at;const Pt=(0,se.zd)((0,se.pd)(g)),tn=null!==(m=Pt.apiKey)&&void 0!==m?m:null,un=null!==(S=Pt.oobCode)&&void 0!==S?S:null,Tn=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(G=Pt.mode)&&void 0!==G?G:null);$e(tn&&un&&Tn,"argument-error"),this.apiKey=tn,this.operation=Tn,this.code=un,this.continueUrl=null!==(le=Pt.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(Le=Pt.languageCode)&&void 0!==Le?Le:null,this.tenantId=null!==(at=Pt.tenantId)&&void 0!==at?at:null}static parseLink(g){const m=function(C){const g=(0,se.zd)((0,se.pd)(C)).link,m=g?(0,se.zd)((0,se.pd)(g)).deep_link_id:null,S=(0,se.zd)((0,se.pd)(C)).deep_link_id;return(S?(0,se.zd)((0,se.pd)(S)).link:null)||S||m||g||C}(g);try{return new Mi(m)}catch(S){return null}}}let Hs=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(m,S){return mi._fromEmailAndPassword(m,S)}static credentialWithLink(m,S){const G=Mi.parseLink(S);return $e(G,"argument-error"),mi._fromEmailAndCode(m,G.code,G.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Ri{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class qr extends Ri{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ni extends qr{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return $e("providerId"in m&&"signInMethod"in m,"argument-error"),_i._fromParams(m)}credential(g){return this._credential(g)}_credential(g){return $e(g.idToken||g.accessToken,"argument-error"),_i._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ni.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ni.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:S,oauthTokenSecret:G,pendingToken:le,nonce:Le,providerId:at}=g;if(!S&&!G&&!m&&!le||!at)return null;try{return new ni(at)._credential({idToken:m,accessToken:S,rawNonce:Le,pendingToken:le})}catch(Pt){return null}}}let io=(()=>{class C extends qr{constructor(){super("facebook.com")}static credential(m){return _i._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch(S){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),ys=(()=>{class C extends qr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,S){return _i._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:S})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:S,oauthAccessToken:G}=m;if(!S&&!G)return null;try{return C.credential(S,G)}catch(le){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),$s=(()=>{class C extends qr{constructor(){super("github.com")}static credential(m){return _i._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch(S){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class _s extends Kr{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return yi(g,this.buildRequest())}_linkToIdToken(g,m){const S=this.buildRequest();return S.idToken=m,yi(g,S)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,yi(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:G,pendingToken:le}=m;return S&&G&&le&&S===G?new _s(S,le):null}static _create(g,m){return new _s(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let po=(()=>{class C extends qr{constructor(){super("twitter.com")}static credential(m,S){return _i._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:S})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:S,oauthTokenSecret:G}=m;if(!S||!G)return null;try{return C.credential(S,G)}catch(le){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Hi(C,g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,b.Z)(function*(C,g){return dn(C,"POST","/v1/accounts:signUp",En(C,g))})).apply(this,arguments)}class Di{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,S,G=!1){return(0,b.Z)(function*(){const le=yield At._fromIdTokenResponse(g,S,G),Le=W(S);return new Di({user:le,providerId:Le,_tokenResponse:S,operationType:m})})()}static _forOperation(g,m,S){return(0,b.Z)(function*(){yield g._updateTokensIfNecessary(S,!0);const G=W(S);return new Di({user:g,providerId:G,_tokenResponse:S,operationType:m})})()}}function W(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function L(){return(L=(0,b.Z)(function*(C){var g;const m=yn(C);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new Di({user:m.currentUser,providerId:null,operationType:"signIn"});const S=yield Hi(m,{returnSecureToken:!0}),G=yield Di._fromIdTokenResponse(m,"signIn",S,!0);return yield m._updateCurrentUser(G.user),G})).apply(this,arguments)}class te extends se.ZR{constructor(g,m,S,G){var le;super(m.code,m.message),this.operationType=S,this.user=G,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),this.appName=g.name,this.code=m.code,this.tenantId=null!==(le=g.tenantId)&&void 0!==le?le:void 0,this.serverResponse=m.customData.serverResponse}static _fromErrorAndOperation(g,m,S,G){return new te(g,m,S,G)}}function Xe(C,g,m,S){return("reauthenticate"===g?m._getReauthenticationResolver(C):m._getIdTokenResponse(C)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?te._fromErrorAndOperation(C,le,g,S):le})}function Kt(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function vi(){return(vi=(0,b.Z)(function*(C,g){const m=(0,se.m9)(C);yield V(!0,m,g);const{providerUserInfo:S}=yield yr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),G=Kt(S||[]);return m.providerData=m.providerData.filter(le=>G.has(le.providerId)),G.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function fi(C,g){return zo.apply(this,arguments)}function zo(){return(zo=(0,b.Z)(function*(C,g,m=!1){const S=yield ft(C,g._linkToIdToken(C.auth,yield C.getIdToken()),m);return Di._forOperation(C,"link",S)})).apply(this,arguments)}function V(C,g,m){return ee.apply(this,arguments)}function ee(){return(ee=(0,b.Z)(function*(C,g,m){yield In(g);const G=!1===C?"provider-already-linked":"no-such-provider";$e(Kt(g.providerData).has(m)===C,g.auth,G)})).apply(this,arguments)}function H(C,g){return ie.apply(this,arguments)}function ie(){return(ie=(0,b.Z)(function*(C,g,m=!1){const{auth:S}=C,G="reauthenticate";try{const le=yield ft(C,Xe(S,G,g,C),m);$e(le.idToken,S,"internal-error");const Le=ht(le.idToken);$e(Le,S,"internal-error");const{sub:at}=Le;return $e(C.uid===at,S,"user-mismatch"),Di._forOperation(C,G,le)}catch(le){throw"auth/user-not-found"===(null==le?void 0:le.code)&&_t(S,"user-mismatch"),le}})).apply(this,arguments)}function De(C,g){return tt.apply(this,arguments)}function tt(){return(tt=(0,b.Z)(function*(C,g,m=!1){const S="signIn",G=yield Xe(C,S,g),le=yield Di._fromIdTokenResponse(C,S,G);return m||(yield C._updateCurrentUser(le.user)),le})).apply(this,arguments)}function ct(C,g){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,b.Z)(function*(C,g){return De(yn(C),g)})).apply(this,arguments)}function On(C,g){return mr.apply(this,arguments)}function mr(){return(mr=(0,b.Z)(function*(C,g){const m=(0,se.m9)(C);return yield V(!1,m,g.providerId),fi(m,g)})).apply(this,arguments)}function rr(C,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,b.Z)(function*(C,g){return H((0,se.m9)(C),g)})).apply(this,arguments)}function pr(C,g){return dr.apply(this,arguments)}function dr(){return(dr=(0,b.Z)(function*(C,g){return dn(C,"POST","/v1/accounts:signInWithCustomToken",En(C,g))})).apply(this,arguments)}function Gs(){return(Gs=(0,b.Z)(function*(C,g){const m=yn(C),S=yield pr(m,{token:g,returnSecureToken:!0}),G=yield Di._fromIdTokenResponse(m,"signIn",S);return yield m._updateCurrentUser(G.user),G})).apply(this,arguments)}class sr{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Ns._fromServerResponse(g,m):_t(g,"internal-error")}}class Ns extends sr{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Ns(m)}}function ii(C,g,m){var S;$e((null===(S=m.url)||void 0===S?void 0:S.length)>0,C,"invalid-continue-uri"),$e(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&($e(m.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iosBundleId=m.iOS.bundleId),m.android&&($e(m.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Fo(){return(Fo=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C),G={requestType:"PASSWORD_RESET",email:g};m&&ii(S,G,m),yield gs(S,G)})).apply(this,arguments)}function go(){return(go=(0,b.Z)(function*(C,g,m){yield bn((0,se.m9)(C),{oobCode:g,newPassword:m})})).apply(this,arguments)}function da(){return(da=(0,b.Z)(function*(C,g){yield hs((0,se.m9)(C),{oobCode:g})})).apply(this,arguments)}function Ka(C,g){return ha.apply(this,arguments)}function ha(){return(ha=(0,b.Z)(function*(C,g){const m=(0,se.m9)(C),S=yield bn(m,{oobCode:g}),G=S.requestType;switch($e(G,m,"internal-error"),G){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":$e(S.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":$e(S.mfaInfo,m,"internal-error");default:$e(S.email,m,"internal-error")}let le=null;return S.mfaInfo&&(le=sr._fromServerResponse(yn(m),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:le},operation:G}})).apply(this,arguments)}function Qn(){return(Qn=(0,b.Z)(function*(C,g){const{data:m}=yield Ka((0,se.m9)(C),g);return m.email})).apply(this,arguments)}function kr(){return(kr=(0,b.Z)(function*(C,g,m){const S=yn(C),G=yield Hi(S,{returnSecureToken:!0,email:g,password:m}),le=yield Di._fromIdTokenResponse(S,"signIn",G);return yield S._updateCurrentUser(le.user),le})).apply(this,arguments)}function is(){return(is=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C),G={requestType:"EMAIL_SIGNIN",email:g};$e(m.handleCodeInApp,S,"argument-error"),m&&ii(S,G,m),yield li(S,G)})).apply(this,arguments)}function ao(){return(ao=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C),G=Hs.credentialWithLink(g,m||Ze());return $e(G._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),ct(S,G)})).apply(this,arguments)}function Sa(C,g){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,b.Z)(function*(C,g){return sn(C,"POST","/v1/accounts:createAuthUri",En(C,g))})).apply(this,arguments)}function si(){return(si=(0,b.Z)(function*(C,g){const S={identifier:g,continueUri:Ne()?Ze():"http://localhost"},{signinMethods:G}=yield Sa((0,se.m9)(C),S);return G||[]})).apply(this,arguments)}function fa(){return(fa=(0,b.Z)(function*(C,g){const m=(0,se.m9)(C),G={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&ii(m.auth,G,g);const{email:le}=yield fs(m.auth,G);le!==C.email&&(yield C.reload())})).apply(this,arguments)}function $i(){return($i=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C),le={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};m&&ii(S.auth,le,m);const{email:Le}=yield ci(S.auth,le);Le!==C.email&&(yield C.reload())})).apply(this,arguments)}function Aa(C,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,b.Z)(function*(C,g){return sn(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ko(){return(Ko=(0,b.Z)(function*(C,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const S=(0,se.m9)(C),le={idToken:yield S.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},Le=yield ft(S,Aa(S.auth,le));S.displayName=Le.displayName||null,S.photoURL=Le.photoUrl||null;const at=S.providerData.find(({providerId:Pt})=>"password"===Pt);at&&(at.displayName=S.displayName,at.photoURL=S.photoURL),yield S._updateTokensIfNecessary(Le)})).apply(this,arguments)}function xa(C,g,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,b.Z)(function*(C,g,m){const{auth:S}=C,le={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(le.email=g),m&&(le.password=m);const Le=yield ft(C,ei(S,le));yield C._updateTokensIfNecessary(Le,!0)})).apply(this,arguments)}class zs{constructor(g,m,S={}){this.isNewUser=g,this.providerId=m,this.profile=S}}class yo extends zs{constructor(g,m,S,G){super(g,m,S),this.username=G}}class Za extends zs{constructor(g,m){super(g,"facebook.com",m)}}class lo extends yo{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Ti extends zs{constructor(g,m){super(g,"google.com",m)}}class lu extends yo{constructor(g,m,S){super(g,"twitter.com",m,S)}}function Ls(C){const{user:g,_tokenResponse:m}=C;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(C){var g,m;if(!C)return null;const{providerId:S}=C,G=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},le=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!S&&(null==C?void 0:C.idToken)){const Le=null===(m=null===(g=ht(C.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(Le)return new zs(le,"anonymous"!==Le&&"custom"!==Le?Le:null)}if(!S)return null;switch(S){case"facebook.com":return new Za(le,G);case"github.com":return new lo(le,G);case"google.com":return new Ti(le,G);case"twitter.com":return new lu(le,G,C.screenName||null);case"custom":case"anonymous":return new zs(le,null);default:return new zs(le,S,G)}}(m)}class vo{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new vo("enroll",g)}static _fromMfaPendingCredential(g){return new vo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,S;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return vo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(S=g.multiFactorSession)||void 0===S?void 0:S.idToken)return vo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Eo{constructor(g,m,S){this.session=g,this.hints=m,this.signInResolver=S}static _fromError(g,m){const S=yn(g),G=(m.serverResponse.mfaInfo||[]).map(Le=>sr._fromServerResponse(S,Le));$e(m.serverResponse.mfaPendingCredential,S,"internal-error");const le=vo._fromMfaPendingCredential(m.serverResponse.mfaPendingCredential);return new Eo(le,G,function(){var Le=(0,b.Z)(function*(at){const Pt=yield at._process(S,le);delete m.serverResponse.mfaInfo,delete m.serverResponse.mfaPendingCredential;const tn=Object.assign(Object.assign({},m.serverResponse),{idToken:Pt.idToken,refreshToken:Pt.refreshToken});switch(m.operationType){case"signIn":const un=yield Di._fromIdTokenResponse(S,m.operationType,tn);return yield S._updateCurrentUser(un.user),un;case"reauthenticate":return $e(m.user,S,"internal-error"),Di._forOperation(m.user,m.operationType,tn);default:_t(S,"internal-error")}});return function(at){return Le.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,b.Z)(function*(){return m.signInResolver(g)})()}}function ko(C,g){return sn(C,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:C.tenantId},g))}class Vo{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(S=>sr._fromServerResponse(g.auth,S)))})}static _fromUser(g){return new Vo(g)}getSession(){var g=this;return(0,b.Z)(function*(){return vo._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var S=this;return(0,b.Z)(function*(){const G=g,le=yield S.getSession(),Le=yield ft(S.user,G._process(S.user.auth,le,m));return yield S.user._updateTokensIfNecessary(Le),S.user.reload()})()}unenroll(g){var m=this;return(0,b.Z)(function*(){const S="string"==typeof g?g:g.uid,G=yield m.user.getIdToken(),le=yield ft(m.user,function(C,g){return sn(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:C.tenantId},g))}(m.user.auth,{idToken:G,mfaEnrollmentId:S}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Le})=>Le!==S),yield m.user._updateTokensIfNecessary(le);try{yield m.user.reload()}catch(Le){if("auth/user-token-expired"!==Le.code)throw Le}})()}}const Uo=new WeakMap,os="__sak";class bs{constructor(g,m){this.storage=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(os,"1"),this.storage.removeItem(os),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}}const Be=(()=>{class C extends bs{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,se.z$)();return Qe(C)||Yt(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=wi(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(m){for(const S of Object.keys(this.listeners)){const G=this.storage.getItem(S),le=this.localCache[S];G!==le&&m(S,le,G)}}onStorageEvent(m,S=!1){if(!m.key)return void this.forAllChangedKeys((at,Pt,tn)=>{this.notifyListeners(at,tn)});const G=m.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const at=this.storage.getItem(G);if(m.newValue!==at)null!==m.newValue?this.storage.setItem(G,m.newValue):this.storage.removeItem(G);else if(this.localCache[G]===m.newValue&&!S)return}const le=()=>{const at=this.storage.getItem(G);!S&&this.localCache[G]===at||this.notifyListeners(G,at)},Le=this.storage.getItem(G);(0,se.w1)()&&10===document.documentMode&&Le!==m.newValue&&m.newValue!==m.oldValue?setTimeout(le,10):le()}notifyListeners(m,S){this.localCache[m]=S;const G=this.listeners[m];if(G)for(const le of Array.from(G))le(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,S,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:S,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(S)}_removeListener(m,S){this.listeners[m]&&(this.listeners[m].delete(S),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,S){var G=()=>super._set,le=this;return(0,b.Z)(function*(){yield G().call(le,m,S),le.localCache[m]=JSON.stringify(S)})()}_get(m){var S=()=>super._get,G=this;return(0,b.Z)(function*(){const le=yield S().call(G,m);return G.localCache[m]=JSON.stringify(le),le})()}_remove(m){var S=()=>super._remove,G=this;return(0,b.Z)(function*(){yield S().call(G,m),delete G.localCache[m]})()}}return C.type="LOCAL",C})(),en=(()=>{class C extends bs{constructor(){super(window.sessionStorage,"SESSION")}_addListener(m,S){}_removeListener(m,S){}}return C.type="SESSION",C})();let Ur=(()=>{class C{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const S=this.receivers.find(le=>le.isListeningto(m));if(S)return S;const G=new C(m);return this.receivers.push(G),G}isListeningto(m){return this.eventTarget===m}handleEvent(m){var S=this;return(0,b.Z)(function*(){const G=m,{eventId:le,eventType:Le,data:at}=G.data,Pt=S.handlersMap[Le];if(!(null==Pt?void 0:Pt.size))return;G.ports[0].postMessage({status:"ack",eventId:le,eventType:Le});const tn=Array.from(Pt).map(function(){var Tn=(0,b.Z)(function*(ns){return ns(G.origin,at)});return function(ns){return Tn.apply(this,arguments)}}()),un=yield function(C){return Promise.all(C.map(function(){var g=(0,b.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(S){return{fulfilled:!1,reason:S}}});return function(m){return g.apply(this,arguments)}}()))}(tn);G.ports[0].postMessage({status:"done",eventId:le,eventType:Le,response:un})})()}_subscribe(m,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(S)}_unsubscribe(m,S){this.handlersMap[m]&&S&&this.handlersMap[m].delete(S),(!S||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function ws(C="",g=10){let m="";for(let S=0;S<g;S++)m+=Math.floor(10*Math.random());return C+m}class Bo{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,S=50){var G=this;return(0,b.Z)(function*(){const le="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let Le,at;return new Promise((Pt,tn)=>{const un=ws("",20);le.port1.start();const Tn=setTimeout(()=>{tn(new Error("unsupported_event"))},S);at={messageChannel:le,onMessage(ns){const na=ns;if(na.data.eventId===un)switch(na.data.status){case"ack":clearTimeout(Tn),Le=setTimeout(()=>{tn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Le),Pt(na.data.response);break;default:clearTimeout(Tn),clearTimeout(Le),tn(new Error("invalid_response"))}}},G.handlers.add(at),le.port1.addEventListener("message",at.onMessage),G.target.postMessage({eventType:g,eventId:un,data:m},[le.port2])}).finally(()=>{at&&G.removeMessageHandler(at)})})()}}function Sr(){return window}function N(){return void 0!==Sr().WorkerGlobalScope&&"function"==typeof Sr().importScripts}function D(){return(D=(0,b.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const ne="firebaseLocalStorageDb",Oe="firebaseLocalStorage",lt="fbase_key";class Ut{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function on(C,g){return C.transaction([Oe],g?"readwrite":"readonly").objectStore(Oe)}function yt(){const C=indexedDB.open(ne,1);return new Promise((g,m)=>{C.addEventListener("error",()=>{m(C.error)}),C.addEventListener("upgradeneeded",()=>{const S=C.result;try{S.createObjectStore(Oe,{keyPath:lt})}catch(G){m(G)}}),C.addEventListener("success",(0,b.Z)(function*(){const S=C.result;S.objectStoreNames.contains(Oe)?g(S):(S.close(),yield function(){const C=indexedDB.deleteDatabase(ne);return new Ut(C).toPromise()}(),g(yield yt()))}))})}function ln(C,g,m){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,b.Z)(function*(C,g,m){const S=on(C,!0).put({[lt]:g,value:m});return new Ut(S).toPromise()})).apply(this,arguments)}function qt(){return(qt=(0,b.Z)(function*(C,g){const m=on(C,!1).get(g),S=yield new Ut(m).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function cn(C,g){const m=on(C,!0).delete(g);return new Ut(m).toPromise()}const Dt=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,b.Z)(function*(){return m.db||(m.db=yield yt()),m.db})()}_withRetries(m){var S=this;return(0,b.Z)(function*(){let G=0;for(;;)try{const le=yield S._openDb();return yield m(le)}catch(le){if(G++>3)throw le;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,b.Z)(function*(){return N()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,b.Z)(function*(){m.receiver=Ur._getInstance(N()?self:null),m.receiver._subscribe("keyChanged",function(){var S=(0,b.Z)(function*(G,le){return{keyProcessed:(yield m._poll()).includes(le.key)}});return function(G,le){return S.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var S=(0,b.Z)(function*(G,le){return["keyChanged"]});return function(G,le){return S.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,b.Z)(function*(){var S,G;if(m.activeServiceWorker=yield function(){return D.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Bo(m.activeServiceWorker);const le=yield m.sender._send("ping",{},800);!le||(null===(S=le[0])||void 0===S?void 0:S.fulfilled)&&(null===(G=le[0])||void 0===G?void 0:G.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var S=this;return(0,b.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:m},S.serviceWorkerReceiverAvailable?800:50)}catch(G){}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const m=yield yt();return yield ln(m,os,"1"),yield cn(m,os),!0}catch(m){}return!1})()}_withPendingWrite(m){var S=this;return(0,b.Z)(function*(){S.pendingWrites++;try{yield m()}finally{S.pendingWrites--}})()}_set(m,S){var G=this;return(0,b.Z)(function*(){return G._withPendingWrite((0,b.Z)(function*(){return yield G._withRetries(le=>ln(le,m,S)),G.localCache[m]=S,G.notifyServiceWorker(m)}))})()}_get(m){var S=this;return(0,b.Z)(function*(){const G=yield S._withRetries(le=>function(C,g){return qt.apply(this,arguments)}(le,m));return S.localCache[m]=G,G})()}_remove(m){var S=this;return(0,b.Z)(function*(){return S._withPendingWrite((0,b.Z)(function*(){return yield S._withRetries(G=>cn(G,m)),delete S.localCache[m],S.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,b.Z)(function*(){const S=yield m._withRetries(Le=>{const at=on(Le,!1).getAll();return new Ut(at).toPromise()});if(!S)return[];if(0!==m.pendingWrites)return[];const G=[],le=new Set;for(const{fbase_key:Le,value:at}of S)le.add(Le),JSON.stringify(m.localCache[Le])!==JSON.stringify(at)&&(m.notifyListeners(Le,at),G.push(Le));for(const Le of Object.keys(m.localCache))m.localCache[Le]&&!le.has(Le)&&(m.notifyListeners(Le,null),G.push(Le));return G})()}notifyListeners(m,S){this.localCache[m]=S;const G=this.listeners[m];if(G)for(const le of Array.from(G))le(S)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(S)}_removeListener(m,S){this.listeners[m]&&(this.listeners[m].delete(S),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Xi(C,g){return sn(C,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:C.tenantId},g))}function ol(){return(ol=(0,b.Z)(function*(C){return(yield sn(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Bu(C){return new Promise((g,m)=>{const S=document.createElement("script");S.setAttribute("src",C),S.onload=g,S.onerror=G=>{const le=Ge("internal-error");le.customData=G,m(le)},S.type="text/javascript",S.charset="UTF-8",function(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(S)})}function Ja(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Na=1e12;class Xn{constructor(g){this.auth=g,this.counter=Na,this._widgets=new Map}render(g,m){const S=this.counter;return this._widgets.set(S,new jo(g,this.auth.name,m||{})),this.counter++,S}reset(g){var m;const S=g||Na;null===(m=this._widgets.get(S))||void 0===m||m.delete(),this._widgets.delete(S)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Na))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,b.Z)(function*(){var S;return null===(S=m._widgets.get(g||Na))||void 0===S||S.execute(),""})()}}class jo{constructor(g,m,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const G="string"==typeof g?document.getElementById(g):g;$e(G,"argument-error",{appName:m}),this.container=G,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<50;S++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}();const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qr=Ja("rcb"),zn=new Ht(3e4,6e4);class du{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Sr().grecaptcha}load(g,m=""){return $e((C=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Sr().grecaptcha):new Promise((S,G)=>{const le=Sr().setTimeout(()=>{G(Ge(g,"network-request-failed"))},zn.get());Sr()[Qr]=()=>{Sr().clearTimeout(le),delete Sr()[Qr];const at=Sr().grecaptcha;if(!at)return void G(Ge(g,"internal-error"));const Pt=at.render;at.render=(tn,un)=>{const Tn=Pt(tn,un);return this.counter++,Tn},this.hostLanguage=m,S(at)},Bu(`https://www.google.com/recaptcha/api.js??${(0,se.xO)({onload:Qr,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(le),G(Ge(g,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Sr().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class al{load(g){return(0,b.Z)(function*(){return new Xn(g)})()}clearedOneInstance(){}}const wr="recaptcha",ud={theme:"light",type:"image"};class lr{constructor(g,m=Object.assign({},ud),S){this.parameters=m,this.type=wr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(S),this.isInvisible="invisible"===this.parameters.size,$e("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const G="string"==typeof g?document.getElementById(g):g;$e(G,this.auth,"argument-error"),this.container=G,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new al:new du,this.validateStartingState()}verify(){var g=this;return(0,b.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),S=g.getAssertedRecaptcha();return S.getResponse(m)||new Promise(le=>{const Le=at=>{!at||(g.tokenChangeListeners.delete(Le),le(at))};g.tokenChangeListeners.add(Le),g.isInvisible&&S.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){$e(!this.parameters.sitekey,this.auth,"argument-error"),$e(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$e("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(S=>S(m)),"function"==typeof g)g(m);else if("string"==typeof g){const S=Sr()[g];"function"==typeof S&&S(m)}}}assertNotDestroyed(){$e(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,b.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const S=document.createElement("div");m.appendChild(S),m=S}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,b.Z)(function*(){$e(Ne()&&!N(),g.auth,"internal-error"),yield function(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function(C){return ol.apply(this,arguments)}(g.auth);$e(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return $e(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ul{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=Ii._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Cc(){return(Cc=(0,b.Z)(function*(C,g,m){const S=yn(C),G=yield ju(S,g,(0,se.m9)(m));return new ul(G,le=>ct(S,le))})).apply(this,arguments)}function oi(){return(oi=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C);yield V(!1,S,"phone");const G=yield ju(S.auth,g,(0,se.m9)(m));return new ul(G,le=>On(S,le))})).apply(this,arguments)}function ll(){return(ll=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C),G=yield ju(S.auth,g,(0,se.m9)(m));return new ul(G,le=>rr(S,le))})).apply(this,arguments)}function ju(C,g,m){return fu.apply(this,arguments)}function fu(){return(fu=(0,b.Z)(function*(C,g,m){var S;const G=yield m.verify();try{let le;if($e("string"==typeof G,C,"argument-error"),$e(m.type===wr,C,"argument-error"),le="string"==typeof g?{phoneNumber:g}:g,"session"in le){const Le=le.session;if("phoneNumber"in le)return $e("enroll"===Le.type,C,"internal-error"),(yield ko(C,{idToken:Le.credential,phoneEnrollmentInfo:{phoneNumber:le.phoneNumber,recaptchaToken:G}})).phoneSessionInfo.sessionInfo;{$e("signin"===Le.type,C,"internal-error");const at=(null===(S=le.multiFactorHint)||void 0===S?void 0:S.uid)||le.multiFactorUid;return $e(at,C,"missing-multi-factor-info"),(yield Xi(C,{mfaPendingCredential:Le.credential,mfaEnrollmentId:at,phoneSignInInfo:{recaptchaToken:G}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Le}=yield ms(C,{phoneNumber:le.phoneNumber,recaptchaToken:G});return Le}}finally{m._reset()}})).apply(this,arguments)}function Qo(){return(Qo=(0,b.Z)(function*(C,g){yield fi((0,se.m9)(C),g)})).apply(this,arguments)}let Hu=(()=>{class C{constructor(m){this.providerId=C.PROVIDER_ID,this.auth=yn(m)}verifyPhoneNumber(m,S){return ju(this.auth,m,(0,se.m9)(S))}static credential(m,S){return Ii._fromVerification(m,S)}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:S,temporaryProof:G}=m;return S&&G?Ii._fromTokenResponse(S,G):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Ft(C,g){return g?He(g):($e(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class bo extends Kr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return yi(g,this._buildIdpRequest())}_linkToIdToken(g,m){return yi(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return yi(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function co(C){return De(C.auth,new bo(C),C.bypassAuthState)}function $u(C){const{auth:g,user:m}=C;return $e(m,g,"internal-error"),H(m,new bo(C),C.bypassAuthState)}function eu(C){return Is.apply(this,arguments)}function Is(){return(Is=(0,b.Z)(function*(C){const{auth:g,user:m}=C;return $e(m,g,"internal-error"),fi(m,new bo(C),C.bypassAuthState)})).apply(this,arguments)}class Zs{constructor(g,m,S,G,le=!1){this.auth=g,this.resolver=S,this.user=G,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,b.Z)(function*(S,G){g.pendingPromise={resolve:S,reject:G};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(le){g.reject(le)}});return function(S,G){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,b.Z)(function*(){const{urlResponse:S,sessionId:G,postBody:le,tenantId:Le,error:at,type:Pt}=g;if(at)return void m.reject(at);const tn={auth:m.auth,requestUri:S,sessionId:G,tenantId:Le||void 0,postBody:le||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Pt)(tn))}catch(un){m.reject(un)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return co;case"linkViaPopup":case"linkViaRedirect":return eu;case"reauthViaPopup":case"reauthViaRedirect":return $u;default:_t(this.auth,"internal-error")}}resolve(g){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gu=new Ht(2e3,1e4);function wo(){return(wo=(0,b.Z)(function*(C,g,m){const S=yn(C);$e(g instanceof Ri,C,"argument-error");const G=Ft(S,m);return new T(S,"signInViaPopup",g,G).executeNotNull()})).apply(this,arguments)}function R(){return(R=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C);$e(g instanceof Ri,S.auth,"argument-error");const G=Ft(S.auth,m);return new T(S.auth,"reauthViaPopup",g,G,S).executeNotNull()})).apply(this,arguments)}function _(){return(_=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C);$e(g instanceof Ri,S.auth,"argument-error");const G=Ft(S.auth,m);return new T(S.auth,"linkViaPopup",g,G,S).executeNotNull()})).apply(this,arguments)}let T=(()=>{class C extends Zs{constructor(m,S,G,le,Le){super(m,S,le,Le),this.provider=G,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var m=this;return(0,b.Z)(function*(){const S=yield m.execute();return $e(S,m.auth,"internal-error"),S})()}onExecution(){var m=this;return(0,b.Z)(function*(){St(1===m.filter.length,"Popup operations only handle one event");const S=ws();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],S),m.authWindow.associatedEvent=S,m.resolver._originValidation(m.auth).catch(G=>{m.reject(G)}),m.resolver._isIframeWebStorageSupported(m.auth,G=>{G||m.reject(Ge(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const m=()=>{var S,G;this.pollId=(null===(G=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===G?void 0:G.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,gu.get())};m()}}return C.currentPopupAction=null,C})();const J=new Map;class me extends Zs{constructor(g,m,S=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,S),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,b.Z)(function*(){let S=J.get(m.auth._key());if(!S){try{const le=(yield function(C,g){return je.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;S=()=>Promise.resolve(le)}catch(G){S=()=>Promise.reject(G)}J.set(m.auth._key(),S)}return S()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,S=this;return(0,b.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(S,g);if("unknown"!==g.type){if(g.eventId){const G=yield S.auth._redirectUserForId(g.eventId);if(G)return S.user=G,m().call(S,g);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function je(){return(je=(0,b.Z)(function*(C,g){const m=Mn(g),S="true"===(yield Ln(C)._get(m));return yield Ln(C)._remove(m),S})).apply(this,arguments)}function ut(C,g){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,b.Z)(function*(C,g){return Ln(C)._set(Mn(g),"true")})).apply(this,arguments)}function Ln(C){return He(C._redirectPersistence)}function Mn(C){return hn("pendingRedirect",C.config.apiKey,C.name)}function or(){return(or=(0,b.Z)(function*(C,g,m){const S=yn(C);$e(g instanceof Ri,C,"argument-error");const G=Ft(S,m);return yield ut(G,S),G._openRedirect(S,g,"signInViaRedirect")})).apply(this,arguments)}function Ai(){return(Ai=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C);$e(g instanceof Ri,S.auth,"argument-error");const G=Ft(S.auth,m);yield ut(G,S.auth);const le=yield mu(S);return G._openRedirect(S.auth,g,"reauthViaRedirect",le)})).apply(this,arguments)}function Co(){return(Co=(0,b.Z)(function*(C,g,m){const S=(0,se.m9)(C);$e(g instanceof Ri,S.auth,"argument-error");const G=Ft(S.auth,m);yield V(!1,S,g.providerId),yield ut(G,S.auth);const le=yield mu(S);return G._openRedirect(S.auth,g,"linkViaRedirect",le)})).apply(this,arguments)}function Ys(){return(Ys=(0,b.Z)(function*(C,g){return yield yn(C)._initializationPromise,Ki(C,g,!1)})).apply(this,arguments)}function Ki(C,g){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,b.Z)(function*(C,g,m=!1){const S=yn(C),G=Ft(S,g),Le=yield new me(S,G,m).execute();return Le&&!m&&(delete Le.user._redirectEventId,yield S._persistUserIfCurrent(Le.user),yield S._setRedirectUser(null,g)),Le})).apply(this,arguments)}function mu(C){return Io.apply(this,arguments)}function Io(){return(Io=(0,b.Z)(function*(C){const g=ws(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class cl{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(g,S)&&(m=!0,this.sendToConsumer(g,S),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jt(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var S;if(g.error&&!Jt(g)){const G=(null===(S=g.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";m.onError(Ge(this.auth,G))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const S=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&S}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Br(g))}saveEventToCache(g){this.cachedEventUids.add(Br(g)),this.lastProcessedEventTime=Date.now()}}function Br(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function Jt({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===(null==g?void 0:g.code)}function _n(C){return er.apply(this,arguments)}function er(){return(er=(0,b.Z)(function*(C,g={}){return sn(C,"GET","/v1/projects",g)})).apply(this,arguments)}const Pi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ds=/^https?/;function Xo(){return(Xo=(0,b.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield _n(C);for(const m of g)try{if(Or(m))return}catch(S){}_t(C,"unauthorized-domain")})).apply(this,arguments)}function Or(C){const g=Ze(),{protocol:m,hostname:S}=new URL(g);if(C.startsWith("chrome-extension://")){const Le=new URL(C);return""===Le.hostname&&""===S?"chrome-extension:"===m&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&Le.hostname===S}if(!Ds.test(m))return!1;if(Pi.test(C))return S===C;const G=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(S)}const ea=new Ht(3e4,6e4);function Ts(){const C=Sr().___jsl;if(null==C?void 0:C.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let m=0;m<C.CP.length;m++)C.CP[m]=null}let ka=null;function Va(C){return ka=ka||function(C){return new Promise((g,m)=>{var S,G,le;function Le(){Ts(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Ts(),m(Ge(C,"network-request-failed"))},timeout:ea.get()})}if(null===(G=null===(S=Sr().gapi)||void 0===S?void 0:S.iframes)||void 0===G?void 0:G.Iframe)g(gapi.iframes.getContext());else{if(!(null===(le=Sr().gapi)||void 0===le?void 0:le.load)){const at=Ja("iframefcb");return Sr()[at]=()=>{gapi.load?Le():m(Ge(C,"network-request-failed"))},Bu(`https://apis.google.com/js/api.js?onload=${at}`)}Le()}}).catch(g=>{throw ka=null,g})}(C),ka}const yu=new Ht(5e3,15e3),Ic={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},$f=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dl(C){const g=C.config;$e(g.authDomain,C,"auth-domain-config-required");const m=g.emulator?Xt(g,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,S={apiKey:g.apiKey,appName:C.name,v:oe.SDK_VERSION},G=$f.get(C.config.apiHost);G&&(S.eid=G);const le=C._getFrameworks();return le.length&&(S.fw=le.join(",")),`${m}?${(0,se.xO)(S).slice(1)}`}function _u(){return(_u=(0,b.Z)(function*(C){const g=yield Va(C),m=Sr().gapi;return $e(m,C,"internal-error"),g.open({where:document.body,url:dl(C),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ic,dontclear:!0},S=>new Promise(function(){var G=(0,b.Z)(function*(le,Le){yield S.restyle({setHideOnLeave:!1});const at=Ge(C,"network-request-failed"),Pt=Sr().setTimeout(()=>{Le(at)},yu.get());function tn(){Sr().clearTimeout(Pt),le(S)}S.ping(tn).then(tn,()=>{Le(at)})});return function(le,Le){return G.apply(this,arguments)}}()))})).apply(this,arguments)}const fl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dd{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Fi(C,g,m,S,G,le){$e(C.config.authDomain,C,"auth-domain-config-required"),$e(C.config.apiKey,C,"invalid-api-key");const Le={apiKey:C.config.apiKey,appName:C.name,authType:m,redirectUrl:S,v:oe.SDK_VERSION,eventId:G};if(g instanceof Ri){g.setDefaultLanguage(C.languageCode),Le.providerId=g.providerId||"",(0,se.xb)(g.getCustomParameters())||(Le.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Pt,tn]of Object.entries(le||{}))Le[Pt]=tn}if(g instanceof qr){const Pt=g.getScopes().filter(tn=>""!==tn);Pt.length>0&&(Le.scopes=Pt.join(","))}C.tenantId&&(Le.tid=C.tenantId);const at=Le;for(const Pt of Object.keys(at))void 0===at[Pt]&&delete at[Pt];return`${function({config:C}){return C.emulator?Xt(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,se.xO)(at).slice(1)}`}const jl="webStorageSupport";class Hl extends class{constructor(g){this.factorId=g}_process(g,m,S){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,S);case"signin":return this._finalizeSignIn(g,m.credential);default:return Nt("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Hl(g)}_finalizeEnroll(g,m,S){return function(C,g){return sn(C,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:C.tenantId},g))}(g,{idToken:m,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function(C,g){return sn(C,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:C.tenantId},g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class fd{constructor(){}static assertion(g){return Hl._fromCredential(g)}}var C;class fh{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,b.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(S=>{var G;g((null===(G=S)||void 0===G?void 0:G.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ks(){return window}function _r(){return(_r=(0,b.Z)(function*(C,g,m){var S;const{BuildInfo:G}=ks();St(g.sessionId,"AuthEvent did not contain a session ID");const le=yield yh(g.sessionId),Le={};return Yt()?Le.ibi=G.packageName:wt()?Le.apn=G.packageName:_t(C,"operation-not-supported-in-this-environment"),G.displayName&&(Le.appDisplayName=G.displayName),Le.sessionId=le,Fi(C,m,g.type,void 0,null!==(S=g.eventId)&&void 0!==S?S:void 0,Le)})).apply(this,arguments)}function Ac(){return(Ac=(0,b.Z)(function*(C){const{BuildInfo:g}=ks(),m={};Yt()?m.iosBundleId=g.packageName:wt()?m.androidPackageName=g.packageName:_t(C,"operation-not-supported-in-this-environment"),yield _n(C,m)})).apply(this,arguments)}function es(){return(es=(0,b.Z)(function*(C,g,m){const{cordova:S}=ks();let G=()=>{};try{yield new Promise((le,Le)=>{let at=null;function Pt(){var Tn;le();const ns=null===(Tn=S.plugins.browsertab)||void 0===Tn?void 0:Tn.close;"function"==typeof ns&&ns(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function tn(){at||(at=window.setTimeout(()=>{Le(Ge(C,"redirect-cancelled-by-user"))},2e3))}function un(){"visible"===(null==document?void 0:document.visibilityState)&&tn()}g.addPassiveListener(Pt),document.addEventListener("resume",tn,!1),wt()&&document.addEventListener("visibilitychange",un,!1),G=()=>{g.removePassiveListener(Pt),document.removeEventListener("resume",tn,!1),document.removeEventListener("visibilitychange",un,!1),at&&window.clearTimeout(at)}})}finally{G()}})).apply(this,arguments)}function yh(C){return pd.apply(this,arguments)}function pd(){return(pd=(0,b.Z)(function*(C){const g=ta(C),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(G=>G.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ta(C){if(St(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const g=new ArrayBuffer(C.length),m=new Uint8Array(g);for(let S=0;S<C.length;S++)m[S]=C.charCodeAt(S);return m}C="Browser",(0,oe._registerComponent)(new he.wA("auth",(g,{options:m})=>{const S=g.getProvider("app").getImmediate(),{apiKey:G,authDomain:le}=S.options;return(Le=>{$e(G&&!G.includes(":"),"invalid-api-key",{appName:Le.name}),$e(!(null==le?void 0:le.includes(":")),"argument-error",{appName:Le.name});const at={apiKey:G,authDomain:le,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vt(C)},Pt=new Pn(Le,at);return function(C,g){const m=(null==g?void 0:g.persistence)||[],S=(Array.isArray(m)?m:[m]).map(He);(null==g?void 0:g.errorMap)&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(S,null==g?void 0:g.popupRedirectResolver)}(Pt,m),Pt})(S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,S)=>{g.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new he.wA("auth-internal",g=>{const m=yn(g.getProvider("auth").getImmediate());return new fh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)("@firebase/auth","0.17.0",void 0);class gd extends cl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,b.Z)(function*(){yield g.initPromise})()}}function va(C){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,b.Z)(function*(C){const g=yield bu()._get(_l(C));return g&&(yield bu()._remove(_l(C))),g})).apply(this,arguments)}function Wl(){const C=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const S=Math.floor(Math.random()*g.length);C.push(g.charAt(S))}return C.join("")}function bu(){return He(Be)}function _l(C){return hn("authEvent",C.config.apiKey,C.name)}function Gu(C){if(!(null==C?void 0:C.includes("?")))return{};const[g,...m]=C.split("?");return(0,se.zd)(m.join("?"))}function vh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ge("no-auth-event")}}function zl(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function ki(C=(0,se.z$)()){return!("file:"!==zl()&&"ionic:"!==zl()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nc(){try{const C=self.localStorage,g=ws();if(C)return C.setItem(g,"1"),C.removeItem(g),!function(C=(0,se.z$)()){return(0,se.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,se.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,se.hl)()}catch(C){return Pc()&&(0,se.hl)()}return!1}function Pc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function tu(){return("http:"===zl()||"https:"===zl()||(0,se.ru)()||ki())&&!((0,se.b$)()||(0,se.UG)())&&Nc()&&!Pc()}function Fc(){return ki()&&"undefined"!=typeof document}function Lc(){return(Lc=(0,b.Z)(function*(){return!!Fc()&&new Promise(C=>{const g=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),C(!0)})})})).apply(this,arguments)}const $o={LOCAL:"local",NONE:"none",SESSION:"session"},ql=$e,Zl="persistence";function Ch(C){return wu.apply(this,arguments)}function wu(){return(wu=(0,b.Z)(function*(C){yield C._initializationPromise;const g=Yl(),m=hn(Zl,C.config.apiKey,C.name);(null==g?void 0:g.sessionStorage)&&g.sessionStorage.setItem(m,C._getPersistence())})).apply(this,arguments)}function Yl(){return"undefined"!=typeof window?window:null}const Ih=$e;class Ua{constructor(){this.browserResolver=He(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=en,this._completeRedirectFn=Ki}_openPopup(g,m,S,G){var le=this;return(0,b.Z)(function*(){var Le;St(null===(Le=le.eventManagers[g._key()])||void 0===Le?void 0:Le.manager,"_initialize() not called before _openPopup()");const at=Fi(g,m,S,Ze(),G);return function(C,g,m,S=500,G=600){const le=Math.max((window.screen.availHeight-G)/2,0).toString(),Le=Math.max((window.screen.availWidth-S)/2,0).toString();let at="";const Pt=Object.assign(Object.assign({},fl),{width:S.toString(),height:G.toString(),top:le,left:Le}),tn=(0,se.z$)().toLowerCase();m&&(at=rt(tn)?"_blank":m),nt(tn)&&(g=g||"http://localhost",Pt.scrollbars="yes");const un=Object.entries(Pt).reduce((ns,[na,It])=>`${ns}${na}=${It},`,"");if(function(C=(0,se.z$)()){var g;return Yt(C)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(tn)&&"_self"!==at)return function(C,g){const m=document.createElement("a");m.href=C,m.target=g;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(S)}(g||"",at),new dd(null);const Tn=window.open(g||"",at,un);$e(Tn,C,"popup-blocked");try{Tn.focus()}catch(ns){}return new dd(Tn)}(g,at,ws())})()}_openRedirect(g,m,S,G){var le=this;return(0,b.Z)(function*(){return yield le._originValidation(g),C=Fi(g,m,S,Ze(),G),Sr().location.href=C,new Promise(()=>{});var C})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:G,promise:le}=this.eventManagers[m];return G?Promise.resolve(G):(St(le,"If manager is not set, promise should be"),le)}const S=this.initAndGetManager(g);return this.eventManagers[m]={promise:S},S}initAndGetManager(g){var m=this;return(0,b.Z)(function*(){const S=yield function(C){return _u.apply(this,arguments)}(g),G=new cl(g);return S.register("authEvent",le=>($e(null==le?void 0:le.authEvent,g,"invalid-auth-event"),{status:G.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:G},m.iframes[g._key()]=S,G})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(jl,{type:jl},G=>{var le;const Le=null===(le=null==G?void 0:G[0])||void 0===le?void 0:le[jl];void 0!==Le&&m(!!Le),_t(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(C){return Xo.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return wi()||Qe()||Yt()}}),this.cordovaResolver=He(class{constructor(){this._redirectPersistence=en,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ki}_initialize(g){var m=this;return(0,b.Z)(function*(){const S=g._key();let G=m.eventManagers.get(S);return G||(G=new gd(g),m.eventManagers.set(S,G),m.attachCallbackListeners(g,G)),G})()}_openPopup(g){_t(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,S,G){var le=this;return(0,b.Z)(function*(){!function(C){var g,m,S,G,le,Le,at,Pt,tn,un;const Tn=ks();$e("function"==typeof(null===(g=null==Tn?void 0:Tn.universalLinks)||void 0===g?void 0:g.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),$e(void 0!==(null===(m=null==Tn?void 0:Tn.BuildInfo)||void 0===m?void 0:m.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),$e("function"==typeof(null===(le=null===(G=null===(S=null==Tn?void 0:Tn.cordova)||void 0===S?void 0:S.plugins)||void 0===G?void 0:G.browsertab)||void 0===le?void 0:le.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$e("function"==typeof(null===(Pt=null===(at=null===(Le=null==Tn?void 0:Tn.cordova)||void 0===Le?void 0:Le.plugins)||void 0===at?void 0:at.browsertab)||void 0===Pt?void 0:Pt.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$e("function"==typeof(null===(un=null===(tn=null==Tn?void 0:Tn.cordova)||void 0===tn?void 0:tn.InAppBrowser)||void 0===un?void 0:un.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Le=yield le._initialize(g);yield Le.initialized(),Le.resetRedirect(),J.clear(),yield le._originValidation(g);const at=function(C,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:Wl(),postBody:null,tenantId:C.tenantId,error:Ge(C,"no-auth-event")}}(g,S,G);yield function(C,g){return bu()._set(_l(C),g)}(g,at);const Pt=yield function(C,g,m){return _r.apply(this,arguments)}(g,at,m),tn=yield function(C){const{cordova:g}=ks();return new Promise(m=>{g.plugins.browsertab.isAvailable(S=>{let G=null;S?g.plugins.browsertab.openUrl(C):G=g.InAppBrowser.open(C,function(C=(0,se.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),m(G)})})}(Pt);return function(C,g,m){return es.apply(this,arguments)}(g,Le,tn)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(C){return Ac.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:S,handleOpenURL:G,BuildInfo:le}=ks(),Le=setTimeout((0,b.Z)(function*(){yield va(g),m.onEvent(vh())}),500),at=function(){var un=(0,b.Z)(function*(Tn){clearTimeout(Le);const ns=yield va(g);let na=null;ns&&(null==Tn?void 0:Tn.url)&&(na=function(C,g){var m,S;const G=function(C){const g=Gu(C),m=g.link?decodeURIComponent(g.link):void 0,S=Gu(m).link,G=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Gu(G).link||G||S||m||C}(g);if(G.includes("/__/auth/callback")){const le=Gu(G),Le=le.firebaseError?function(C){try{return JSON.parse(C)}catch(g){return null}}(decodeURIComponent(le.firebaseError)):null,at=null===(S=null===(m=null==Le?void 0:Le.code)||void 0===m?void 0:m.split("auth/"))||void 0===S?void 0:S[1],Pt=at?Ge(at):null;return Pt?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Pt,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:G,postBody:null}}return null}(ns,Tn.url)),m.onEvent(na||vh())});return function(ns){return un.apply(this,arguments)}}();void 0!==S&&"function"==typeof S.subscribe&&S.subscribe(null,at);const Pt=G,tn=`${le.packageName.toLowerCase()}://`;ks().handleOpenURL=function(){var un=(0,b.Z)(function*(Tn){if(Tn.toLowerCase().startsWith(tn)&&at({url:Tn}),"function"==typeof Pt)try{Pt(Tn)}catch(ns){console.error(ns)}});return function(Tn){return un.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=en,this._completeRedirectFn=Ki}_initialize(g){var m=this;return(0,b.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,S,G){var le=this;return(0,b.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openPopup(g,m,S,G)})()}_openRedirect(g,m,S,G){var le=this;return(0,b.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openRedirect(g,m,S,G)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Fc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ih(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,b.Z)(function*(){if(g.underlyingResolver)return;const m=yield function(){return Lc.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function As(C){return C.unwrap()}function vd(C){return zu(C)}function Yf(C,g){var m;const S=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new wd(C,function(C,g){var m;const S=(0,se.m9)(C),G=g;return $e(g.operationType,S,"argument-error"),$e(null===(m=G.serverResponse)||void 0===m?void 0:m.mfaPendingCredential,S,"argument-error"),Eo._fromError(S,G)}(C,g));else if(S){const G=zu(g),le=g;G&&(le.credential=G,le.tenantId=S.tenantId||void 0,le.email=S.email||void 0,le.phoneNumber=S.phoneNumber||void 0)}}function zu(C){const{_tokenResponse:g}=C instanceof se.ZR?C.customData:C;if(!g)return null;if(!(C instanceof se.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Hu.credentialFromResult(C);const m=g.providerId;if(!m||"password"===m)return null;let S;switch(m){case"google.com":S=ys;break;case"facebook.com":S=io;break;case"github.com":S=$s;break;case"twitter.com":S=po;break;default:const{oauthIdToken:G,oauthAccessToken:le,oauthTokenSecret:Le,pendingToken:at,nonce:Pt}=g;return le||Le||G||at?at?m.startsWith("saml.")?_s._create(m,at):_i._fromParams({providerId:m,signInMethod:m,pendingToken:at,idToken:G,accessToken:le}):new ni(m).credential({idToken:G,accessToken:le,rawNonce:Pt}):null}return C instanceof se.ZR?S.credentialFromError(C):S.credentialFromResult(C)}function ts(C,g){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,b.Z)(function*(C,g){let m;try{m=yield g}catch(le){throw le instanceof se.ZR&&Yf(C,le),le}const{operationType:S,user:G}=m;return{operationType:S,credential:vd(m),additionalUserInfo:Ls(m),user:ls.getOrCreate(G)}})).apply(this,arguments)}function kc(C,g){return bd.apply(this,arguments)}function bd(){return(bd=(0,b.Z)(function*(C,g){const m=yield g;return{verificationId:m.verificationId,confirm:S=>ts(C,m.confirm(S))}})).apply(this,arguments)}class wd{constructor(g,m){this.resolver=m,this.auth=function(C){return C.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return ts(As(this.auth),this.resolver.resolveSignIn(g))}}class ls{constructor(g){this._delegate=g,this.multiFactor=function(C){const g=(0,se.m9)(C);return Uo.has(g)||Uo.set(g,Vo._fromUser(g)),Uo.get(g)}(g)}static getOrCreate(g){return ls.USER_MAP.has(g)||ls.USER_MAP.set(g,new ls(g)),ls.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,b.Z)(function*(){return ts(m.auth,On(m._delegate,g))})()}linkWithPhoneNumber(g,m){var S=this;return(0,b.Z)(function*(){return kc(S.auth,function(C,g,m){return oi.apply(this,arguments)}(S._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,b.Z)(function*(){return ts(m.auth,function(C,g,m){return _.apply(this,arguments)}(m._delegate,g,Ua))})()}linkWithRedirect(g){var m=this;return(0,b.Z)(function*(){return yield Ch(yn(m.auth)),function(C,g,m){return function(C,g,m){return Co.apply(this,arguments)}(C,g,m)}(m._delegate,g,Ua)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,b.Z)(function*(){return ts(m.auth,rr(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return kc(this.auth,function(C,g,m){return ll.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return ts(this.auth,function(C,g,m){return R.apply(this,arguments)}(this._delegate,g,Ua))}reauthenticateWithRedirect(g){var m=this;return(0,b.Z)(function*(){return yield Ch(yn(m.auth)),function(C,g,m){return function(C,g,m){return Ai.apply(this,arguments)}(C,g,m)}(m._delegate,g,Ua)})()}sendEmailVerification(g){return function(C,g){return fa.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,b.Z)(function*(){return yield function(C,g){return vi.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function(C,g){return xa((0,se.m9)(C),g,null)}(this._delegate,g)}updatePassword(g){return function(C,g){return xa((0,se.m9)(C),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function(C,g){return Qo.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function(C,g){return Ko.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function(C,g,m){return $i.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ls.USER_MAP=new WeakMap;const Ql=$e;let Cd=(()=>{class C{constructor(m,S){if(this.app=m,S.isInitialized())return this._delegate=S.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:G}=m.options;Ql(G,"invalid-api-key",{appName:m.name});let le=[An];if("undefined"!=typeof window){le=function(C,g){const m=Yl();if(!(null==m?void 0:m.sessionStorage))return[];const S=hn(Zl,C,g);switch(m.sessionStorage.getItem(S)){case $o.NONE:return[An];case $o.LOCAL:return[Dt,en];case $o.SESSION:return[en];default:return[]}}(G,m.name);for(const at of[Dt,Be,en])le.includes(at)||le.push(at)}Ql(G,"invalid-api-key",{appName:m.name});const Le="undefined"!=typeof window?Ua:void 0;this._delegate=S.initialize({options:{persistence:le,popupRedirectResolver:Le}}),this._delegate._updateErrorMap(Pe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ls.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,S){!function(C,g,m){const S=yn(C);$e(S._canInitEmulator,S,"emulator-config-failed"),$e(/^https?:\/\//.test(g),S,"invalid-emulator-scheme");const G=!!(null==m?void 0:m.disableWarnings),le=Fn(g),{host:Le,port:at}=function(C){const g=Fn(C),m=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!m)return{host:"",port:null};const S=m[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(S);if(G){const le=G[1];return{host:le,port:Tr(S.substr(le.length+1))}}{const[le,Le]=S.split(":");return{host:le,port:Tr(Le)}}}(g);S.config.emulator={url:`${le}//${Le}${null===at?"":`:${at}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Le,port:at,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:G})}),function(C){function g(){const m=document.createElement("p"),S=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",S.position="fixed",S.width="100%",S.backgroundColor="#ffffff",S.border=".1em solid #000000",S.color="#b50000",S.bottom="0px",S.left="0px",S.margin="0px",S.zIndex="10000",S.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}(G)}(this._delegate,m,S)}applyActionCode(m){return function(C,g){return da.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ka(this._delegate,m)}confirmPasswordReset(m,S){return function(C,g,m){return go.apply(this,arguments)}(this._delegate,m,S)}createUserWithEmailAndPassword(m,S){var G=this;return(0,b.Z)(function*(){return ts(G._delegate,function(C,g,m){return kr.apply(this,arguments)}(G._delegate,m,S))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function(C,g){return si.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function(C,g){const m=Mi.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,b.Z)(function*(){Ql(tu(),m._delegate,"operation-not-supported-in-this-environment");const S=yield function(C,g){return Ys.apply(this,arguments)}(m._delegate,Ua);return S?ts(m._delegate,Promise.resolve(S)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function(C,g){yn(C)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,S,G){const{next:le,error:Le,complete:at}=Ea(m,S,G);return this._delegate.onAuthStateChanged(le,Le,at)}onIdTokenChanged(m,S,G){const{next:le,error:Le,complete:at}=Ea(m,S,G);return this._delegate.onIdTokenChanged(le,Le,at)}sendSignInLinkToEmail(m,S){return function(C,g,m){return is.apply(this,arguments)}(this._delegate,m,S)}sendPasswordResetEmail(m,S){return function(C,g,m){return Fo.apply(this,arguments)}(this._delegate,m,S||void 0)}setPersistence(m){var S=this;return(0,b.Z)(function*(){let G;switch(function(C,g){ql(Object.values($o).includes(g),C,"invalid-persistence-type"),(0,se.b$)()?ql(g!==$o.SESSION,C,"unsupported-persistence-type"):(0,se.UG)()?ql(g===$o.NONE,C,"unsupported-persistence-type"):Pc()?ql(g===$o.NONE||g===$o.LOCAL&&(0,se.hl)(),C,"unsupported-persistence-type"):ql(g===$o.NONE||Nc(),C,"unsupported-persistence-type")}(S._delegate,m),m){case $o.SESSION:G=en;break;case $o.LOCAL:G=(yield He(Dt)._isAvailable())?Dt:Be;break;case $o.NONE:G=An;break;default:return _t("argument-error",{appName:S._delegate.name})}return S._delegate.setPersistence(G)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return ts(this._delegate,function(C){return L.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return ts(this._delegate,ct(this._delegate,m))}signInWithCustomToken(m){return ts(this._delegate,function(C,g){return Gs.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,S){return ts(this._delegate,function(C,g,m){return ct((0,se.m9)(C),Hs.credential(g,m))}(this._delegate,m,S))}signInWithEmailLink(m,S){return ts(this._delegate,function(C,g,m){return ao.apply(this,arguments)}(this._delegate,m,S))}signInWithPhoneNumber(m,S){return kc(this._delegate,function(C,g,m){return Cc.apply(this,arguments)}(this._delegate,m,S))}signInWithPopup(m){var S=this;return(0,b.Z)(function*(){return Ql(tu(),S._delegate,"operation-not-supported-in-this-environment"),ts(S._delegate,function(C,g,m){return wo.apply(this,arguments)}(S._delegate,m,Ua))})()}signInWithRedirect(m){var S=this;return(0,b.Z)(function*(){return Ql(tu(),S._delegate,"operation-not-supported-in-this-environment"),yield Ch(S._delegate),function(C,g,m){return function(C,g,m){return or.apply(this,arguments)}(C,g,m)}(S._delegate,m,Ua)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function(C,g){return Qn.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=$o,C})();function Ea(C,g,m){let S=C;"function"!=typeof C&&({next:S,error:g,complete:m}=C);const G=S;return{next:Le=>G(Le&&ls.getOrCreate(Le)),error:g,complete:m}}class Jl{constructor(){this.providerId="phone",this._delegate=new Hu(As(P.Z.auth()))}static credential(g,m){return Hu.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}Jl.PHONE_SIGN_IN_METHOD=Hu.PHONE_SIGN_IN_METHOD,Jl.PROVIDER_ID=Hu.PROVIDER_ID;const Do=$e;class Cu{constructor(g,m,S=P.Z.app()){var G;Do(null===(G=S.options)||void 0===G?void 0:G.apiKey,"invalid-api-key",{appName:S.name}),this._delegate=new lr(g,m,S.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new he.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),S=g.getProvider("auth");return new Cd(m,S)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Hs,FacebookAuthProvider:io,GithubAuthProvider:$s,GoogleAuthProvider:ys,OAuthProvider:ni,PhoneAuthProvider:Jl,PhoneMultiFactorGenerator:fd,RecaptchaVerifier:Cu,TwitterAuthProvider:po,Auth:Cd,AuthCredential:Kr,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.0")}(P.Z)},7083:(pt,Me,M)=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});var b=M(6345),P=M(2484);b.Observable.prototype.switchMap=P.switchMap},2484:(pt,Me,M)=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});var b=M(9916);Me.switchMap=function(se){return b.switchMap(se)(this)}},6345:(pt,Me,M)=>{"use strict";M.r(Me),M.d(Me,{ArgumentOutOfRangeError:()=>He.W,AsyncSubject:()=>q.c,BehaviorSubject:()=>re.X,ConnectableObservable:()=>P.c,EMPTY:()=>Un.E,EmptyError:()=>Re.K,GroupedObservable:()=>se.T,NEVER:()=>Sn,Notification:()=>jt.P,NotificationKind:()=>jt.W,ObjectUnsubscribedError:()=>Ye.N,Observable:()=>b.y,ReplaySubject:()=>he.t,Scheduler:()=>rn.b,Subject:()=>ge.xQ,Subscriber:()=>Ge.L,Subscription:()=>_t.w,TimeoutError:()=>Ne.W,UnsubscriptionError:()=>Ze.B,VirtualAction:()=>mt,VirtualTimeScheduler:()=>ye,animationFrame:()=>Je,animationFrameScheduler:()=>qe,asap:()=>X.e,asapScheduler:()=>X.E,async:()=>Y.P,asyncScheduler:()=>Y.z,bindCallback:()=>Xt,bindNodeCallback:()=>En,combineLatest:()=>qn.aj,concat:()=>dn.z,config:()=>Nr.v,defer:()=>$t.P,empty:()=>Un.c,forkJoin:()=>vr.D,from:()=>Ar.D,fromEvent:()=>yr,fromEventPattern:()=>Ke,generate:()=>we,identity:()=>St.y,iif:()=>et,interval:()=>Ot,isObservable:()=>Ae,merge:()=>Rt.T,never:()=>Ir,noop:()=>Nt.Z,observable:()=>oe.L,of:()=>xr.of,onErrorResumeNext:()=>In,pairs:()=>Dr,partition:()=>ke,pipe:()=>$e.z,queue:()=>ce.c,queueScheduler:()=>ce.N,race:()=>We.S3,range:()=>Ue,scheduled:()=>Er.x,throwError:()=>At._,timer:()=>mn.H,using:()=>An,zip:()=>hn.$R});var b=M(9897),P=M(2441),se=M(304),oe=M(6554),ge=M(9765),re=M(6215),he=M(8229),q=M(8660),X=M(4581),Y=M(3637),ce=M(7771),Q=M(6465),_e=M(4548);const qe=new class extends _e.v{flush(Qe){this.active=!0,this.scheduled=void 0;const{actions:rt}=this;let Ct,wt=-1,Wt=rt.length;Qe=Qe||rt.shift();do{if(Ct=Qe.execute(Qe.state,Qe.delay))break}while(++wt<Wt&&(Qe=rt.shift()));if(this.active=!1,Ct){for(;++wt<Wt&&(Qe=rt.shift());)Qe.unsubscribe();throw Ct}}}(class extends Q.o{constructor(Qe,rt){super(Qe,rt),this.scheduler=Qe,this.work=rt}requestAsyncId(Qe,rt,Ct=0){return null!==Ct&&Ct>0?super.requestAsyncId(Qe,rt,Ct):(Qe.actions.push(this),Qe.scheduled||(Qe.scheduled=requestAnimationFrame(()=>Qe.flush(null))))}recycleAsyncId(Qe,rt,Ct=0){if(null!==Ct&&Ct>0||null===Ct&&this.delay>0)return super.recycleAsyncId(Qe,rt,Ct);0===Qe.actions.length&&(cancelAnimationFrame(rt),Qe.scheduled=void 0)}}),Je=qe;let ye=(()=>{class nt extends _e.v{constructor(rt=mt,Ct=Number.POSITIVE_INFINITY){super(rt,()=>this.frame),this.maxFrames=Ct,this.frame=0,this.index=-1}flush(){const{actions:rt,maxFrames:Ct}=this;let wt,Wt;for(;(Wt=rt[0])&&Wt.delay<=Ct&&(rt.shift(),this.frame=Wt.delay,!(wt=Wt.execute(Wt.state,Wt.delay))););if(wt){for(;Wt=rt.shift();)Wt.unsubscribe();throw wt}}}return nt.frameTimeFactor=10,nt})();class mt extends Q.o{constructor(Qe,rt,Ct=(Qe.index+=1)){super(Qe,rt),this.scheduler=Qe,this.work=rt,this.index=Ct,this.active=!0,this.index=Qe.index=Ct}schedule(Qe,rt=0){if(!this.id)return super.schedule(Qe,rt);this.active=!1;const Ct=new mt(this.scheduler,this.work);return this.add(Ct),Ct.schedule(Qe,rt)}requestAsyncId(Qe,rt,Ct=0){this.delay=Qe.frame+Ct;const{actions:wt}=Qe;return wt.push(this),wt.sort(mt.sortActions),!0}recycleAsyncId(Qe,rt,Ct=0){}_execute(Qe,rt){if(!0===this.active)return super._execute(Qe,rt)}static sortActions(Qe,rt){return Qe.delay===rt.delay?Qe.index===rt.index?0:Qe.index>rt.index?1:-1:Qe.delay>rt.delay?1:-1}}var rn=M(2217),_t=M(826),Ge=M(7393),jt=M(3098),$e=M(4022),Nt=M(8640),St=M(4487);function Ae(nt){return!!nt&&(nt instanceof b.y||"function"==typeof nt.lift&&"function"==typeof nt.subscribe)}var He=M(7108),Re=M(3410),Ye=M(7971),Ze=M(7744),Ne=M(5587),bt=M(8002),Gt=M(3179),Rn=M(9796),Ht=M(4869);function Xt(nt,Qe,rt){if(Qe){if(!(0,Ht.K)(Qe))return(...Ct)=>Xt(nt,rt)(...Ct).pipe((0,bt.U)(wt=>(0,Rn.k)(wt)?Qe(...wt):Qe(wt)));rt=Qe}return function(...Ct){const wt=this;let Wt;const xn={context:wt,subject:Wt,callbackFunc:nt,scheduler:rt};return new b.y(Yt=>{if(rt)return rt.schedule(Bt,0,{args:Ct,subscriber:Yt,params:xn});if(!Wt){Wt=new q.c;const kn=(...Dn)=>{Wt.next(Dn.length<=1?Dn[0]:Dn),Wt.complete()};try{nt.apply(wt,[...Ct,kn])}catch(Dn){(0,Gt._)(Wt)?Wt.error(Dn):console.warn(Dn)}}return Wt.subscribe(Yt)})}}function Bt(nt){const{args:rt,subscriber:Ct,params:wt}=nt,{callbackFunc:Wt,context:xn,scheduler:Yt}=wt;let{subject:kn}=wt;if(!kn){kn=wt.subject=new q.c;const Dn=(...$n)=>{this.add(Yt.schedule(tr,0,{value:$n.length<=1?$n[0]:$n,subject:kn}))};try{Wt.apply(xn,[...rt,Dn])}catch($n){kn.error($n)}}this.add(kn.subscribe(Ct))}function tr(nt){const{value:Qe,subject:rt}=nt;rt.next(Qe),rt.complete()}function En(nt,Qe,rt){if(Qe){if(!(0,Ht.K)(Qe))return(...Ct)=>En(nt,rt)(...Ct).pipe((0,bt.U)(wt=>(0,Rn.k)(wt)?Qe(...wt):Qe(wt)));rt=Qe}return function(...Ct){const wt={subject:void 0,args:Ct,callbackFunc:nt,scheduler:rt,context:this};return new b.y(Wt=>{const{context:xn}=wt;let{subject:Yt}=wt;if(rt)return rt.schedule(sn,0,{params:wt,subscriber:Wt,context:xn});if(!Yt){Yt=wt.subject=new q.c;const kn=(...Dn)=>{const $n=Dn.shift();$n?Yt.error($n):(Yt.next(Dn.length<=1?Dn[0]:Dn),Yt.complete())};try{nt.apply(xn,[...Ct,kn])}catch(Dn){(0,Gt._)(Yt)?Yt.error(Dn):console.warn(Dn)}}return Yt.subscribe(Wt)})}}function sn(nt){const{params:Qe,subscriber:rt,context:Ct}=nt,{callbackFunc:wt,args:Wt,scheduler:xn}=Qe;let Yt=Qe.subject;if(!Yt){Yt=Qe.subject=new q.c;const kn=(...Dn)=>{const $n=Dn.shift();this.add($n?xn.schedule(Bn,0,{err:$n,subject:Yt}):xn.schedule(hr,0,{value:Dn.length<=1?Dn[0]:Dn,subject:Yt}))};try{wt.apply(Ct,[...Wt,kn])}catch(Dn){this.add(xn.schedule(Bn,0,{err:Dn,subject:Yt}))}}this.add(Yt.subscribe(rt))}function hr(nt){const{value:Qe,subject:rt}=nt;rt.next(Qe),rt.complete()}function Bn(nt){const{err:Qe,subject:rt}=nt;rt.error(Qe)}var qn=M(9112),dn=M(9923),$t=M(1439),Un=M(9193),vr=M(5758),Ar=M(9412),fr=M(9105);function yr(nt,Qe,rt,Ct){return(0,fr.m)(rt)&&(Ct=rt,rt=void 0),Ct?yr(nt,Qe,rt).pipe((0,bt.U)(wt=>(0,Rn.k)(wt)?Ct(...wt):Ct(wt))):new b.y(wt=>{zt(nt,Qe,function(xn){wt.next(arguments.length>1?Array.prototype.slice.call(arguments):xn)},wt,rt)})}function zt(nt,Qe,rt,Ct,wt){let Wt;if(function(nt){return nt&&"function"==typeof nt.addEventListener&&"function"==typeof nt.removeEventListener}(nt)){const xn=nt;nt.addEventListener(Qe,rt,wt),Wt=()=>xn.removeEventListener(Qe,rt,wt)}else if(function(nt){return nt&&"function"==typeof nt.on&&"function"==typeof nt.off}(nt)){const xn=nt;nt.on(Qe,rt),Wt=()=>xn.off(Qe,rt)}else if(function(nt){return nt&&"function"==typeof nt.addListener&&"function"==typeof nt.removeListener}(nt)){const xn=nt;nt.addListener(Qe,rt),Wt=()=>xn.removeListener(Qe,rt)}else{if(!nt||!nt.length)throw new TypeError("Invalid event target");for(let xn=0,Yt=nt.length;xn<Yt;xn++)zt(nt[xn],Qe,rt,Ct,wt)}Ct.add(Wt)}function Ke(nt,Qe,rt){return rt?Ke(nt,Qe).pipe((0,bt.U)(Ct=>(0,Rn.k)(Ct)?rt(...Ct):rt(Ct))):new b.y(Ct=>{const wt=(...xn)=>Ct.next(1===xn.length?xn[0]:xn);let Wt;try{Wt=nt(wt)}catch(xn){return void Ct.error(xn)}if((0,fr.m)(Qe))return()=>Qe(wt,Wt)})}function we(nt,Qe,rt,Ct,wt){let Wt,xn;return 1==arguments.length?(xn=nt.initialState,Qe=nt.condition,rt=nt.iterate,Wt=nt.resultSelector||St.y,wt=nt.scheduler):void 0===Ct||(0,Ht.K)(Ct)?(xn=nt,Wt=St.y,wt=Ct):(xn=nt,Wt=Ct),new b.y(Yt=>{let kn=xn;if(wt)return wt.schedule(Ce,0,{subscriber:Yt,iterate:rt,condition:Qe,resultSelector:Wt,state:kn});for(;;){if(Qe){let $n;try{$n=Qe(kn)}catch(wi){return void Yt.error(wi)}if(!$n){Yt.complete();break}}let Dn;try{Dn=Wt(kn)}catch($n){return void Yt.error($n)}if(Yt.next(Dn),Yt.closed)break;try{kn=rt(kn)}catch($n){return void Yt.error($n)}}})}function Ce(nt){const{subscriber:Qe,condition:rt}=nt;if(Qe.closed)return;if(nt.needIterate)try{nt.state=nt.iterate(nt.state)}catch(wt){return void Qe.error(wt)}else nt.needIterate=!0;if(rt){let wt;try{wt=rt(nt.state)}catch(Wt){return void Qe.error(Wt)}if(!wt)return void Qe.complete();if(Qe.closed)return}let Ct;try{Ct=nt.resultSelector(nt.state)}catch(wt){return void Qe.error(wt)}return Qe.closed||(Qe.next(Ct),Qe.closed)?void 0:this.schedule(nt)}function et(nt,Qe=Un.E,rt=Un.E){return(0,$t.P)(()=>nt()?Qe:rt)}var ht=M(6561);function Ot(nt=0,Qe=Y.P){return(!(0,ht.k)(nt)||nt<0)&&(nt=0),(!Qe||"function"!=typeof Qe.schedule)&&(Qe=Y.P),new b.y(rt=>(rt.add(Qe.schedule(ft,nt,{subscriber:rt,counter:0,period:nt})),rt))}function ft(nt){const{subscriber:Qe,counter:rt,period:Ct}=nt;Qe.next(rt),this.schedule({subscriber:Qe,counter:rt+1,period:Ct},Ct)}var Rt=M(6682);const Sn=new b.y(Nt.Z);function Ir(){return Sn}var xr=M(5917);function In(...nt){if(0===nt.length)return Un.E;const[Qe,...rt]=nt;return 1===nt.length&&(0,Rn.k)(Qe)?In(...Qe):new b.y(Ct=>{const wt=()=>Ct.add(In(...rt).subscribe(Ct));return(0,Ar.D)(Qe).subscribe({next(Wt){Ct.next(Wt)},error:wt,complete:wt})})}function Dr(nt,Qe){return new b.y(Qe?rt=>{const Ct=Object.keys(nt),wt=new _t.w;return wt.add(Qe.schedule(Nn,0,{keys:Ct,index:0,subscriber:rt,subscription:wt,obj:nt})),wt}:rt=>{const Ct=Object.keys(nt);for(let wt=0;wt<Ct.length&&!rt.closed;wt++){const Wt=Ct[wt];nt.hasOwnProperty(Wt)&&rt.next([Wt,nt[Wt]])}rt.complete()})}function Nn(nt){const{keys:Qe,index:rt,subscriber:Ct,subscription:wt,obj:Wt}=nt;if(!Ct.closed)if(rt<Qe.length){const xn=Qe[rt];Ct.next([xn,Wt[xn]]),wt.add(this.schedule({keys:Qe,index:rt+1,subscriber:Ct,subscription:wt,obj:Wt}))}else Ct.complete()}var Qt=M(9264),Ee=M(7444),be=M(5435);function ke(nt,Qe,rt){return[(0,be.h)(Qe,rt)(new b.y((0,Ee.s)(nt))),(0,be.h)((0,Qt.f)(Qe,rt))(new b.y((0,Ee.s)(nt)))]}var We=M(8085);function Ue(nt=0,Qe,rt){return new b.y(Ct=>{void 0===Qe&&(Qe=nt,nt=0);let wt=0,Wt=nt;if(rt)return rt.schedule(Tt,0,{index:wt,count:Qe,start:nt,subscriber:Ct});for(;;){if(wt++>=Qe){Ct.complete();break}if(Ct.next(Wt++),Ct.closed)break}})}function Tt(nt){const{start:Qe,index:rt,count:Ct,subscriber:wt}=nt;rt>=Ct?wt.complete():(wt.next(Qe),!wt.closed&&(nt.index=rt+1,nt.start=Qe+1,this.schedule(nt)))}var At=M(205),mn=M(6797);function An(nt,Qe){return new b.y(rt=>{let Ct,wt;try{Ct=nt()}catch(Yt){return void rt.error(Yt)}try{wt=Qe(Ct)}catch(Yt){return void rt.error(Yt)}const xn=(wt?(0,Ar.D)(wt):Un.E).subscribe(rt);return()=>{xn.unsubscribe(),Ct&&Ct.unsubscribe()}})}var hn=M(1571),Er=M(1115),Nr=M(2494)},8660:(pt,Me,M)=>{"use strict";M.d(Me,{c:()=>se});var b=M(9765),P=M(826);class se extends b.xQ{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(ge){return this.hasError?(ge.error(this.thrownError),P.w.EMPTY):this.hasCompleted&&this.hasNext?(ge.next(this.value),ge.complete(),P.w.EMPTY):super._subscribe(ge)}next(ge){this.hasCompleted||(this.value=ge,this.hasNext=!0)}error(ge){this.hasCompleted||super.error(ge)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}},6215:(pt,Me,M)=>{"use strict";M.d(Me,{X:()=>se});var b=M(9765),P=M(7971);class se extends b.xQ{constructor(ge){super(),this._value=ge}get value(){return this.getValue()}_subscribe(ge){const re=super._subscribe(ge);return re&&!re.closed&&ge.next(this._value),re}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new P.N;return this._value}next(ge){super.next(this._value=ge)}}},3098:(pt,Me,M)=>{"use strict";M.d(Me,{W:()=>oe,P:()=>ge});var b=M(9193),P=M(5917),se=M(205),oe=(()=>{return(re=oe||(oe={})).NEXT="N",re.ERROR="E",re.COMPLETE="C",oe;var re})();class ge{constructor(he,q,X){this.kind=he,this.value=q,this.error=X,this.hasValue="N"===he}observe(he){switch(this.kind){case"N":return he.next&&he.next(this.value);case"E":return he.error&&he.error(this.error);case"C":return he.complete&&he.complete()}}do(he,q,X){switch(this.kind){case"N":return he&&he(this.value);case"E":return q&&q(this.error);case"C":return X&&X()}}accept(he,q,X){return he&&"function"==typeof he.next?this.observe(he):this.do(he,q,X)}toObservable(){switch(this.kind){case"N":return(0,P.of)(this.value);case"E":return(0,se._)(this.error);case"C":return(0,b.c)()}throw new Error("unexpected notification kind value")}static createNext(he){return void 0!==he?new ge("N",he):ge.undefinedValueNotification}static createError(he){return new ge("E",void 0,he)}static createComplete(){return ge.completeNotification}}ge.completeNotification=new ge("C"),ge.undefinedValueNotification=new ge("N",void 0)},9897:(pt,Me,M)=>{"use strict";M.d(Me,{y:()=>X});var b=M(3179),P=M(7393),se=M(9181),oe=M(6490),re=M(6554),he=M(4022),q=M(2494);let X=(()=>{class ce{constructor(fe){this._isScalar=!1,fe&&(this._subscribe=fe)}lift(fe){const _e=new ce;return _e.source=this,_e.operator=fe,_e}subscribe(fe,_e,Pe){const{operator:qe}=this,Je=function(ce,Q,fe){if(ce){if(ce instanceof P.L)return ce;if(ce[se.b])return ce[se.b]()}return ce||Q||fe?new P.L(ce,Q,fe):new P.L(oe.c)}(fe,_e,Pe);if(Je.add(qe?qe.call(Je,this.source):this.source||q.v.useDeprecatedSynchronousErrorHandling&&!Je.syncErrorThrowable?this._subscribe(Je):this._trySubscribe(Je)),q.v.useDeprecatedSynchronousErrorHandling&&Je.syncErrorThrowable&&(Je.syncErrorThrowable=!1,Je.syncErrorThrown))throw Je.syncErrorValue;return Je}_trySubscribe(fe){try{return this._subscribe(fe)}catch(_e){q.v.useDeprecatedSynchronousErrorHandling&&(fe.syncErrorThrown=!0,fe.syncErrorValue=_e),(0,b._)(fe)?fe.error(_e):console.warn(_e)}}forEach(fe,_e){return new(_e=Y(_e))((Pe,qe)=>{let Je;Je=this.subscribe(ye=>{try{fe(ye)}catch(mt){qe(mt),Je&&Je.unsubscribe()}},qe,Pe)})}_subscribe(fe){const{source:_e}=this;return _e&&_e.subscribe(fe)}[re.L](){return this}pipe(...fe){return 0===fe.length?this:(0,he.U)(fe)(this)}toPromise(fe){return new(fe=Y(fe))((_e,Pe)=>{let qe;this.subscribe(Je=>qe=Je,Je=>Pe(Je),()=>_e(qe))})}}return ce.create=Q=>new ce(Q),ce})();function Y(ce){if(ce||(ce=q.v.Promise||Promise),!ce)throw new Error("no Promise impl found");return ce}},6490:(pt,Me,M)=>{"use strict";M.d(Me,{c:()=>se});var b=M(2494),P=M(4449);const se={closed:!0,next(oe){},error(oe){if(b.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,P.z)(oe)},complete(){}}},5197:(pt,Me,M)=>{"use strict";M.d(Me,{L:()=>P});var b=M(7393);class P extends b.L{notifyNext(oe,ge,re,he,q){this.destination.next(ge)}notifyError(oe,ge){this.destination.error(oe)}notifyComplete(oe){this.destination.complete()}}},8229:(pt,Me,M)=>{"use strict";M.d(Me,{t:()=>he});var b=M(9765),P=M(7771),se=M(826),oe=M(9746),ge=M(7971),re=M(8858);class he extends b.xQ{constructor(Y=Number.POSITIVE_INFINITY,ce=Number.POSITIVE_INFINITY,Q){super(),this.scheduler=Q,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=Y<1?1:Y,this._windowTime=ce<1?1:ce,ce===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(Y){if(!this.isStopped){const ce=this._events;ce.push(Y),ce.length>this._bufferSize&&ce.shift()}super.next(Y)}nextTimeWindow(Y){this.isStopped||(this._events.push(new q(this._getNow(),Y)),this._trimBufferThenGetEvents()),super.next(Y)}_subscribe(Y){const ce=this._infiniteTimeWindow,Q=ce?this._events:this._trimBufferThenGetEvents(),fe=this.scheduler,_e=Q.length;let Pe;if(this.closed)throw new ge.N;if(this.isStopped||this.hasError?Pe=se.w.EMPTY:(this.observers.push(Y),Pe=new re.W(this,Y)),fe&&Y.add(Y=new oe.ht(Y,fe)),ce)for(let qe=0;qe<_e&&!Y.closed;qe++)Y.next(Q[qe]);else for(let qe=0;qe<_e&&!Y.closed;qe++)Y.next(Q[qe].value);return this.hasError?Y.error(this.thrownError):this.isStopped&&Y.complete(),Pe}_getNow(){return(this.scheduler||P.c).now()}_trimBufferThenGetEvents(){const Y=this._getNow(),ce=this._bufferSize,Q=this._windowTime,fe=this._events,_e=fe.length;let Pe=0;for(;Pe<_e&&!(Y-fe[Pe].time<Q);)Pe++;return _e>ce&&(Pe=Math.max(Pe,_e-ce)),Pe>0&&fe.splice(0,Pe),fe}}class q{constructor(Y,ce){this.time=Y,this.value=ce}}},2217:(pt,Me,M)=>{"use strict";M.d(Me,{b:()=>b});let b=(()=>{class P{constructor(oe,ge=P.now){this.SchedulerAction=oe,this.now=ge}schedule(oe,ge=0,re){return new this.SchedulerAction(this,oe).schedule(re,ge)}}return P.now=()=>Date.now(),P})()},9765:(pt,Me,M)=>{"use strict";M.d(Me,{Yc:()=>he,xQ:()=>q});var b=M(9897),P=M(7393),se=M(826),oe=M(7971),ge=M(8858),re=M(9181);class he extends P.L{constructor(ce){super(ce),this.destination=ce}}let q=(()=>{class Y extends b.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[re.b](){return new he(this)}lift(Q){const fe=new X(this,this);return fe.operator=Q,fe}next(Q){if(this.closed)throw new oe.N;if(!this.isStopped){const{observers:fe}=this,_e=fe.length,Pe=fe.slice();for(let qe=0;qe<_e;qe++)Pe[qe].next(Q)}}error(Q){if(this.closed)throw new oe.N;this.hasError=!0,this.thrownError=Q,this.isStopped=!0;const{observers:fe}=this,_e=fe.length,Pe=fe.slice();for(let qe=0;qe<_e;qe++)Pe[qe].error(Q);this.observers.length=0}complete(){if(this.closed)throw new oe.N;this.isStopped=!0;const{observers:Q}=this,fe=Q.length,_e=Q.slice();for(let Pe=0;Pe<fe;Pe++)_e[Pe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Q){if(this.closed)throw new oe.N;return super._trySubscribe(Q)}_subscribe(Q){if(this.closed)throw new oe.N;return this.hasError?(Q.error(this.thrownError),se.w.EMPTY):this.isStopped?(Q.complete(),se.w.EMPTY):(this.observers.push(Q),new ge.W(this,Q))}asObservable(){const Q=new b.y;return Q.source=this,Q}}return Y.create=(ce,Q)=>new X(ce,Q),Y})();class X extends q{constructor(ce,Q){super(),this.destination=ce,this.source=Q}next(ce){const{destination:Q}=this;Q&&Q.next&&Q.next(ce)}error(ce){const{destination:Q}=this;Q&&Q.error&&this.destination.error(ce)}complete(){const{destination:ce}=this;ce&&ce.complete&&this.destination.complete()}_subscribe(ce){const{source:Q}=this;return Q?this.source.subscribe(ce):se.w.EMPTY}}},8858:(pt,Me,M)=>{"use strict";M.d(Me,{W:()=>P});var b=M(826);class P extends b.w{constructor(oe,ge){super(),this.subject=oe,this.subscriber=ge,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const oe=this.subject,ge=oe.observers;if(this.subject=null,!ge||0===ge.length||oe.isStopped||oe.closed)return;const re=ge.indexOf(this.subscriber);-1!==re&&ge.splice(re,1)}}},7393:(pt,Me,M)=>{"use strict";M.d(Me,{L:()=>he});var b=M(9105),P=M(6490),se=M(826),oe=M(9181),ge=M(2494),re=M(4449);class he extends se.w{constructor(Y,ce,Q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=P.c;break;case 1:if(!Y){this.destination=P.c;break}if("object"==typeof Y){Y instanceof he?(this.syncErrorThrowable=Y.syncErrorThrowable,this.destination=Y,Y.add(this)):(this.syncErrorThrowable=!0,this.destination=new q(this,Y));break}default:this.syncErrorThrowable=!0,this.destination=new q(this,Y,ce,Q)}}[oe.b](){return this}static create(Y,ce,Q){const fe=new he(Y,ce,Q);return fe.syncErrorThrowable=!1,fe}next(Y){this.isStopped||this._next(Y)}error(Y){this.isStopped||(this.isStopped=!0,this._error(Y))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Y){this.destination.next(Y)}_error(Y){this.destination.error(Y),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Y}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Y,this}}class q extends he{constructor(Y,ce,Q,fe){super(),this._parentSubscriber=Y;let _e,Pe=this;(0,b.m)(ce)?_e=ce:ce&&(_e=ce.next,Q=ce.error,fe=ce.complete,ce!==P.c&&(Pe=Object.create(ce),(0,b.m)(Pe.unsubscribe)&&this.add(Pe.unsubscribe.bind(Pe)),Pe.unsubscribe=this.unsubscribe.bind(this))),this._context=Pe,this._next=_e,this._error=Q,this._complete=fe}next(Y){if(!this.isStopped&&this._next){const{_parentSubscriber:ce}=this;ge.v.useDeprecatedSynchronousErrorHandling&&ce.syncErrorThrowable?this.__tryOrSetError(ce,this._next,Y)&&this.unsubscribe():this.__tryOrUnsub(this._next,Y)}}error(Y){if(!this.isStopped){const{_parentSubscriber:ce}=this,{useDeprecatedSynchronousErrorHandling:Q}=ge.v;if(this._error)Q&&ce.syncErrorThrowable?(this.__tryOrSetError(ce,this._error,Y),this.unsubscribe()):(this.__tryOrUnsub(this._error,Y),this.unsubscribe());else if(ce.syncErrorThrowable)Q?(ce.syncErrorValue=Y,ce.syncErrorThrown=!0):(0,re.z)(Y),this.unsubscribe();else{if(this.unsubscribe(),Q)throw Y;(0,re.z)(Y)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Y}=this;if(this._complete){const ce=()=>this._complete.call(this._context);ge.v.useDeprecatedSynchronousErrorHandling&&Y.syncErrorThrowable?(this.__tryOrSetError(Y,ce),this.unsubscribe()):(this.__tryOrUnsub(ce),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Y,ce){try{Y.call(this._context,ce)}catch(Q){if(this.unsubscribe(),ge.v.useDeprecatedSynchronousErrorHandling)throw Q;(0,re.z)(Q)}}__tryOrSetError(Y,ce,Q){if(!ge.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ce.call(this._context,Q)}catch(fe){return ge.v.useDeprecatedSynchronousErrorHandling?(Y.syncErrorValue=fe,Y.syncErrorThrown=!0,!0):((0,re.z)(fe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Y}=this;this._context=null,this._parentSubscriber=null,Y.unsubscribe()}}},826:(pt,Me,M)=>{"use strict";M.d(Me,{w:()=>ge});var he,b=M(9796),P=M(1555),se=M(9105),oe=M(7744);class ge{constructor(q){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,q&&(this._ctorUnsubscribe=!0,this._unsubscribe=q)}unsubscribe(){let q;if(this.closed)return;let{_parentOrParents:X,_ctorUnsubscribe:Y,_unsubscribe:ce,_subscriptions:Q}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,X instanceof ge)X.remove(this);else if(null!==X)for(let fe=0;fe<X.length;++fe)X[fe].remove(this);if((0,se.m)(ce)){Y&&(this._unsubscribe=void 0);try{ce.call(this)}catch(fe){q=fe instanceof oe.B?re(fe.errors):[fe]}}if((0,b.k)(Q)){let fe=-1,_e=Q.length;for(;++fe<_e;){const Pe=Q[fe];if((0,P.K)(Pe))try{Pe.unsubscribe()}catch(qe){q=q||[],qe instanceof oe.B?q=q.concat(re(qe.errors)):q.push(qe)}}}if(q)throw new oe.B(q)}add(q){let X=q;if(!q)return ge.EMPTY;switch(typeof q){case"function":X=new ge(q);case"object":if(X===this||X.closed||"function"!=typeof X.unsubscribe)return X;if(this.closed)return X.unsubscribe(),X;if(!(X instanceof ge)){const Q=X;X=new ge,X._subscriptions=[Q]}break;default:throw new Error("unrecognized teardown "+q+" added to Subscription.")}let{_parentOrParents:Y}=X;if(null===Y)X._parentOrParents=this;else if(Y instanceof ge){if(Y===this)return X;X._parentOrParents=[Y,this]}else{if(-1!==Y.indexOf(this))return X;Y.push(this)}const ce=this._subscriptions;return null===ce?this._subscriptions=[X]:ce.push(X),X}remove(q){const X=this._subscriptions;if(X){const Y=X.indexOf(q);-1!==Y&&X.splice(Y,1)}}}function re(he){return he.reduce((q,X)=>q.concat(X instanceof oe.B?X.errors:X),[])}ge.EMPTY=((he=new ge).closed=!0,he)},2494:(pt,Me,M)=>{"use strict";M.d(Me,{v:()=>P});let b=!1;const P={Promise:void 0,set useDeprecatedSynchronousErrorHandling(se){if(se){const oe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+oe.stack)}else b&&console.log("RxJS: Back to a better error behavior. Thank you. <3");b=se},get useDeprecatedSynchronousErrorHandling(){return b}}},5345:(pt,Me,M)=>{"use strict";M.d(Me,{IY:()=>oe,Ds:()=>re,ft:()=>q});var b=M(7393),P=M(9897),se=M(7444);class oe extends b.L{constructor(Y){super(),this.parent=Y}_next(Y){this.parent.notifyNext(Y)}_error(Y){this.parent.notifyError(Y),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class re extends b.L{notifyNext(Y){this.destination.next(Y)}notifyError(Y){this.destination.error(Y)}notifyComplete(){this.destination.complete()}}function q(X,Y){if(Y.closed)return;if(X instanceof P.y)return X.subscribe(Y);let ce;try{ce=(0,se.s)(X)(Y)}catch(Q){Y.error(Q)}return ce}},2441:(pt,Me,M)=>{"use strict";M.d(Me,{c:()=>ge,N:()=>re});var b=M(9765),P=M(9897),se=M(826),oe=M(1307);class ge extends P.y{constructor(ce,Q){super(),this.source=ce,this.subjectFactory=Q,this._refCount=0,this._isComplete=!1}_subscribe(ce){return this.getSubject().subscribe(ce)}getSubject(){const ce=this._subject;return(!ce||ce.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ce=this._connection;return ce||(this._isComplete=!1,ce=this._connection=new se.w,ce.add(this.source.subscribe(new he(this.getSubject(),this))),ce.closed&&(this._connection=null,ce=se.w.EMPTY)),ce}refCount(){return(0,oe.x)()(this)}}const re=(()=>{const Y=ge.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Y._subscribe},_isComplete:{value:Y._isComplete,writable:!0},getSubject:{value:Y.getSubject},connect:{value:Y.connect},refCount:{value:Y.refCount}}})();class he extends b.Yc{constructor(ce,Q){super(ce),this.connectable=Q}_error(ce){this._unsubscribe(),super._error(ce)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ce=this.connectable;if(ce){this.connectable=null;const Q=ce._connection;ce._refCount=0,ce._subject=null,ce._connection=null,Q&&Q.unsubscribe()}}}},9112:(pt,Me,M)=>{"use strict";M.d(Me,{aj:()=>he,Ms:()=>q});var b=M(4869),P=M(9796),se=M(5197),oe=M(509),ge=M(6693);const re={};function he(...Y){let ce,Q;return(0,b.K)(Y[Y.length-1])&&(Q=Y.pop()),"function"==typeof Y[Y.length-1]&&(ce=Y.pop()),1===Y.length&&(0,P.k)(Y[0])&&(Y=Y[0]),(0,ge.n)(Y,Q).lift(new q(ce))}class q{constructor(ce){this.resultSelector=ce}call(ce,Q){return Q.subscribe(new X(ce,this.resultSelector))}}class X extends se.L{constructor(ce,Q){super(ce),this.resultSelector=Q,this.active=0,this.values=[],this.observables=[]}_next(ce){this.values.push(re),this.observables.push(ce)}_complete(){const ce=this.observables,Q=ce.length;if(0===Q)this.destination.complete();else{this.active=Q,this.toRespond=Q;for(let fe=0;fe<Q;fe++)this.add((0,oe.D)(this,ce[fe],void 0,fe))}}notifyComplete(ce){0==(this.active-=1)&&this.destination.complete()}notifyNext(ce,Q,fe){const _e=this.values,qe=this.toRespond?_e[fe]===re?--this.toRespond:this.toRespond:0;_e[fe]=Q,0===qe&&(this.resultSelector?this._tryResultSelector(_e):this.destination.next(_e.slice()))}_tryResultSelector(ce){let Q;try{Q=this.resultSelector.apply(this,ce)}catch(fe){return void this.destination.error(fe)}this.destination.next(Q)}}},9923:(pt,Me,M)=>{"use strict";M.d(Me,{z:()=>se});var b=M(5917),P=M(5766);function se(...oe){return(0,P.u)()((0,b.of)(...oe))}},1439:(pt,Me,M)=>{"use strict";M.d(Me,{P:()=>oe});var b=M(9897),P=M(9412),se=M(9193);function oe(ge){return new b.y(re=>{let he;try{he=ge()}catch(X){return void re.error(X)}return(he?(0,P.D)(he):(0,se.c)()).subscribe(re)})}},9193:(pt,Me,M)=>{"use strict";M.d(Me,{E:()=>P,c:()=>se});var b=M(9897);const P=new b.y(ge=>ge.complete());function se(ge){return ge?function(ge){return new b.y(re=>ge.schedule(()=>re.complete()))}(ge):P}},5758:(pt,Me,M)=>{"use strict";M.d(Me,{D:()=>re});var b=M(9897),P=M(9796),se=M(8002),oe=M(1555),ge=M(9412);function re(...q){if(1===q.length){const X=q[0];if((0,P.k)(X))return he(X,null);if((0,oe.K)(X)&&Object.getPrototypeOf(X)===Object.prototype){const Y=Object.keys(X);return he(Y.map(ce=>X[ce]),Y)}}if("function"==typeof q[q.length-1]){const X=q.pop();return he(q=1===q.length&&(0,P.k)(q[0])?q[0]:q,null).pipe((0,se.U)(Y=>X(...Y)))}return he(q,null)}function he(q,X){return new b.y(Y=>{const ce=q.length;if(0===ce)return void Y.complete();const Q=new Array(ce);let fe=0,_e=0;for(let Pe=0;Pe<ce;Pe++){const qe=(0,ge.D)(q[Pe]);let Je=!1;Y.add(qe.subscribe({next:ye=>{Je||(Je=!0,_e++),Q[Pe]=ye},error:ye=>Y.error(ye),complete:()=>{fe++,(fe===ce||!Je)&&(_e===ce&&Y.next(X?X.reduce((ye,mt,rn)=>(ye[mt]=Q[rn],ye),{}):Q),Y.complete())}}))}})}},9412:(pt,Me,M)=>{"use strict";M.d(Me,{D:()=>oe});var b=M(9897),P=M(7444),se=M(1115);function oe(ge,re){return re?(0,se.x)(ge,re):ge instanceof b.y?ge:new b.y((0,P.s)(ge))}},6693:(pt,Me,M)=>{"use strict";M.d(Me,{n:()=>oe});var b=M(9897),P=M(5015),se=M(4087);function oe(ge,re){return re?(0,se.r)(ge,re):new b.y((0,P.V)(ge))}},6682:(pt,Me,M)=>{"use strict";M.d(Me,{T:()=>ge});var b=M(9897),P=M(4869),se=M(3282),oe=M(6693);function ge(...re){let he=Number.POSITIVE_INFINITY,q=null,X=re[re.length-1];return(0,P.K)(X)?(q=re.pop(),re.length>1&&"number"==typeof re[re.length-1]&&(he=re.pop())):"number"==typeof X&&(he=re.pop()),null===q&&1===re.length&&re[0]instanceof b.y?re[0]:(0,se.J)(he)((0,oe.n)(re,q))}},5917:(pt,Me,M)=>{"use strict";M.d(Me,{of:()=>oe});var b=M(4869),P=M(6693),se=M(4087);function oe(...ge){let re=ge[ge.length-1];return(0,b.K)(re)?(ge.pop(),(0,se.r)(ge,re)):(0,P.n)(ge)}},8085:(pt,Me,M)=>{"use strict";M.d(Me,{S3:()=>ge});var b=M(9796),P=M(6693),se=M(5197),oe=M(509);function ge(...q){if(1===q.length){if(!(0,b.k)(q[0]))return q[0];q=q[0]}return(0,P.n)(q,void 0).lift(new re)}class re{call(X,Y){return Y.subscribe(new he(X))}}class he extends se.L{constructor(X){super(X),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(X){this.observables.push(X)}_complete(){const X=this.observables,Y=X.length;if(0===Y)this.destination.complete();else{for(let ce=0;ce<Y&&!this.hasFirst;ce++){const fe=(0,oe.D)(this,X[ce],void 0,ce);this.subscriptions&&this.subscriptions.push(fe),this.add(fe)}this.observables=null}}notifyNext(X,Y,ce){if(!this.hasFirst){this.hasFirst=!0;for(let Q=0;Q<this.subscriptions.length;Q++)if(Q!==ce){let fe=this.subscriptions[Q];fe.unsubscribe(),this.remove(fe)}this.subscriptions=null}this.destination.next(Y)}}},205:(pt,Me,M)=>{"use strict";M.d(Me,{_:()=>P});var b=M(9897);function P(oe,ge){return new b.y(ge?re=>ge.schedule(se,0,{error:oe,subscriber:re}):re=>re.error(oe))}function se({error:oe,subscriber:ge}){ge.error(oe)}},6797:(pt,Me,M)=>{"use strict";M.d(Me,{H:()=>ge});var b=M(9897),P=M(3637),se=M(6561),oe=M(4869);function ge(he=0,q,X){let Y=-1;return(0,se.k)(q)?Y=Number(q)<1?1:Number(q):(0,oe.K)(q)&&(X=q),(0,oe.K)(X)||(X=P.P),new b.y(ce=>{const Q=(0,se.k)(he)?he:+he-X.now();return X.schedule(re,Q,{index:0,period:Y,subscriber:ce})})}function re(he){const{index:q,period:X,subscriber:Y}=he;if(Y.next(q),!Y.closed){if(-1===X)return Y.complete();he.index=q+1,this.schedule(he,X)}}},1571:(pt,Me,M)=>{"use strict";M.d(Me,{$R:()=>re,mx:()=>he});var b=M(6693),P=M(9796),se=M(7393),oe=M(377),ge=M(5345);function re(...Q){const fe=Q[Q.length-1];return"function"==typeof fe&&Q.pop(),(0,b.n)(Q,void 0).lift(new he(fe))}class he{constructor(fe){this.resultSelector=fe}call(fe,_e){return _e.subscribe(new q(fe,this.resultSelector))}}class q extends se.L{constructor(fe,_e,Pe=Object.create(null)){super(fe),this.resultSelector=_e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof _e?_e:void 0}_next(fe){const _e=this.iterators;(0,P.k)(fe)?_e.push(new Y(fe)):_e.push("function"==typeof fe[oe.hZ]?new X(fe[oe.hZ]()):new ce(this.destination,this,fe))}_complete(){const fe=this.iterators,_e=fe.length;if(this.unsubscribe(),0!==_e){this.active=_e;for(let Pe=0;Pe<_e;Pe++){let qe=fe[Pe];qe.stillUnsubscribed?this.destination.add(qe.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const fe=this.iterators,_e=fe.length,Pe=this.destination;for(let ye=0;ye<_e;ye++){let mt=fe[ye];if("function"==typeof mt.hasValue&&!mt.hasValue())return}let qe=!1;const Je=[];for(let ye=0;ye<_e;ye++){let mt=fe[ye],rn=mt.next();if(mt.hasCompleted()&&(qe=!0),rn.done)return void Pe.complete();Je.push(rn.value)}this.resultSelector?this._tryresultSelector(Je):Pe.next(Je),qe&&Pe.complete()}_tryresultSelector(fe){let _e;try{_e=this.resultSelector.apply(this,fe)}catch(Pe){return void this.destination.error(Pe)}this.destination.next(_e)}}class X{constructor(fe){this.iterator=fe,this.nextResult=fe.next()}hasValue(){return!0}next(){const fe=this.nextResult;return this.nextResult=this.iterator.next(),fe}hasCompleted(){const fe=this.nextResult;return Boolean(fe&&fe.done)}}class Y{constructor(fe){this.array=fe,this.index=0,this.length=0,this.length=fe.length}[oe.hZ](){return this}next(fe){const _e=this.index++;return _e<this.length?{value:this.array[_e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class ce extends ge.Ds{constructor(fe,_e,Pe){super(fe),this.parent=_e,this.observable=Pe,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[oe.hZ](){return this}next(){const fe=this.buffer;return 0===fe.length&&this.isComplete?{value:null,done:!0}:{value:fe.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(fe){this.buffer.push(fe),this.parent.checkIterators()}subscribe(){return(0,ge.ft)(this.observable,new ge.IY(this))}}},5304:(pt,Me,M)=>{"use strict";M.d(Me,{K:()=>P});var b=M(5345);function P(ge){return function(he){const q=new se(ge),X=he.lift(q);return q.caught=X}}class se{constructor(re){this.selector=re}call(re,he){return he.subscribe(new oe(re,this.selector,this.caught))}}class oe extends b.Ds{constructor(re,he,q){super(re),this.selector=he,this.caught=q}error(re){if(!this.isStopped){let he;try{he=this.selector(re,this.caught)}catch(Y){return void super.error(Y)}this._unsubscribeAndRecycle();const q=new b.IY(this);this.add(q);const X=(0,b.ft)(he,q);X!==q&&this.add(X)}}}},5766:(pt,Me,M)=>{"use strict";M.d(Me,{u:()=>P});var b=M(3282);function P(){return(0,b.J)(1)}},4612:(pt,Me,M)=>{"use strict";M.d(Me,{b:()=>P});var b=M(9773);function P(se,oe){return(0,b.zg)(se,oe,1)}},5242:(pt,Me,M)=>{"use strict";M.d(Me,{d:()=>P});var b=M(7393);function P(ge=null){return re=>re.lift(new se(ge))}class se{constructor(re){this.defaultValue=re}call(re,he){return he.subscribe(new oe(re,this.defaultValue))}}class oe extends b.L{constructor(re,he){super(re),this.defaultValue=he,this.isEmpty=!0}_next(re){this.isEmpty=!1,this.destination.next(re)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(pt,Me,M)=>{"use strict";M.d(Me,{x:()=>P});var b=M(7393);function P(ge,re){return he=>he.lift(new se(ge,re))}class se{constructor(re,he){this.compare=re,this.keySelector=he}call(re,he){return he.subscribe(new oe(re,this.compare,this.keySelector))}}class oe extends b.L{constructor(re,he,q){super(re),this.keySelector=q,this.hasKey=!1,"function"==typeof he&&(this.compare=he)}compare(re,he){return re===he}_next(re){let he;try{const{keySelector:X}=this;he=X?X(re):re}catch(X){return this.destination.error(X)}let q=!1;if(this.hasKey)try{const{compare:X}=this;q=X(this.key,he)}catch(X){return this.destination.error(X)}else this.hasKey=!0;q||(this.key=he,this.destination.next(re))}}},5435:(pt,Me,M)=>{"use strict";M.d(Me,{h:()=>P});var b=M(7393);function P(ge,re){return function(q){return q.lift(new se(ge,re))}}class se{constructor(re,he){this.predicate=re,this.thisArg=he}call(re,he){return he.subscribe(new oe(re,this.predicate,this.thisArg))}}class oe extends b.L{constructor(re,he,q){super(re),this.predicate=he,this.thisArg=q,this.count=0}_next(re){let he;try{he=this.predicate.call(this.thisArg,re,this.count++)}catch(q){return void this.destination.error(q)}he&&this.destination.next(re)}}},8939:(pt,Me,M)=>{"use strict";M.d(Me,{x:()=>se});var b=M(7393),P=M(826);function se(re){return he=>he.lift(new oe(re))}class oe{constructor(he){this.callback=he}call(he,q){return q.subscribe(new ge(he,this.callback))}}class ge extends b.L{constructor(he,q){super(he),this.add(new P.w(q))}}},8049:(pt,Me,M)=>{"use strict";M.d(Me,{P:()=>he});var b=M(3410),P=M(5435),se=M(5257),oe=M(5242),ge=M(4635),re=M(4487);function he(q,X){const Y=arguments.length>=2;return ce=>ce.pipe(q?(0,P.h)((Q,fe)=>q(Q,fe,ce)):re.y,(0,se.q)(1),Y?(0,oe.d)(X):(0,ge.T)(()=>new b.K))}},304:(pt,Me,M)=>{"use strict";M.d(Me,{v:()=>ge,T:()=>X});var b=M(7393),P=M(826),se=M(9897),oe=M(9765);function ge(ce,Q,fe,_e){return Pe=>Pe.lift(new re(ce,Q,fe,_e))}class re{constructor(Q,fe,_e,Pe){this.keySelector=Q,this.elementSelector=fe,this.durationSelector=_e,this.subjectSelector=Pe}call(Q,fe){return fe.subscribe(new he(Q,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class he extends b.L{constructor(Q,fe,_e,Pe,qe){super(Q),this.keySelector=fe,this.elementSelector=_e,this.durationSelector=Pe,this.subjectSelector=qe,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(Q){let fe;try{fe=this.keySelector(Q)}catch(_e){return void this.error(_e)}this._group(Q,fe)}_group(Q,fe){let _e=this.groups;_e||(_e=this.groups=new Map);let qe,Pe=_e.get(fe);if(this.elementSelector)try{qe=this.elementSelector(Q)}catch(Je){this.error(Je)}else qe=Q;if(!Pe){Pe=this.subjectSelector?this.subjectSelector():new oe.xQ,_e.set(fe,Pe);const Je=new X(fe,Pe,this);if(this.destination.next(Je),this.durationSelector){let ye;try{ye=this.durationSelector(new X(fe,Pe))}catch(mt){return void this.error(mt)}this.add(ye.subscribe(new q(fe,Pe,this)))}}Pe.closed||Pe.next(qe)}_error(Q){const fe=this.groups;fe&&(fe.forEach((_e,Pe)=>{_e.error(Q)}),fe.clear()),this.destination.error(Q)}_complete(){const Q=this.groups;Q&&(Q.forEach((fe,_e)=>{fe.complete()}),Q.clear()),this.destination.complete()}removeGroup(Q){this.groups.delete(Q)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class q extends b.L{constructor(Q,fe,_e){super(fe),this.key=Q,this.group=fe,this.parent=_e}_next(Q){this.complete()}_unsubscribe(){const{parent:Q,key:fe}=this;this.key=this.parent=null,Q&&Q.removeGroup(fe)}}class X extends se.y{constructor(Q,fe,_e){super(),this.key=Q,this.groupSubject=fe,this.refCountSubscription=_e}_subscribe(Q){const fe=new P.w,{refCountSubscription:_e,groupSubject:Pe}=this;return _e&&!_e.closed&&fe.add(new Y(_e)),fe.add(Pe.subscribe(Q)),fe}}class Y extends P.w{constructor(Q){super(),this.parent=Q,Q.count++}unsubscribe(){const Q=this.parent;!Q.closed&&!this.closed&&(super.unsubscribe(),Q.count-=1,0===Q.count&&Q.attemptedToUnsubscribe&&Q.unsubscribe())}}},2627:(pt,Me,M)=>{"use strict";M.d(Me,{Z:()=>he});var b=M(3410),P=M(5435),se=M(548),oe=M(4635),ge=M(5242),re=M(4487);function he(q,X){const Y=arguments.length>=2;return ce=>ce.pipe(q?(0,P.h)((Q,fe)=>q(Q,fe,ce)):re.y,(0,se.h)(1),Y?(0,ge.d)(X):(0,oe.T)(()=>new b.K))}},8002:(pt,Me,M)=>{"use strict";M.d(Me,{U:()=>P});var b=M(7393);function P(ge,re){return function(q){if("function"!=typeof ge)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return q.lift(new se(ge,re))}}class se{constructor(re,he){this.project=re,this.thisArg=he}call(re,he){return he.subscribe(new oe(re,this.project,this.thisArg))}}class oe extends b.L{constructor(re,he,q){super(re),this.project=he,this.count=0,this.thisArg=q||this}_next(re){let he;try{he=this.project.call(this.thisArg,re,this.count++)}catch(q){return void this.destination.error(q)}this.destination.next(he)}}},3282:(pt,Me,M)=>{"use strict";M.d(Me,{J:()=>se});var b=M(9773),P=M(4487);function se(oe=Number.POSITIVE_INFINITY){return(0,b.zg)(P.y,oe)}},9773:(pt,Me,M)=>{"use strict";M.d(Me,{zg:()=>oe,VS:()=>he});var b=M(8002),P=M(9412),se=M(5345);function oe(q,X,Y=Number.POSITIVE_INFINITY){return"function"==typeof X?ce=>ce.pipe(oe((Q,fe)=>(0,P.D)(q(Q,fe)).pipe((0,b.U)((_e,Pe)=>X(Q,_e,fe,Pe))),Y)):("number"==typeof X&&(Y=X),ce=>ce.lift(new ge(q,Y)))}class ge{constructor(X,Y=Number.POSITIVE_INFINITY){this.project=X,this.concurrent=Y}call(X,Y){return Y.subscribe(new re(X,this.project,this.concurrent))}}class re extends se.Ds{constructor(X,Y,ce=Number.POSITIVE_INFINITY){super(X),this.project=Y,this.concurrent=ce,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(X){this.active<this.concurrent?this._tryNext(X):this.buffer.push(X)}_tryNext(X){let Y;const ce=this.index++;try{Y=this.project(X,ce)}catch(Q){return void this.destination.error(Q)}this.active++,this._innerSub(Y)}_innerSub(X){const Y=new se.IY(this),ce=this.destination;ce.add(Y);const Q=(0,se.ft)(X,Y);Q!==Y&&ce.add(Q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(X){this.destination.next(X)}notifyComplete(){const X=this.buffer;this.active--,X.length>0?this._next(X.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const he=oe},4458:(pt,Me,M)=>{"use strict";M.d(Me,{O:()=>P});var b=M(2441);function P(oe,ge){return function(he){let q;if(q="function"==typeof oe?oe:function(){return oe},"function"==typeof ge)return he.lift(new se(q,ge));const X=Object.create(he,b.N);return X.source=he,X.subjectFactory=q,X}}class se{constructor(ge,re){this.subjectFactory=ge,this.selector=re}call(ge,re){const{selector:he}=this,q=this.subjectFactory(),X=he(q).subscribe(ge);return X.add(re.subscribe(q)),X}}},9746:(pt,Me,M)=>{"use strict";M.d(Me,{QV:()=>se,ht:()=>ge});var b=M(7393),P=M(3098);function se(he,q=0){return function(Y){return Y.lift(new oe(he,q))}}class oe{constructor(q,X=0){this.scheduler=q,this.delay=X}call(q,X){return X.subscribe(new ge(q,this.scheduler,this.delay))}}class ge extends b.L{constructor(q,X,Y=0){super(q),this.scheduler=X,this.delay=Y}static dispatch(q){const{notification:X,destination:Y}=q;X.observe(Y),this.unsubscribe()}scheduleMessage(q){this.destination.add(this.scheduler.schedule(ge.dispatch,this.delay,new re(q,this.destination)))}_next(q){this.scheduleMessage(P.P.createNext(q))}_error(q){this.scheduleMessage(P.P.createError(q)),this.unsubscribe()}_complete(){this.scheduleMessage(P.P.createComplete()),this.unsubscribe()}}class re{constructor(q,X){this.notification=q,this.destination=X}}},9328:(pt,Me,M)=>{"use strict";M.d(Me,{G:()=>P});var b=M(7393);function P(){return ge=>ge.lift(new se)}class se{call(re,he){return he.subscribe(new oe(re))}}class oe extends b.L{constructor(re){super(re),this.hasPrev=!1}_next(re){let he;this.hasPrev?he=[this.prev,re]:this.hasPrev=!0,this.prev=re,he&&this.destination.next(he)}}},1307:(pt,Me,M)=>{"use strict";M.d(Me,{x:()=>P});var b=M(7393);function P(){return function(re){return re.lift(new se(re))}}class se{constructor(re){this.connectable=re}call(re,he){const{connectable:q}=this;q._refCount++;const X=new oe(re,q),Y=he.subscribe(X);return X.closed||(X.connection=q.connect()),Y}}class oe extends b.L{constructor(re,he){super(re),this.connectable=he}_unsubscribe(){const{connectable:re}=this;if(!re)return void(this.connection=null);this.connectable=null;const he=re._refCount;if(he<=0)return void(this.connection=null);if(re._refCount=he-1,he>1)return void(this.connection=null);const{connection:q}=this,X=re._connection;this.connection=null,X&&(!q||X===q)&&X.unsubscribe()}}},2145:(pt,Me,M)=>{"use strict";M.d(Me,{R:()=>P});var b=M(7393);function P(ge,re){let he=!1;return arguments.length>=2&&(he=!0),function(X){return X.lift(new se(ge,re,he))}}class se{constructor(re,he,q=!1){this.accumulator=re,this.seed=he,this.hasSeed=q}call(re,he){return he.subscribe(new oe(re,this.accumulator,this.seed,this.hasSeed))}}class oe extends b.L{constructor(re,he,q,X){super(re),this.accumulator=he,this._seed=q,this.hasSeed=X,this.index=0}get seed(){return this._seed}set seed(re){this.hasSeed=!0,this._seed=re}_next(re){if(this.hasSeed)return this._tryNext(re);this.seed=re,this.destination.next(re)}_tryNext(re){const he=this.index++;let q;try{q=this.accumulator(this.seed,re,he)}catch(X){this.destination.error(X)}this.seed=q,this.destination.next(q)}}},8345:(pt,Me,M)=>{"use strict";M.d(Me,{B:()=>ge});var b=M(4458),P=M(1307),se=M(9765);function oe(){return new se.xQ}function ge(){return re=>(0,P.x)()((0,b.O)(oe)(re))}},7349:(pt,Me,M)=>{"use strict";M.d(Me,{d:()=>P});var b=M(8229);function P(oe,ge,re){let he;return he=oe&&"object"==typeof oe?oe:{bufferSize:oe,windowTime:ge,refCount:!1,scheduler:re},q=>q.lift(function({bufferSize:oe=Number.POSITIVE_INFINITY,windowTime:ge=Number.POSITIVE_INFINITY,refCount:re,scheduler:he}){let q,Y,X=0,ce=!1,Q=!1;return function(_e){let Pe;X++,!q||ce?(ce=!1,q=new b.t(oe,ge,he),Pe=q.subscribe(this),Y=_e.subscribe({next(qe){q.next(qe)},error(qe){ce=!0,q.error(qe)},complete(){Q=!0,Y=void 0,q.complete()}}),Q&&(Y=void 0)):Pe=q.subscribe(this),this.add(()=>{X--,Pe.unsubscribe(),Pe=void 0,Y&&!Q&&re&&0===X&&(Y.unsubscribe(),Y=void 0,q=void 0)})}}(he))}},9761:(pt,Me,M)=>{"use strict";M.d(Me,{O:()=>se});var b=M(9923),P=M(4869);function se(...oe){const ge=oe[oe.length-1];return(0,P.K)(ge)?(oe.pop(),re=>(0,b.z)(oe,re,ge)):re=>(0,b.z)(oe,re)}},9673:(pt,Me,M)=>{"use strict";M.d(Me,{R:()=>ge});var b=M(9897),P=M(4581),se=M(6561);class oe extends b.y{constructor(q,X=0,Y=P.e){super(),this.source=q,this.delayTime=X,this.scheduler=Y,(!(0,se.k)(X)||X<0)&&(this.delayTime=0),(!Y||"function"!=typeof Y.schedule)&&(this.scheduler=P.e)}static create(q,X=0,Y=P.e){return new oe(q,X,Y)}static dispatch(q){const{source:X,subscriber:Y}=q;return this.add(X.subscribe(Y))}_subscribe(q){return this.scheduler.schedule(oe.dispatch,this.delayTime,{source:this.source,subscriber:q})}}function ge(he,q=0){return function(Y){return Y.lift(new re(he,q))}}class re{constructor(q,X){this.scheduler=q,this.delay=X}call(q,X){return new oe(X,this.delay,this.scheduler).subscribe(q)}}},3190:(pt,Me,M)=>{"use strict";M.d(Me,{w:()=>oe});var b=M(8002),P=M(9412),se=M(5345);function oe(he,q){return"function"==typeof q?X=>X.pipe(oe((Y,ce)=>(0,P.D)(he(Y,ce)).pipe((0,b.U)((Q,fe)=>q(Y,Q,ce,fe))))):X=>X.lift(new ge(he))}class ge{constructor(q){this.project=q}call(q,X){return X.subscribe(new re(q,this.project))}}class re extends se.Ds{constructor(q,X){super(q),this.project=X,this.index=0}_next(q){let X;const Y=this.index++;try{X=this.project(q,Y)}catch(ce){return void this.destination.error(ce)}this._innerSub(X)}_innerSub(q){const X=this.innerSubscription;X&&X.unsubscribe();const Y=new se.IY(this),ce=this.destination;ce.add(Y),this.innerSubscription=(0,se.ft)(q,Y),this.innerSubscription!==Y&&ce.add(this.innerSubscription)}_complete(){const{innerSubscription:q}=this;(!q||q.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(q){this.destination.next(q)}}},9499:(pt,Me,M)=>{"use strict";M.d(Me,{c:()=>P});var b=M(3190);function P(se,oe){return oe?(0,b.w)(()=>se,oe):(0,b.w)(()=>se)}},5257:(pt,Me,M)=>{"use strict";M.d(Me,{q:()=>oe});var b=M(7393),P=M(7108),se=M(9193);function oe(he){return q=>0===he?(0,se.c)():q.lift(new ge(he))}class ge{constructor(q){if(this.total=q,this.total<0)throw new P.W}call(q,X){return X.subscribe(new re(q,this.total))}}class re extends b.L{constructor(q,X){super(q),this.total=X,this.count=0}_next(q){const X=this.total,Y=++this.count;Y<=X&&(this.destination.next(q),Y===X&&(this.destination.complete(),this.unsubscribe()))}}},548:(pt,Me,M)=>{"use strict";M.d(Me,{h:()=>oe});var b=M(7393),P=M(7108),se=M(9193);function oe(he){return function(X){return 0===he?(0,se.c)():X.lift(new ge(he))}}class ge{constructor(q){if(this.total=q,this.total<0)throw new P.W}call(q,X){return X.subscribe(new re(q,this.total))}}class re extends b.L{constructor(q,X){super(q),this.total=X,this.ring=new Array,this.count=0}_next(q){const X=this.ring,Y=this.total,ce=this.count++;X.length<Y?X.push(q):X[ce%Y]=q}_complete(){const q=this.destination;let X=this.count;if(X>0){const Y=this.count>=this.total?this.total:this.count,ce=this.ring;for(let Q=0;Q<Y;Q++){const fe=X++%Y;q.next(ce[fe])}}q.complete()}}},8307:(pt,Me,M)=>{"use strict";M.d(Me,{b:()=>oe});var b=M(7393),P=M(8640),se=M(9105);function oe(he,q,X){return function(ce){return ce.lift(new ge(he,q,X))}}class ge{constructor(q,X,Y){this.nextOrObserver=q,this.error=X,this.complete=Y}call(q,X){return X.subscribe(new re(q,this.nextOrObserver,this.error,this.complete))}}class re extends b.L{constructor(q,X,Y,ce){super(q),this._tapNext=P.Z,this._tapError=P.Z,this._tapComplete=P.Z,this._tapError=Y||P.Z,this._tapComplete=ce||P.Z,(0,se.m)(X)?(this._context=this,this._tapNext=X):X&&(this._context=X,this._tapNext=X.next||P.Z,this._tapError=X.error||P.Z,this._tapComplete=X.complete||P.Z)}_next(q){try{this._tapNext.call(this._context,q)}catch(X){return void this.destination.error(X)}this.destination.next(q)}_error(q){try{this._tapError.call(this._context,q)}catch(X){return void this.destination.error(X)}this.destination.error(q)}_complete(){try{this._tapComplete.call(this._context)}catch(q){return void this.destination.error(q)}return this.destination.complete()}}},4635:(pt,Me,M)=>{"use strict";M.d(Me,{T:()=>se});var b=M(3410),P=M(7393);function se(he=re){return q=>q.lift(new oe(he))}class oe{constructor(q){this.errorFactory=q}call(q,X){return X.subscribe(new ge(q,this.errorFactory))}}class ge extends P.L{constructor(q,X){super(q),this.errorFactory=X,this.hasValue=!1}_next(q){this.hasValue=!0,this.destination.next(q)}_complete(){if(this.hasValue)return this.destination.complete();{let q;try{q=this.errorFactory()}catch(X){q=X}this.destination.error(q)}}}function re(){return new b.K}},4087:(pt,Me,M)=>{"use strict";M.d(Me,{r:()=>se});var b=M(9897),P=M(826);function se(oe,ge){return new b.y(re=>{const he=new P.w;let q=0;return he.add(ge.schedule(function(){q!==oe.length?(re.next(oe[q++]),re.closed||he.add(this.schedule())):re.complete()})),he})}},1115:(pt,Me,M)=>{"use strict";M.d(Me,{x:()=>fe});var b=M(9897),P=M(826),se=M(6554),re=M(4087),he=M(377),Y=M(4072),ce=M(9489);function fe(_e,Pe){if(null!=_e){if(function(_e){return _e&&"function"==typeof _e[se.L]}(_e))return function(_e,Pe){return new b.y(qe=>{const Je=new P.w;return Je.add(Pe.schedule(()=>{const ye=_e[se.L]();Je.add(ye.subscribe({next(mt){Je.add(Pe.schedule(()=>qe.next(mt)))},error(mt){Je.add(Pe.schedule(()=>qe.error(mt)))},complete(){Je.add(Pe.schedule(()=>qe.complete()))}}))})),Je})}(_e,Pe);if((0,Y.t)(_e))return function(_e,Pe){return new b.y(qe=>{const Je=new P.w;return Je.add(Pe.schedule(()=>_e.then(ye=>{Je.add(Pe.schedule(()=>{qe.next(ye),Je.add(Pe.schedule(()=>qe.complete()))}))},ye=>{Je.add(Pe.schedule(()=>qe.error(ye)))}))),Je})}(_e,Pe);if((0,ce.z)(_e))return(0,re.r)(_e,Pe);if(function(_e){return _e&&"function"==typeof _e[he.hZ]}(_e)||"string"==typeof _e)return function(_e,Pe){if(!_e)throw new Error("Iterable cannot be null");return new b.y(qe=>{const Je=new P.w;let ye;return Je.add(()=>{ye&&"function"==typeof ye.return&&ye.return()}),Je.add(Pe.schedule(()=>{ye=_e[he.hZ](),Je.add(Pe.schedule(function(){if(qe.closed)return;let mt,rn;try{const _t=ye.next();mt=_t.value,rn=_t.done}catch(_t){return void qe.error(_t)}rn?qe.complete():(qe.next(mt),this.schedule())}))})),Je})}(_e,Pe)}throw new TypeError((null!==_e&&typeof _e||_e)+" is not observable")}},6465:(pt,Me,M)=>{"use strict";M.d(Me,{o:()=>se});var b=M(826);class P extends b.w{constructor(ge,re){super()}schedule(ge,re=0){return this}}class se extends P{constructor(ge,re){super(ge,re),this.scheduler=ge,this.work=re,this.pending=!1}schedule(ge,re=0){if(this.closed)return this;this.state=ge;const he=this.id,q=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(q,he,re)),this.pending=!0,this.delay=re,this.id=this.id||this.requestAsyncId(q,this.id,re),this}requestAsyncId(ge,re,he=0){return setInterval(ge.flush.bind(ge,this),he)}recycleAsyncId(ge,re,he=0){if(null!==he&&this.delay===he&&!1===this.pending)return re;clearInterval(re)}execute(ge,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ge,re);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,re){let q,he=!1;try{this.work(ge)}catch(X){he=!0,q=!!X&&X||new Error(X)}if(he)return this.unsubscribe(),q}_unsubscribe(){const ge=this.id,re=this.scheduler,he=re.actions,q=he.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==q&&he.splice(q,1),null!=ge&&(this.id=this.recycleAsyncId(re,ge,null)),this.delay=null}}},4548:(pt,Me,M)=>{"use strict";M.d(Me,{v:()=>P});var b=M(2217);class P extends b.b{constructor(oe,ge=b.b.now){super(oe,()=>P.delegate&&P.delegate!==this?P.delegate.now():ge()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(oe,ge=0,re){return P.delegate&&P.delegate!==this?P.delegate.schedule(oe,ge,re):super.schedule(oe,ge,re)}flush(oe){const{actions:ge}=this;if(this.active)return void ge.push(oe);let re;this.active=!0;do{if(re=oe.execute(oe.state,oe.delay))break}while(oe=ge.shift());if(this.active=!1,re){for(;oe=ge.shift();)oe.unsubscribe();throw re}}}},4581:(pt,Me,M)=>{"use strict";M.d(Me,{e:()=>Q,E:()=>ce});let b=1;const P=Promise.resolve(),se={};function oe(fe){return fe in se&&(delete se[fe],!0)}const ge={setImmediate(fe){const _e=b++;return se[_e]=!0,P.then(()=>oe(_e)&&fe()),_e},clearImmediate(fe){oe(fe)}};var he=M(6465),X=M(4548);const ce=new class extends X.v{flush(_e){this.active=!0,this.scheduled=void 0;const{actions:Pe}=this;let qe,Je=-1,ye=Pe.length;_e=_e||Pe.shift();do{if(qe=_e.execute(_e.state,_e.delay))break}while(++Je<ye&&(_e=Pe.shift()));if(this.active=!1,qe){for(;++Je<ye&&(_e=Pe.shift());)_e.unsubscribe();throw qe}}}(class extends he.o{constructor(_e,Pe){super(_e,Pe),this.scheduler=_e,this.work=Pe}requestAsyncId(_e,Pe,qe=0){return null!==qe&&qe>0?super.requestAsyncId(_e,Pe,qe):(_e.actions.push(this),_e.scheduled||(_e.scheduled=ge.setImmediate(_e.flush.bind(_e,null))))}recycleAsyncId(_e,Pe,qe=0){if(null!==qe&&qe>0||null===qe&&this.delay>0)return super.recycleAsyncId(_e,Pe,qe);0===_e.actions.length&&(ge.clearImmediate(Pe),_e.scheduled=void 0)}}),Q=ce},3637:(pt,Me,M)=>{"use strict";M.d(Me,{z:()=>se,P:()=>oe});var b=M(6465);const se=new(M(4548).v)(b.o),oe=se},7771:(pt,Me,M)=>{"use strict";M.d(Me,{c:()=>re,N:()=>ge});var b=M(6465),se=M(4548);const ge=new class extends se.v{}(class extends b.o{constructor(q,X){super(q,X),this.scheduler=q,this.work=X}schedule(q,X=0){return X>0?super.schedule(q,X):(this.delay=X,this.state=q,this.scheduler.flush(this),this)}execute(q,X){return X>0||this.closed?super.execute(q,X):this._execute(q,X)}requestAsyncId(q,X,Y=0){return null!==Y&&Y>0||null===Y&&this.delay>0?super.requestAsyncId(q,X,Y):q.flush(this)}}),re=ge},377:(pt,Me,M)=>{"use strict";M.d(Me,{hZ:()=>P});const P="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(pt,Me,M)=>{"use strict";M.d(Me,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(pt,Me,M)=>{"use strict";M.d(Me,{b:()=>b});const b="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(pt,Me,M)=>{"use strict";M.d(Me,{W:()=>P});const P=(()=>{function se(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return se.prototype=Object.create(Error.prototype),se})()},3410:(pt,Me,M)=>{"use strict";M.d(Me,{K:()=>P});const P=(()=>{function se(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return se.prototype=Object.create(Error.prototype),se})()},7971:(pt,Me,M)=>{"use strict";M.d(Me,{N:()=>P});const P=(()=>{function se(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return se.prototype=Object.create(Error.prototype),se})()},5587:(pt,Me,M)=>{"use strict";M.d(Me,{W:()=>P});const P=(()=>{function se(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return se.prototype=Object.create(Error.prototype),se})()},7744:(pt,Me,M)=>{"use strict";M.d(Me,{B:()=>P});const P=(()=>{function se(oe){return Error.call(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((ge,re)=>`${re+1}) ${ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe,this}return se.prototype=Object.create(Error.prototype),se})()},3179:(pt,Me,M)=>{"use strict";M.d(Me,{_:()=>P});var b=M(7393);function P(se){for(;se;){const{closed:oe,destination:ge,isStopped:re}=se;if(oe||re)return!1;se=ge&&ge instanceof b.L?ge:null}return!0}},4449:(pt,Me,M)=>{"use strict";function b(P){setTimeout(()=>{throw P},0)}M.d(Me,{z:()=>b})},4487:(pt,Me,M)=>{"use strict";function b(P){return P}M.d(Me,{y:()=>b})},9796:(pt,Me,M)=>{"use strict";M.d(Me,{k:()=>b});const b=Array.isArray||(P=>P&&"number"==typeof P.length)},9489:(pt,Me,M)=>{"use strict";M.d(Me,{z:()=>b});const b=P=>P&&"number"==typeof P.length&&"function"!=typeof P},9105:(pt,Me,M)=>{"use strict";function b(P){return"function"==typeof P}M.d(Me,{m:()=>b})},6561:(pt,Me,M)=>{"use strict";M.d(Me,{k:()=>P});var b=M(9796);function P(se){return!(0,b.k)(se)&&se-parseFloat(se)+1>=0}},1555:(pt,Me,M)=>{"use strict";function b(P){return null!==P&&"object"==typeof P}M.d(Me,{K:()=>b})},4072:(pt,Me,M)=>{"use strict";function b(P){return!!P&&"function"!=typeof P.subscribe&&"function"==typeof P.then}M.d(Me,{t:()=>b})},4869:(pt,Me,M)=>{"use strict";function b(P){return P&&"function"==typeof P.schedule}M.d(Me,{K:()=>b})},8640:(pt,Me,M)=>{"use strict";function b(){}M.d(Me,{Z:()=>b})},9264:(pt,Me,M)=>{"use strict";function b(P,se){function oe(){return!oe.pred.apply(oe.thisArg,arguments)}return oe.pred=P,oe.thisArg=se,oe}M.d(Me,{f:()=>b})},4022:(pt,Me,M)=>{"use strict";M.d(Me,{z:()=>P,U:()=>se});var b=M(4487);function P(...oe){return se(oe)}function se(oe){return 0===oe.length?b.y:1===oe.length?oe[0]:function(re){return oe.reduce((he,q)=>q(he),re)}}},7444:(pt,Me,M)=>{"use strict";M.d(Me,{s:()=>ce});var b=M(5015),P=M(4449),oe=M(377),re=M(6554),q=M(9489),X=M(4072),Y=M(1555);const ce=Q=>{if(Q&&"function"==typeof Q[re.L])return(Q=>fe=>{const _e=Q[re.L]();if("function"!=typeof _e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return _e.subscribe(fe)})(Q);if((0,q.z)(Q))return(0,b.V)(Q);if((0,X.t)(Q))return(Q=>fe=>(Q.then(_e=>{fe.closed||(fe.next(_e),fe.complete())},_e=>fe.error(_e)).then(null,P.z),fe))(Q);if(Q&&"function"==typeof Q[oe.hZ])return(Q=>fe=>{const _e=Q[oe.hZ]();for(;;){let Pe;try{Pe=_e.next()}catch(qe){return fe.error(qe),fe}if(Pe.done){fe.complete();break}if(fe.next(Pe.value),fe.closed)break}return"function"==typeof _e.return&&fe.add(()=>{_e.return&&_e.return()}),fe})(Q);{const _e=`You provided ${(0,Y.K)(Q)?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(_e)}}},5015:(pt,Me,M)=>{"use strict";M.d(Me,{V:()=>b});const b=P=>se=>{for(let oe=0,ge=P.length;oe<ge&&!se.closed;oe++)se.next(P[oe]);se.complete()}},509:(pt,Me,M)=>{"use strict";M.d(Me,{D:()=>ge});var b=M(7393);class P extends b.L{constructor(he,q,X){super(),this.parent=he,this.outerValue=q,this.outerIndex=X,this.index=0}_next(he){this.parent.notifyNext(this.outerValue,he,this.outerIndex,this.index++,this)}_error(he){this.parent.notifyError(he,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var se=M(7444),oe=M(9897);function ge(re,he,q,X,Y=new P(re,q,X)){if(!Y.closed)return he instanceof oe.y?he.subscribe(Y):(0,se.s)(he)(Y)}},9916:(pt,Me,M)=>{"use strict";M.r(Me),M.d(Me,{audit:()=>P,auditTime:()=>he,buffer:()=>q,bufferCount:()=>Q,bufferTime:()=>Je,bufferToggle:()=>Ae,bufferWhen:()=>Ye,catchError:()=>bt.K,combineAll:()=>Rn,combineLatest:()=>tr,concat:()=>En,concatAll:()=>sn.u,concatMap:()=>hr.b,concatMapTo:()=>Bn,count:()=>qn,debounce:()=>Un,debounceTime:()=>fr,defaultIfEmpty:()=>gn.d,delay:()=>Ke,delayWhen:()=>Ot,dematerialize:()=>xr,distinct:()=>Nn,distinctUntilChanged:()=>be.x,distinctUntilKeyChanged:()=>ke,elementAt:()=>mn,endWith:()=>hn,every:()=>Er,exhaust:()=>Qe,exhaustMap:()=>Wt,expand:()=>kn,filter:()=>Ue.h,finalize:()=>wi.x,find:()=>ui,findIndex:()=>yn,first:()=>zr.P,flatMap:()=>ci.VS,groupBy:()=>nr.v,ignoreElements:()=>Fn,isEmpty:()=>eo,last:()=>Qi.Z,map:()=>wt.U,mapTo:()=>ei,materialize:()=>jr,max:()=>gs,merge:()=>li,mergeAll:()=>pi.J,mergeMap:()=>ci.zg,mergeMapTo:()=>Pr,mergeScan:()=>no,min:()=>jn,multicast:()=>mi.O,observeOn:()=>yi.QV,onErrorResumeNext:()=>gr,pairwise:()=>rs.G,partition:()=>Lr,pluck:()=>No,publish:()=>la,publishBehavior:()=>Ii,publishLast:()=>ji,publishReplay:()=>Po,race:()=>Ri,reduce:()=>ps,refCount:()=>W.x,repeat:()=>ni,repeatWhen:()=>$s,retry:()=>Zr,retryWhen:()=>Hi,sample:()=>j,sampleTime:()=>Xe,scan:()=>Hr.R,sequenceEqual:()=>fi,share:()=>H.B,shareReplay:()=>ie.d,single:()=>tt,skip:()=>On,skipLast:()=>wn,skipUntil:()=>ri,skipWhile:()=>Ns,startWith:()=>Fo.O,subscribeOn:()=>ca.R,switchAll:()=>da,switchMap:()=>go.w,switchMapTo:()=>Ka.c,take:()=>At.q,takeLast:()=>Wn.h,takeUntil:()=>ha,takeWhile:()=>qa,tap:()=>Lo.b,throttle:()=>oo,throttleTime:()=>Sa,throwIfEmpty:()=>Tt.T,timeInterval:()=>fa,timeout:()=>qo,timeoutWith:()=>Aa,timestamp:()=>mo,toArray:()=>ku,window:()=>zs,windowCount:()=>lo,windowTime:()=>_o,windowToggle:()=>ga,windowWhen:()=>Ra,withLatestFrom:()=>ss,zip:()=>os,zipAll:()=>bs});var b=M(5345);function P(ue){return function(F){return F.lift(new se(ue))}}class se{constructor(I){this.durationSelector=I}call(I,F){return F.subscribe(new oe(I,this.durationSelector))}}class oe extends b.Ds{constructor(I,F){super(I),this.durationSelector=F,this.hasValue=!1}_next(I){if(this.value=I,this.hasValue=!0,!this.throttled){let F;try{const{durationSelector:Be}=this;F=Be(I)}catch(Be){return this.destination.error(Be)}const de=(0,b.ft)(F,new b.IY(this));!de||de.closed?this.clearThrottle():this.add(this.throttled=de)}}clearThrottle(){const{value:I,hasValue:F,throttled:de}=this;de&&(this.remove(de),this.throttled=void 0,de.unsubscribe()),F&&(this.value=void 0,this.hasValue=!1,this.destination.next(I))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var ge=M(3637),re=M(6797);function he(ue,I=ge.P){return P(()=>(0,re.H)(ue,I))}function q(ue){return function(F){return F.lift(new X(ue))}}class X{constructor(I){this.closingNotifier=I}call(I,F){return F.subscribe(new Y(I,this.closingNotifier))}}class Y extends b.Ds{constructor(I,F){super(I),this.buffer=[],this.add((0,b.ft)(F,new b.IY(this)))}_next(I){this.buffer.push(I)}notifyNext(){const I=this.buffer;this.buffer=[],this.destination.next(I)}}var ce=M(7393);function Q(ue,I=null){return function(de){return de.lift(new fe(ue,I))}}class fe{constructor(I,F){this.bufferSize=I,this.startBufferEvery=F,this.subscriberClass=F&&I!==F?Pe:_e}call(I,F){return F.subscribe(new this.subscriberClass(I,this.bufferSize,this.startBufferEvery))}}class _e extends ce.L{constructor(I,F){super(I),this.bufferSize=F,this.buffer=[]}_next(I){const F=this.buffer;F.push(I),F.length==this.bufferSize&&(this.destination.next(F),this.buffer=[])}_complete(){const I=this.buffer;I.length>0&&this.destination.next(I),super._complete()}}class Pe extends ce.L{constructor(I,F,de){super(I),this.bufferSize=F,this.startBufferEvery=de,this.buffers=[],this.count=0}_next(I){const{bufferSize:F,startBufferEvery:de,buffers:Be,count:dt}=this;this.count++,dt%de==0&&Be.push([]);for(let en=Be.length;en--;){const br=Be[en];br.push(I),br.length===F&&(Be.splice(en,1),this.destination.next(br))}}_complete(){const{buffers:I,destination:F}=this;for(;I.length>0;){let de=I.shift();de.length>0&&F.next(de)}super._complete()}}var qe=M(4869);function Je(ue){let I=arguments.length,F=ge.P;(0,qe.K)(arguments[arguments.length-1])&&(F=arguments[arguments.length-1],I--);let de=null;I>=2&&(de=arguments[1]);let Be=Number.POSITIVE_INFINITY;return I>=3&&(Be=arguments[2]),function(en){return en.lift(new ye(ue,de,Be,F))}}class ye{constructor(I,F,de,Be){this.bufferTimeSpan=I,this.bufferCreationInterval=F,this.maxBufferSize=de,this.scheduler=Be}call(I,F){return F.subscribe(new rn(I,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class mt{constructor(){this.buffer=[]}}class rn extends ce.L{constructor(I,F,de,Be,dt){super(I),this.bufferTimeSpan=F,this.bufferCreationInterval=de,this.maxBufferSize=Be,this.scheduler=dt,this.contexts=[];const en=this.openContext();if(this.timespanOnly=null==de||de<0,this.timespanOnly)this.add(en.closeAction=dt.schedule(_t,F,{subscriber:this,context:en,bufferTimeSpan:F}));else{const Ur={bufferTimeSpan:F,bufferCreationInterval:de,subscriber:this,scheduler:dt};this.add(en.closeAction=dt.schedule(jt,F,{subscriber:this,context:en})),this.add(dt.schedule(Ge,de,Ur))}}_next(I){const F=this.contexts,de=F.length;let Be;for(let dt=0;dt<de;dt++){const en=F[dt],br=en.buffer;br.push(I),br.length==this.maxBufferSize&&(Be=en)}Be&&this.onBufferFull(Be)}_error(I){this.contexts.length=0,super._error(I)}_complete(){const{contexts:I,destination:F}=this;for(;I.length>0;){const de=I.shift();F.next(de.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(I){this.closeContext(I);const F=I.closeAction;if(F.unsubscribe(),this.remove(F),!this.closed&&this.timespanOnly){I=this.openContext();const de=this.bufferTimeSpan;this.add(I.closeAction=this.scheduler.schedule(_t,de,{subscriber:this,context:I,bufferTimeSpan:de}))}}openContext(){const I=new mt;return this.contexts.push(I),I}closeContext(I){this.destination.next(I.buffer);const F=this.contexts;(F?F.indexOf(I):-1)>=0&&F.splice(F.indexOf(I),1)}}function _t(ue){const I=ue.subscriber,F=ue.context;F&&I.closeContext(F),I.closed||(ue.context=I.openContext(),ue.context.closeAction=this.schedule(ue,ue.bufferTimeSpan))}function Ge(ue){const{bufferCreationInterval:I,bufferTimeSpan:F,subscriber:de,scheduler:Be}=ue,dt=de.openContext();de.closed||(de.add(dt.closeAction=Be.schedule(jt,F,{subscriber:de,context:dt})),this.schedule(ue,I))}function jt(ue){const{subscriber:I,context:F}=ue;I.closeContext(F)}var $e=M(826),Nt=M(509),St=M(5197);function Ae(ue,I){return function(de){return de.lift(new He(ue,I))}}class He{constructor(I,F){this.openings=I,this.closingSelector=F}call(I,F){return F.subscribe(new Re(I,this.openings,this.closingSelector))}}class Re extends St.L{constructor(I,F,de){super(I),this.closingSelector=de,this.contexts=[],this.add((0,Nt.D)(this,F))}_next(I){const F=this.contexts,de=F.length;for(let Be=0;Be<de;Be++)F[Be].buffer.push(I)}_error(I){const F=this.contexts;for(;F.length>0;){const de=F.shift();de.subscription.unsubscribe(),de.buffer=null,de.subscription=null}this.contexts=null,super._error(I)}_complete(){const I=this.contexts;for(;I.length>0;){const F=I.shift();this.destination.next(F.buffer),F.subscription.unsubscribe(),F.buffer=null,F.subscription=null}this.contexts=null,super._complete()}notifyNext(I,F){I?this.closeBuffer(I):this.openBuffer(F)}notifyComplete(I){this.closeBuffer(I.context)}openBuffer(I){try{const de=this.closingSelector.call(this,I);de&&this.trySubscribe(de)}catch(F){this._error(F)}}closeBuffer(I){const F=this.contexts;if(F&&I){const{buffer:de,subscription:Be}=I;this.destination.next(de),F.splice(F.indexOf(I),1),this.remove(Be),Be.unsubscribe()}}trySubscribe(I){const F=this.contexts,Be=new $e.w,dt={buffer:[],subscription:Be};F.push(dt);const en=(0,Nt.D)(this,I,dt);!en||en.closed?this.closeBuffer(dt):(en.context=dt,this.add(en),Be.add(en))}}function Ye(ue){return function(I){return I.lift(new Ze(ue))}}class Ze{constructor(I){this.closingSelector=I}call(I,F){return F.subscribe(new Ne(I,this.closingSelector))}}class Ne extends b.Ds{constructor(I,F){super(I),this.closingSelector=F,this.subscribing=!1,this.openBuffer()}_next(I){this.buffer.push(I)}_complete(){const I=this.buffer;I&&this.destination.next(I),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let de,{closingSubscription:I}=this;I&&(this.remove(I),I.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:Be}=this;de=Be()}catch(Be){return this.error(Be)}I=new $e.w,this.closingSubscription=I,this.add(I),this.subscribing=!0,I.add((0,b.ft)(de,new b.IY(this))),this.subscribing=!1}}var bt=M(5304),Gt=M(9112);function Rn(ue){return I=>I.lift(new Gt.Ms(ue))}var Ht=M(9796),Xt=M(9412);function tr(...ue){let I=null;return"function"==typeof ue[ue.length-1]&&(I=ue.pop()),1===ue.length&&(0,Ht.k)(ue[0])&&(ue=ue[0].slice()),F=>F.lift.call((0,Xt.D)([F,...ue]),new Gt.Ms(I))}var Jn=M(9923);function En(...ue){return I=>I.lift.call((0,Jn.z)(I,...ue))}var sn=M(5766),hr=M(4612);function Bn(ue,I){return(0,hr.b)(()=>ue,I)}function qn(ue){return I=>I.lift(new dn(ue,I))}class dn{constructor(I,F){this.predicate=I,this.source=F}call(I,F){return F.subscribe(new $t(I,this.predicate,this.source))}}class $t extends ce.L{constructor(I,F,de){super(I),this.predicate=F,this.source=de,this.count=0,this.index=0}_next(I){this.predicate?this._tryPredicate(I):this.count++}_tryPredicate(I){let F;try{F=this.predicate(I,this.index++,this.source)}catch(de){return void this.destination.error(de)}F&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function Un(ue){return I=>I.lift(new vr(ue))}class vr{constructor(I){this.durationSelector=I}call(I,F){return F.subscribe(new Ar(I,this.durationSelector))}}class Ar extends b.Ds{constructor(I,F){super(I),this.durationSelector=F,this.hasValue=!1}_next(I){try{const F=this.durationSelector.call(this,I);F&&this._tryNext(I,F)}catch(F){this.destination.error(F)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(I,F){let de=this.durationSubscription;this.value=I,this.hasValue=!0,de&&(de.unsubscribe(),this.remove(de)),de=(0,b.ft)(F,new b.IY(this)),de&&!de.closed&&this.add(this.durationSubscription=de)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const I=this.value,F=this.durationSubscription;F&&(this.durationSubscription=void 0,F.unsubscribe(),this.remove(F)),this.value=void 0,this.hasValue=!1,super._next(I)}}}function fr(ue,I=ge.P){return F=>F.lift(new Yi(ue,I))}class Yi{constructor(I,F){this.dueTime=I,this.scheduler=F}call(I,F){return F.subscribe(new yr(I,this.dueTime,this.scheduler))}}class yr extends ce.L{constructor(I,F,de){super(I),this.dueTime=F,this.scheduler=de,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(I){this.clearDebounce(),this.lastValue=I,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(zt,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:I}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(I)}}clearDebounce(){const I=this.debouncedSubscription;null!==I&&(this.remove(I),I.unsubscribe(),this.debouncedSubscription=null)}}function zt(ue){ue.debouncedNext()}var gn=M(5242);function Gr(ue){return ue instanceof Date&&!isNaN(+ue)}var ur=M(3098);function Ke(ue,I=ge.P){const de=Gr(ue)?+ue-I.now():Math.abs(ue);return Be=>Be.lift(new we(de,I))}class we{constructor(I,F){this.delay=I,this.scheduler=F}call(I,F){return F.subscribe(new Ce(I,this.delay,this.scheduler))}}class Ce extends ce.L{constructor(I,F,de){super(I),this.delay=F,this.scheduler=de,this.queue=[],this.active=!1,this.errored=!1}static dispatch(I){const F=I.source,de=F.queue,Be=I.scheduler,dt=I.destination;for(;de.length>0&&de[0].time-Be.now()<=0;)de.shift().notification.observe(dt);if(de.length>0){const en=Math.max(0,de[0].time-Be.now());this.schedule(I,en)}else this.unsubscribe(),F.active=!1}_schedule(I){this.active=!0,this.destination.add(I.schedule(Ce.dispatch,this.delay,{source:this,destination:this.destination,scheduler:I}))}scheduleNotification(I){if(!0===this.errored)return;const F=this.scheduler,de=new et(F.now()+this.delay,I);this.queue.push(de),!1===this.active&&this._schedule(F)}_next(I){this.scheduleNotification(ur.P.createNext(I))}_error(I){this.errored=!0,this.queue=[],this.destination.error(I),this.unsubscribe()}_complete(){this.scheduleNotification(ur.P.createComplete()),this.unsubscribe()}}class et{constructor(I,F){this.time=I,this.notification=F}}var ht=M(9897);function Ot(ue,I){return I?F=>new Sn(F,I).lift(new ft(ue)):F=>F.lift(new ft(ue))}class ft{constructor(I){this.delayDurationSelector=I}call(I,F){return F.subscribe(new Rt(I,this.delayDurationSelector))}}class Rt extends St.L{constructor(I,F){super(I),this.delayDurationSelector=F,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(I,F,de,Be,dt){this.destination.next(I),this.removeSubscription(dt),this.tryComplete()}notifyError(I,F){this._error(I)}notifyComplete(I){const F=this.removeSubscription(I);F&&this.destination.next(F),this.tryComplete()}_next(I){const F=this.index++;try{const de=this.delayDurationSelector(I,F);de&&this.tryDelay(de,I)}catch(de){this.destination.error(de)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(I){I.unsubscribe();const F=this.delayNotifierSubscriptions.indexOf(I);return-1!==F&&this.delayNotifierSubscriptions.splice(F,1),I.outerValue}tryDelay(I,F){const de=(0,Nt.D)(this,I,F);de&&!de.closed&&(this.destination.add(de),this.delayNotifierSubscriptions.push(de))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class Sn extends ht.y{constructor(I,F){super(),this.source=I,this.subscriptionDelay=F}_subscribe(I){this.subscriptionDelay.subscribe(new Ir(I,this.source))}}class Ir extends ce.L{constructor(I,F){super(),this.parent=I,this.source=F,this.sourceSubscribed=!1}_next(I){this.subscribeToSource()}_error(I){this.unsubscribe(),this.parent.error(I)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function xr(){return function(I){return I.lift(new In)}}class In{call(I,F){return F.subscribe(new Dr(I))}}class Dr extends ce.L{constructor(I){super(I)}_next(I){I.observe(this.destination)}}function Nn(ue,I){return F=>F.lift(new Qt(ue,I))}class Qt{constructor(I,F){this.keySelector=I,this.flushes=F}call(I,F){return F.subscribe(new Ee(I,this.keySelector,this.flushes))}}class Ee extends b.Ds{constructor(I,F,de){super(I),this.keySelector=F,this.values=new Set,de&&this.add((0,b.ft)(de,new b.IY(this)))}notifyNext(){this.values.clear()}notifyError(I){this._error(I)}_next(I){this.keySelector?this._useKeySelector(I):this._finalizeNext(I,I)}_useKeySelector(I){let F;const{destination:de}=this;try{F=this.keySelector(I)}catch(Be){return void de.error(Be)}this._finalizeNext(F,I)}_finalizeNext(I,F){const{values:de}=this;de.has(I)||(de.add(I),this.destination.next(F))}}var be=M(7519);function ke(ue,I){return(0,be.x)((F,de)=>I?I(F[ue],de[ue]):F[ue]===de[ue])}var We=M(7108),Ue=M(5435),Tt=M(4635),At=M(5257);function mn(ue,I){if(ue<0)throw new We.W;const F=arguments.length>=2;return de=>de.pipe((0,Ue.h)((Be,dt)=>dt===ue),(0,At.q)(1),F?(0,gn.d)(I):(0,Tt.T)(()=>new We.W))}var An=M(5917);function hn(...ue){return I=>(0,Jn.z)(I,(0,An.of)(...ue))}function Er(ue,I){return F=>F.lift(new Nr(ue,I,F))}class Nr{constructor(I,F,de){this.predicate=I,this.thisArg=F,this.source=de}call(I,F){return F.subscribe(new nt(I,this.predicate,this.thisArg,this.source))}}class nt extends ce.L{constructor(I,F,de,Be){super(I),this.predicate=F,this.thisArg=de,this.source=Be,this.index=0,this.thisArg=de||this}notifyComplete(I){this.destination.next(I),this.destination.complete()}_next(I){let F=!1;try{F=this.predicate.call(this.thisArg,I,this.index++,this.source)}catch(de){return void this.destination.error(de)}F||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Qe(){return ue=>ue.lift(new rt)}class rt{call(I,F){return F.subscribe(new Ct(I))}}class Ct extends b.Ds{constructor(I){super(I),this.hasCompleted=!1,this.hasSubscription=!1}_next(I){this.hasSubscription||(this.hasSubscription=!0,this.add((0,b.ft)(I,new b.IY(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var wt=M(8002);function Wt(ue,I){return I?F=>F.pipe(Wt((de,Be)=>(0,Xt.D)(ue(de,Be)).pipe((0,wt.U)((dt,en)=>I(de,dt,Be,en))))):F=>F.lift(new xn(ue))}class xn{constructor(I){this.project=I}call(I,F){return F.subscribe(new Yt(I,this.project))}}class Yt extends b.Ds{constructor(I,F){super(I),this.project=F,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(I){this.hasSubscription||this.tryNext(I)}tryNext(I){let F;const de=this.index++;try{F=this.project(I,de)}catch(Be){return void this.destination.error(Be)}this.hasSubscription=!0,this._innerSub(F)}_innerSub(I){const F=new b.IY(this),de=this.destination;de.add(F);const Be=(0,b.ft)(I,F);Be!==F&&de.add(Be)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(I){this.destination.next(I)}notifyError(I){this.destination.error(I)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function kn(ue,I=Number.POSITIVE_INFINITY,F){return I=(I||0)<1?Number.POSITIVE_INFINITY:I,de=>de.lift(new Dn(ue,I,F))}class Dn{constructor(I,F,de){this.project=I,this.concurrent=F,this.scheduler=de}call(I,F){return F.subscribe(new $n(I,this.project,this.concurrent,this.scheduler))}}class $n extends b.Ds{constructor(I,F,de,Be){super(I),this.project=F,this.concurrent=de,this.scheduler=Be,this.index=0,this.active=0,this.hasCompleted=!1,de<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(I){const{subscriber:F,result:de,value:Be,index:dt}=I;F.subscribeToProjection(de,Be,dt)}_next(I){const F=this.destination;if(F.closed)return void this._complete();const de=this.index++;if(this.active<this.concurrent){F.next(I);try{const{project:Be}=this,dt=Be(I,de);this.scheduler?this.destination.add(this.scheduler.schedule($n.dispatch,0,{subscriber:this,result:dt,value:I,index:de})):this.subscribeToProjection(dt,I,de)}catch(Be){F.error(Be)}}else this.buffer.push(I)}subscribeToProjection(I,F,de){this.active++,this.destination.add((0,b.ft)(I,new b.IY(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(I){this._next(I)}notifyComplete(){const I=this.buffer;this.active--,I&&I.length>0&&this._next(I.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var wi=M(8939);function ui(ue,I){if("function"!=typeof ue)throw new TypeError("predicate is not a function");return F=>F.lift(new Vt(ue,F,!1,I))}class Vt{constructor(I,F,de,Be){this.predicate=I,this.source=F,this.yieldIndex=de,this.thisArg=Be}call(I,F){return F.subscribe(new Pn(I,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class Pn extends ce.L{constructor(I,F,de,Be,dt){super(I),this.predicate=F,this.source=de,this.yieldIndex=Be,this.thisArg=dt,this.index=0}notifyComplete(I){const F=this.destination;F.next(I),F.complete(),this.unsubscribe()}_next(I){const{predicate:F,thisArg:de}=this,Be=this.index++;try{F.call(de||this,I,Be,this.source)&&this.notifyComplete(this.yieldIndex?Be:I)}catch(dt){this.destination.error(dt)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function yn(ue,I){return F=>F.lift(new Vt(ue,F,!0,I))}var zr=M(8049),nr=M(304);function Fn(){return function(I){return I.lift(new Ci)}}class Ci{call(I,F){return F.subscribe(new Tr(I))}}class Tr extends ce.L{_next(I){}}function eo(){return ue=>ue.lift(new Kr)}class Kr{call(I,F){return F.subscribe(new bn(I))}}class bn extends ce.L{constructor(I){super(I)}notifyComplete(I){const F=this.destination;F.next(I),F.complete()}_next(I){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var Qi=M(2627);function ei(ue){return I=>I.lift(new Vi(ue))}class Vi{constructor(I){this.value=I}call(I,F){return F.subscribe(new hs(I,this.value))}}class hs extends ce.L{constructor(I,F){super(I),this.value=F}_next(I){this.destination.next(this.value)}}function jr(){return function(I){return I.lift(new Ui)}}class Ui{call(I,F){return F.subscribe(new Bi(I))}}class Bi extends ce.L{constructor(I){super(I)}_next(I){this.destination.next(ur.P.createNext(I))}_error(I){const F=this.destination;F.next(ur.P.createError(I)),F.complete()}_complete(){const I=this.destination;I.next(ur.P.createComplete()),I.complete()}}var Hr=M(2145),Wn=M(548),fs=M(4022);function ps(ue,I){return arguments.length>=2?function(de){return(0,fs.z)((0,Hr.R)(ue,I),(0,Wn.h)(1),(0,gn.d)(I))(de)}:function(de){return(0,fs.z)((0,Hr.R)((Be,dt,en)=>ue(Be,dt,en+1)),(0,Wn.h)(1))(de)}}function gs(ue){return ps("function"==typeof ue?(F,de)=>ue(F,de)>0?F:de:(F,de)=>F>de?F:de)}var to=M(6682);function li(...ue){return I=>I.lift.call((0,to.T)(I,...ue))}var pi=M(3282),ci=M(9773);function Pr(ue,I,F=Number.POSITIVE_INFINITY){return"function"==typeof I?(0,ci.zg)(()=>ue,I,F):("number"==typeof I&&(F=I),(0,ci.zg)(()=>ue,F))}function no(ue,I,F=Number.POSITIVE_INFINITY){return de=>de.lift(new Oi(ue,I,F))}class Oi{constructor(I,F,de){this.accumulator=I,this.seed=F,this.concurrent=de}call(I,F){return F.subscribe(new gi(I,this.accumulator,this.seed,this.concurrent))}}class gi extends b.Ds{constructor(I,F,de,Be){super(I),this.accumulator=F,this.acc=de,this.concurrent=Be,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(I){if(this.active<this.concurrent){const F=this.index++,de=this.destination;let Be;try{const{accumulator:dt}=this;Be=dt(this.acc,I,F)}catch(dt){return de.error(dt)}this.active++,this._innerSub(Be)}else this.buffer.push(I)}_innerSub(I){const F=new b.IY(this),de=this.destination;de.add(F);const Be=(0,b.ft)(I,F);Be!==F&&de.add(Be)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(I){const{destination:F}=this;this.acc=I,this.hasValue=!0,F.next(I)}notifyComplete(){const I=this.buffer;this.active--,I.length>0?this._next(I.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function jn(ue){return ps("function"==typeof ue?(F,de)=>ue(F,de)<0?F:de:(F,de)=>F<de?F:de)}var mi=M(4458),yi=M(9746);function gr(...ue){return 1===ue.length&&(0,Ht.k)(ue[0])&&(ue=ue[0]),I=>I.lift(new _i(ue))}class _i{constructor(I){this.nextSources=I}call(I,F){return F.subscribe(new ms(I,this.nextSources))}}class ms extends b.Ds{constructor(I,F){super(I),this.destination=I,this.nextSources=F}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(I){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const I=this.nextSources.shift();if(I){const F=new b.IY(this),de=this.destination;de.add(F);const Be=(0,b.ft)(I,F);Be!==F&&de.add(Be)}else this.destination.complete()}}var rs=M(9328),hi=M(9264);function Lr(ue,I){return F=>[(0,Ue.h)(ue,I)(F),(0,Ue.h)((0,hi.f)(ue,I))(F)]}function No(...ue){const I=ue.length;if(0===I)throw new Error("list of properties cannot be empty.");return F=>(0,wt.U)(function(ue,I){return de=>{let Be=de;for(let dt=0;dt<I;dt++){const en=null!=Be?Be[ue[dt]]:void 0;if(void 0===en)return;Be=en}return Be}}(ue,I))(F)}var ti=M(9765);function la(ue){return ue?(0,mi.O)(()=>new ti.xQ,ue):(0,mi.O)(new ti.xQ)}var Ms=M(6215);function Ii(ue){return I=>(0,mi.O)(new Ms.X(ue))(I)}var ro=M(8660);function ji(){return ue=>(0,mi.O)(new ro.c)(ue)}var Mi=M(8229);function Po(ue,I,F,de){F&&"function"!=typeof F&&(de=F);const Be="function"==typeof F?F:void 0,dt=new Mi.t(ue,I,de);return en=>(0,mi.O)(()=>dt,Be)(en)}var Hs=M(8085);function Ri(...ue){return function(F){return 1===ue.length&&(0,Ht.k)(ue[0])&&(ue=ue[0]),F.lift.call((0,Hs.S3)(F,...ue))}}var qr=M(9193);function ni(ue=-1){return I=>0===ue?(0,qr.c)():I.lift(new io(ue<0?-1:ue-1,I))}class io{constructor(I,F){this.count=I,this.source=F}call(I,F){return F.subscribe(new ys(I,this.count,this.source))}}class ys extends ce.L{constructor(I,F,de){super(I),this.count=F,this.source=de}complete(){if(!this.isStopped){const{source:I,count:F}=this;if(0===F)return super.complete();F>-1&&(this.count=F-1),I.subscribe(this._unsubscribeAndRecycle())}}}function $s(ue){return I=>I.lift(new Ji(ue))}class Ji{constructor(I){this.notifier=I}call(I,F){return F.subscribe(new _s(I,this.notifier,F))}}class _s extends b.Ds{constructor(I,F,de){super(I),this.notifier=F,this.source=de,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:I,retriesSubscription:F}=this;I&&(I.unsubscribe(),this.notifications=void 0),F&&(F.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:I}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=I,this}subscribeToRetries(){let I;this.notifications=new ti.xQ;try{const{notifier:F}=this;I=F(this.notifications)}catch(F){return super.complete()}this.retries=I,this.retriesSubscription=(0,b.ft)(I,new b.IY(this))}}function Zr(ue=-1){return I=>I.lift(new Rs(ue,I))}class Rs{constructor(I,F){this.count=I,this.source=F}call(I,F){return F.subscribe(new po(I,this.count,this.source))}}class po extends ce.L{constructor(I,F,de){super(I),this.count=F,this.source=de}error(I){if(!this.isStopped){const{source:F,count:de}=this;if(0===de)return super.error(I);de>-1&&(this.count=de-1),F.subscribe(this._unsubscribeAndRecycle())}}}function Hi(ue){return I=>I.lift(new Ws(ue,I))}class Ws{constructor(I,F){this.notifier=I,this.source=F}call(I,F){return F.subscribe(new Di(I,this.notifier,this.source))}}class Di extends b.Ds{constructor(I,F,de){super(I),this.notifier=F,this.source=de}error(I){if(!this.isStopped){let F=this.errors,de=this.retries,Be=this.retriesSubscription;if(de)this.errors=void 0,this.retriesSubscription=void 0;else{F=new ti.xQ;try{const{notifier:dt}=this;de=dt(F)}catch(dt){return super.error(dt)}Be=(0,b.ft)(de,new b.IY(this))}this._unsubscribeAndRecycle(),this.errors=F,this.retries=de,this.retriesSubscription=Be,F.next(I)}}_unsubscribe(){const{errors:I,retriesSubscription:F}=this;I&&(I.unsubscribe(),this.errors=void 0),F&&(F.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:I}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=I,this.source.subscribe(this)}}var W=M(1307);function j(ue){return I=>I.lift(new L(ue))}class L{constructor(I){this.notifier=I}call(I,F){const de=new te(I),Be=F.subscribe(de);return Be.add((0,b.ft)(this.notifier,new b.IY(de))),Be}}class te extends b.Ds{constructor(){super(...arguments),this.hasValue=!1}_next(I){this.value=I,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function Xe(ue,I=ge.P){return F=>F.lift(new Kt(ue,I))}class Kt{constructor(I,F){this.period=I,this.scheduler=F}call(I,F){return F.subscribe(new cr(I,this.period,this.scheduler))}}class cr extends ce.L{constructor(I,F,de){super(I),this.period=F,this.scheduler=de,this.hasValue=!1,this.add(de.schedule(vi,F,{subscriber:this,period:F}))}_next(I){this.lastValue=I,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function vi(ue){let{subscriber:I,period:F}=ue;I.notifyNext(),this.schedule(ue,F)}function fi(ue,I){return F=>F.lift(new zo(ue,I))}class zo{constructor(I,F){this.compareTo=I,this.comparator=F}call(I,F){return F.subscribe(new V(I,this.compareTo,this.comparator))}}class V extends ce.L{constructor(I,F,de){super(I),this.compareTo=F,this.comparator=de,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(F.subscribe(new ee(I,this)))}_next(I){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(I),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:I,_b:F,comparator:de}=this;for(;I.length>0&&F.length>0;){let Be=I.shift(),dt=F.shift(),en=!1;try{en=de?de(Be,dt):Be===dt}catch(br){this.destination.error(br)}en||this.emit(!1)}}emit(I){const{destination:F}=this;F.next(I),F.complete()}nextB(I){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(I),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class ee extends ce.L{constructor(I,F){super(I),this.parent=F}_next(I){this.parent.nextB(I)}_error(I){this.parent.error(I),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}var H=M(8345),ie=M(7349),De=M(3410);function tt(ue){return I=>I.lift(new ct(ue,I))}class ct{constructor(I,F){this.predicate=I,this.source=F}call(I,F){return F.subscribe(new Zt(I,this.predicate,this.source))}}class Zt extends ce.L{constructor(I,F,de){super(I),this.predicate=F,this.source=de,this.seenValue=!1,this.index=0}applySingleValue(I){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=I)}_next(I){const F=this.index++;this.predicate?this.tryNext(I,F):this.applySingleValue(I)}tryNext(I,F){try{this.predicate(I,F,this.source)&&this.applySingleValue(I)}catch(de){this.destination.error(de)}}_complete(){const I=this.destination;this.index>0?(I.next(this.seenValue?this.singleValue:void 0),I.complete()):I.error(new De.K)}}function On(ue){return I=>I.lift(new mr(ue))}class mr{constructor(I){this.total=I}call(I,F){return F.subscribe(new rr(I,this.total))}}class rr extends ce.L{constructor(I,F){super(I),this.total=F,this.count=0}_next(I){++this.count>this.total&&this.destination.next(I)}}function wn(ue){return I=>I.lift(new pr(ue))}class pr{constructor(I){if(this._skipCount=I,this._skipCount<0)throw new We.W}call(I,F){return F.subscribe(0===this._skipCount?new ce.L(I):new dr(I,this._skipCount))}}class dr extends ce.L{constructor(I,F){super(I),this._skipCount=F,this._count=0,this._ring=new Array(F)}_next(I){const F=this._skipCount,de=this._count++;if(de<F)this._ring[de]=I;else{const Be=de%F,dt=this._ring,en=dt[Be];dt[Be]=I,this.destination.next(en)}}}function ri(ue){return I=>I.lift(new Gs(ue))}class Gs{constructor(I){this.notifier=I}call(I,F){return F.subscribe(new sr(I,this.notifier))}}class sr extends b.Ds{constructor(I,F){super(I),this.hasValue=!1;const de=new b.IY(this);this.add(de),this.innerSubscription=de;const Be=(0,b.ft)(F,de);Be!==de&&(this.add(Be),this.innerSubscription=Be)}_next(I){this.hasValue&&super._next(I)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function Ns(ue){return I=>I.lift(new ii(ue))}class ii{constructor(I){this.predicate=I}call(I,F){return F.subscribe(new an(I,this.predicate))}}class an extends ce.L{constructor(I,F){super(I),this.predicate=F,this.skipping=!0,this.index=0}_next(I){const F=this.destination;this.skipping&&this.tryCallPredicate(I),this.skipping||F.next(I)}tryCallPredicate(I){try{const F=this.predicate(I,this.index++);this.skipping=Boolean(F)}catch(F){this.destination.error(F)}}}var Fo=M(9761),ca=M(9673),go=M(3190),so=M(4487);function da(){return(0,go.w)(so.y)}var Ka=M(9499);function ha(ue){return I=>I.lift(new Et(ue))}class Et{constructor(I){this.notifier=I}call(I,F){const de=new Qn(I),Be=(0,b.ft)(this.notifier,new b.IY(de));return Be&&!de.seenValue?(de.add(Be),F.subscribe(de)):de}}class Qn extends b.Ds{constructor(I){super(I),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function qa(ue,I=!1){return F=>F.lift(new kr(ue,I))}class kr{constructor(I,F){this.predicate=I,this.inclusive=F}call(I,F){return F.subscribe(new Da(I,this.predicate,this.inclusive))}}class Da extends ce.L{constructor(I,F,de){super(I),this.predicate=F,this.inclusive=de,this.index=0}_next(I){const F=this.destination;let de;try{de=this.predicate(I,this.index++)}catch(Be){return void F.error(Be)}this.nextOrComplete(I,de)}nextOrComplete(I,F){const de=this.destination;Boolean(F)?de.next(I):(this.inclusive&&de.next(I),de.complete())}}var Lo=M(8307);const is={leading:!0,trailing:!1};function oo(ue,I=is){return F=>F.lift(new Ta(ue,!!I.leading,!!I.trailing))}class Ta{constructor(I,F,de){this.durationSelector=I,this.leading=F,this.trailing=de}call(I,F){return F.subscribe(new ao(I,this.durationSelector,this.leading,this.trailing))}}class ao extends b.Ds{constructor(I,F,de,Be){super(I),this.destination=I,this.durationSelector=F,this._leading=de,this._trailing=Be,this._hasValue=!1}_next(I){this._hasValue=!0,this._sendValue=I,this._throttled||(this._leading?this.send():this.throttle(I))}send(){const{_hasValue:I,_sendValue:F}=this;I&&(this.destination.next(F),this.throttle(F)),this._hasValue=!1,this._sendValue=void 0}throttle(I){const F=this.tryDurationSelector(I);F&&this.add(this._throttled=(0,b.ft)(F,new b.IY(this)))}tryDurationSelector(I){try{return this.durationSelector(I)}catch(F){return this.destination.error(F),null}}throttlingDone(){const{_throttled:I,_trailing:F}=this;I&&I.unsubscribe(),this._throttled=void 0,F&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function Sa(ue,I=ge.P,F=is){return de=>de.lift(new Ps(ue,I,F.leading,F.trailing))}class Ps{constructor(I,F,de,Be){this.duration=I,this.scheduler=F,this.leading=de,this.trailing=Be}call(I,F){return F.subscribe(new Fs(I,this.duration,this.scheduler,this.leading,this.trailing))}}class Fs extends ce.L{constructor(I,F,de,Be,dt){super(I),this.duration=F,this.scheduler=de,this.leading=Be,this.trailing=dt,this._hasTrailingValue=!1,this._trailingValue=null}_next(I){this.throttled?this.trailing&&(this._trailingValue=I,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(si,this.duration,{subscriber:this})),this.leading?this.destination.next(I):this.trailing&&(this._trailingValue=I,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const I=this.throttled;I&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),I.unsubscribe(),this.remove(I),this.throttled=null)}}function si(ue){const{subscriber:I}=ue;I.clearThrottle()}var vs=M(1439);function fa(ue=ge.P){return I=>(0,vs.P)(()=>I.pipe((0,Hr.R)(({current:F},de)=>({value:de,current:ue.now(),last:F}),{current:ue.now(),value:void 0,last:void 0}),(0,wt.U)(({current:F,last:de,value:Be})=>new Es(Be,F-de))))}class Es{constructor(I,F){this.value=I,this.interval=F}}var $i=M(5587);function Aa(ue,I,F=ge.P){return de=>{let Be=Gr(ue),dt=Be?+ue-F.now():Math.abs(ue);return de.lift(new Vr(dt,Be,I,F))}}class Vr{constructor(I,F,de,Be){this.waitFor=I,this.absoluteTimeout=F,this.withObservable=de,this.scheduler=Be}call(I,F){return F.subscribe(new uo(I,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class uo extends b.Ds{constructor(I,F,de,Be,dt){super(I),this.absoluteTimeout=F,this.waitFor=de,this.withObservable=Be,this.scheduler=dt,this.scheduleTimeout()}static dispatchTimeout(I){const{withObservable:F}=I;I._unsubscribeAndRecycle(),I.add((0,b.ft)(F,new b.IY(I)))}scheduleTimeout(){const{action:I}=this;I?this.action=I.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(uo.dispatchTimeout,this.waitFor,this))}_next(I){this.absoluteTimeout||this.scheduleTimeout(),super._next(I)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var Ko=M(205);function qo(ue,I=ge.P){return Aa(ue,(0,Ko._)(new $i.W),I)}function mo(ue=ge.P){return(0,wt.U)(I=>new xa(I,ue.now()))}class xa{constructor(I,F){this.value=I,this.timestamp=F}}function Zo(ue,I,F){return 0===F?[I]:(ue.push(I),ue)}function ku(){return ps(Zo,[])}function zs(ue){return function(F){return F.lift(new yo(ue))}}class yo{constructor(I){this.windowBoundaries=I}call(I,F){const de=new Za(I),Be=F.subscribe(de);return Be.closed||de.add((0,b.ft)(this.windowBoundaries,new b.IY(de))),Be}}class Za extends b.Ds{constructor(I){super(I),this.window=new ti.xQ,I.next(this.window)}notifyNext(){this.openWindow()}notifyError(I){this._error(I)}notifyComplete(){this._complete()}_next(I){this.window.next(I)}_error(I){this.window.error(I),this.destination.error(I)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const I=this.window;I&&I.complete();const F=this.destination,de=this.window=new ti.xQ;F.next(de)}}function lo(ue,I=0){return function(de){return de.lift(new Ti(ue,I))}}class Ti{constructor(I,F){this.windowSize=I,this.startWindowEvery=F}call(I,F){return F.subscribe(new lu(I,this.windowSize,this.startWindowEvery))}}class lu extends ce.L{constructor(I,F,de){super(I),this.destination=I,this.windowSize=F,this.startWindowEvery=de,this.windows=[new ti.xQ],this.count=0,I.next(this.windows[0])}_next(I){const F=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,de=this.destination,Be=this.windowSize,dt=this.windows,en=dt.length;for(let Ur=0;Ur<en&&!this.closed;Ur++)dt[Ur].next(I);const br=this.count-Be+1;if(br>=0&&br%F==0&&!this.closed&&dt.shift().complete(),++this.count%F==0&&!this.closed){const Ur=new ti.xQ;dt.push(Ur),de.next(Ur)}}_error(I){const F=this.windows;if(F)for(;F.length>0&&!this.closed;)F.shift().error(I);this.destination.error(I)}_complete(){const I=this.windows;if(I)for(;I.length>0&&!this.closed;)I.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}var Ls=M(6561);function _o(ue){let I=ge.P,F=null,de=Number.POSITIVE_INFINITY;return(0,qe.K)(arguments[3])&&(I=arguments[3]),(0,qe.K)(arguments[2])?I=arguments[2]:(0,Ls.k)(arguments[2])&&(de=Number(arguments[2])),(0,qe.K)(arguments[1])?I=arguments[1]:(0,Ls.k)(arguments[1])&&(F=Number(arguments[1])),function(dt){return dt.lift(new pa(ue,F,de,I))}}class pa{constructor(I,F,de,Be){this.windowTimeSpan=I,this.windowCreationInterval=F,this.maxWindowSize=de,this.scheduler=Be}call(I,F){return F.subscribe(new Ks(I,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class Yr extends ti.xQ{constructor(){super(...arguments),this._numberOfNextedValues=0}next(I){this._numberOfNextedValues++,super.next(I)}get numberOfNextedValues(){return this._numberOfNextedValues}}class Ks extends ce.L{constructor(I,F,de,Be,dt){super(I),this.destination=I,this.windowTimeSpan=F,this.windowCreationInterval=de,this.maxWindowSize=Be,this.scheduler=dt,this.windows=[];const en=this.openWindow();if(null!==de&&de>=0){const Ur={windowTimeSpan:F,windowCreationInterval:de,subscriber:this,scheduler:dt};this.add(dt.schedule(Ma,F,{subscriber:this,window:en,context:null})),this.add(dt.schedule(Oa,de,Ur))}else this.add(dt.schedule($r,F,{subscriber:this,window:en,windowTimeSpan:F}))}_next(I){const F=this.windows,de=F.length;for(let Be=0;Be<de;Be++){const dt=F[Be];dt.closed||(dt.next(I),dt.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(dt))}}_error(I){const F=this.windows;for(;F.length>0;)F.shift().error(I);this.destination.error(I)}_complete(){const I=this.windows;for(;I.length>0;){const F=I.shift();F.closed||F.complete()}this.destination.complete()}openWindow(){const I=new Yr;return this.windows.push(I),this.destination.next(I),I}closeWindow(I){I.complete();const F=this.windows;F.splice(F.indexOf(I),1)}}function $r(ue){const{subscriber:I,windowTimeSpan:F,window:de}=ue;de&&I.closeWindow(de),ue.window=I.openWindow(),this.schedule(ue,F)}function Oa(ue){const{windowTimeSpan:I,subscriber:F,scheduler:de,windowCreationInterval:Be}=ue,dt=F.openWindow();let br={action:this,subscription:null};br.subscription=de.schedule(Ma,I,{subscriber:F,window:dt,context:br}),this.add(br.subscription),this.schedule(ue,Be)}function Ma(ue){const{subscriber:I,window:F,context:de}=ue;de&&de.action&&de.subscription&&de.action.remove(de.subscription),I.closeWindow(F)}function ga(ue,I){return F=>F.lift(new vo(ue,I))}class vo{constructor(I,F){this.openings=I,this.closingSelector=F}call(I,F){return F.subscribe(new Eo(I,this.openings,this.closingSelector))}}class Eo extends St.L{constructor(I,F,de){super(I),this.openings=F,this.closingSelector=de,this.contexts=[],this.add(this.openSubscription=(0,Nt.D)(this,F,F))}_next(I){const{contexts:F}=this;if(F){const de=F.length;for(let Be=0;Be<de;Be++)F[Be].window.next(I)}}_error(I){const{contexts:F}=this;if(this.contexts=null,F){const de=F.length;let Be=-1;for(;++Be<de;){const dt=F[Be];dt.window.error(I),dt.subscription.unsubscribe()}}super._error(I)}_complete(){const{contexts:I}=this;if(this.contexts=null,I){const F=I.length;let de=-1;for(;++de<F;){const Be=I[de];Be.window.complete(),Be.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:I}=this;if(this.contexts=null,I){const F=I.length;let de=-1;for(;++de<F;){const Be=I[de];Be.window.unsubscribe(),Be.subscription.unsubscribe()}}}notifyNext(I,F,de,Be,dt){if(I===this.openings){let en;try{const{closingSelector:Sr}=this;en=Sr(F)}catch(Sr){return this.error(Sr)}const br=new ti.xQ,Ur=new $e.w,ws={window:br,subscription:Ur};this.contexts.push(ws);const Bo=(0,Nt.D)(this,en,ws);Bo.closed?this.closeWindow(this.contexts.length-1):(Bo.context=ws,Ur.add(Bo)),this.destination.next(br)}else this.closeWindow(this.contexts.indexOf(I))}notifyError(I){this.error(I)}notifyComplete(I){I!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(I.context))}closeWindow(I){if(-1===I)return;const{contexts:F}=this,de=F[I],{window:Be,subscription:dt}=de;F.splice(I,1),Be.complete(),dt.unsubscribe()}}function Ra(ue){return function(F){return F.lift(new ko(ue))}}class ko{constructor(I){this.closingSelector=I}call(I,F){return F.subscribe(new Yo(I,this.closingSelector))}}class Yo extends St.L{constructor(I,F){super(I),this.destination=I,this.closingSelector=F,this.openWindow()}notifyNext(I,F,de,Be,dt){this.openWindow(dt)}notifyError(I){this._error(I)}notifyComplete(I){this.openWindow(I)}_next(I){this.window.next(I)}_error(I){this.window.error(I),this.destination.error(I),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(I=null){I&&(this.remove(I),I.unsubscribe());const F=this.window;F&&F.complete();const de=this.window=new ti.xQ;let Be;this.destination.next(de);try{const{closingSelector:dt}=this;Be=dt()}catch(dt){return this.destination.error(dt),void this.window.error(dt)}this.add(this.closingNotification=(0,Nt.D)(this,Be))}}function ss(...ue){return I=>{let F;return"function"==typeof ue[ue.length-1]&&(F=ue.pop()),I.lift(new Vo(ue,F))}}class Vo{constructor(I,F){this.observables=I,this.project=F}call(I,F){return F.subscribe(new Uo(I,this.observables,this.project))}}class Uo extends St.L{constructor(I,F,de){super(I),this.observables=F,this.project=de,this.toRespond=[];const Be=F.length;this.values=new Array(Be);for(let dt=0;dt<Be;dt++)this.toRespond.push(dt);for(let dt=0;dt<Be;dt++)this.add((0,Nt.D)(this,F[dt],void 0,dt))}notifyNext(I,F,de){this.values[de]=F;const Be=this.toRespond;if(Be.length>0){const dt=Be.indexOf(de);-1!==dt&&Be.splice(dt,1)}}notifyComplete(){}_next(I){if(0===this.toRespond.length){const F=[I,...this.values];this.project?this._tryProject(F):this.destination.next(F)}}_tryProject(I){let F;try{F=this.project.apply(this,I)}catch(de){return void this.destination.error(de)}this.destination.next(F)}}var Ya=M(1571);function os(...ue){return function(F){return F.lift.call((0,Ya.$R)(F,...ue))}}function bs(ue){return I=>I.lift(new Ya.mx(ue))}},8383:(pt,Me,M)=>{"use strict";M(7083)},8091:(pt,Me,M)=>{"use strict";M.d(Me,{e:()=>ge});var b=M(8239),se=(M(8383),M(7716)),oe=M(1325);let ge=(()=>{class re{constructor(q){this.afAuth=q}registerUser(q,X){var Y=this;return(0,b.Z)(function*(){return yield Y.afAuth.createUserWithEmailAndPassword(q,X)})()}loginUser(q,X){var Y=this;return(0,b.Z)(function*(){return Y.afAuth.signInWithEmailAndPassword(q,X)})()}LogOut(){var q=this;return(0,b.Z)(function*(){localStorage.removeItem("usuario_juegos"),q.afAuth.signOut()})()}getCurrentUserFirebase(){return this.afAuth.authState}getCurrentUserLS(){const q=localStorage.getItem("usuario_juegos");return null!=q?JSON.parse(q):null}}return re.\u0275fac=function(q){return new(q||re)(se.LFG(oe.zQ))},re.\u0275prov=se.Yz7({token:re,factory:re.\u0275fac}),re})()},6692:(pt,Me,M)=>{"use strict";M.d(Me,{M:()=>se});var b=M(7716),P=M(2825);let se=(()=>{class oe{constructor(re){this.afs=re,this.jugadoresCollection=re.collection("jugadores"),this.items=this.jugadoresCollection.valueChanges(),this.sesionesCollection=re.collection("sesiones"),this.sesiones=this.sesionesCollection.valueChanges()}registrarNuevoJugador(re){this.jugadoresCollection.add(Object.assign({},re)),this.registrarNuevaSesion(re.email)}setItemWithId(re,he){return this.jugadoresCollection.doc(he).set(Object.assign({},re))}TraerJugadores(){return this.jugadoresCollection.valueChanges({idField:"doc_id"})}registrarNuevaSesion(re){let he=new Date;const X={fecha:he.getDate().toString()+"-"+he.getMonth().toString()+"-"+he.getFullYear().toString()+" "+he.getHours().toString()+":"+he.getMinutes().toString(),email_user:re};this.sesionesCollection.add(Object.assign({},X))}}return oe.\u0275fac=function(re){return new(re||oe)(b.LFG(P.ST))},oe.\u0275prov=b.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})()},8124:(pt,Me,M)=>{"use strict";var b=M(8583),P=M(7716);class se extends b.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oe extends se{static makeCurrent(){(0,b.HT)(new oe)}onAndCancel(v,_,T){return v.addEventListener(_,T,!1),()=>{v.removeEventListener(_,T,!1)}}dispatchEvent(v,_){v.dispatchEvent(_)}remove(v){v.parentNode&&v.parentNode.removeChild(v)}createElement(v,_){return(_=_||this.getDefaultDocument()).createElement(v)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(v){return v.nodeType===Node.ELEMENT_NODE}isShadowRoot(v){return v instanceof DocumentFragment}getGlobalEventTarget(v,_){return"window"===_?window:"document"===_?v:"body"===_?v.body:null}getBaseHref(v){const _=(ge=ge||document.querySelector("base"),ge?ge.getAttribute("href"):null);return null==_?null:function(R){he=he||document.createElement("a"),he.setAttribute("href",R);const v=he.pathname;return"/"===v.charAt(0)?v:`/${v}`}(_)}resetBaseElement(){ge=null}getUserAgent(){return window.navigator.userAgent}getCookie(v){return(0,b.Mx)(document.cookie,v)}}let he,ge=null;const X=new P.OlP("TRANSITION_ID"),ce=[{provide:P.ip1,useFactory:function(R,v,_){return()=>{_.get(P.CZH).donePromise.then(()=>{const T=(0,b.q)(),$=v.querySelectorAll(`style[ng-transition="${R}"]`);for(let J=0;J<$.length;J++)T.remove($[J])})}},deps:[X,b.K0,P.zs3],multi:!0}];class Q{static init(){(0,P.VLi)(new Q)}addToWindow(v){P.dqk.getAngularTestability=(T,$=!0)=>{const J=v.findTestabilityInTree(T,$);if(null==J)throw new Error("Could not find testability for element.");return J},P.dqk.getAllAngularTestabilities=()=>v.getAllTestabilities(),P.dqk.getAllAngularRootElements=()=>v.getAllRootElements(),P.dqk.frameworkStabilizers||(P.dqk.frameworkStabilizers=[]),P.dqk.frameworkStabilizers.push(T=>{const $=P.dqk.getAllAngularTestabilities();let J=$.length,me=!1;const Se=function(je){me=me||je,J--,0==J&&T(me)};$.forEach(function(je){je.whenStable(Se)})})}findTestabilityInTree(v,_,T){if(null==_)return null;const $=v.getTestability(_);return null!=$?$:T?(0,b.q)().isShadowRoot(_)?this.findTestabilityInTree(v,_.host,!0):this.findTestabilityInTree(v,_.parentElement,!0):null}}let fe=(()=>{class R{build(){return new XMLHttpRequest}}return R.\u0275fac=function(_){return new(_||R)},R.\u0275prov=P.Yz7({token:R,factory:R.\u0275fac}),R})();const Re=new P.OlP("EventManagerPlugins");let Ye=(()=>{class R{constructor(_,T){this._zone=T,this._eventNameToPlugin=new Map,_.forEach($=>$.manager=this),this._plugins=_.slice().reverse()}addEventListener(_,T,$){return this._findPluginFor(T).addEventListener(_,T,$)}addGlobalEventListener(_,T,$){return this._findPluginFor(T).addGlobalEventListener(_,T,$)}getZone(){return this._zone}_findPluginFor(_){const T=this._eventNameToPlugin.get(_);if(T)return T;const $=this._plugins;for(let J=0;J<$.length;J++){const me=$[J];if(me.supports(_))return this._eventNameToPlugin.set(_,me),me}throw new Error(`No event manager plugin found for event ${_}`)}}return R.\u0275fac=function(_){return new(_||R)(P.LFG(Re),P.LFG(P.R0b))},R.\u0275prov=P.Yz7({token:R,factory:R.\u0275fac}),R})();class Ze{constructor(v){this._doc=v}addGlobalEventListener(v,_,T){const $=(0,b.q)().getGlobalEventTarget(this._doc,v);if(!$)throw new Error(`Unsupported event target ${$} for event ${_}`);return this.addEventListener($,_,T)}}let Ne=(()=>{class R{constructor(){this._stylesSet=new Set}addStyles(_){const T=new Set;_.forEach($=>{this._stylesSet.has($)||(this._stylesSet.add($),T.add($))}),this.onStylesAdded(T)}onStylesAdded(_){}getAllStyles(){return Array.from(this._stylesSet)}}return R.\u0275fac=function(_){return new(_||R)},R.\u0275prov=P.Yz7({token:R,factory:R.\u0275fac}),R})(),bt=(()=>{class R extends Ne{constructor(_){super(),this._doc=_,this._hostNodes=new Map,this._hostNodes.set(_.head,[])}_addStylesToHost(_,T,$){_.forEach(J=>{const me=this._doc.createElement("style");me.textContent=J,$.push(T.appendChild(me))})}addHost(_){const T=[];this._addStylesToHost(this._stylesSet,_,T),this._hostNodes.set(_,T)}removeHost(_){const T=this._hostNodes.get(_);T&&T.forEach(Gt),this._hostNodes.delete(_)}onStylesAdded(_){this._hostNodes.forEach((T,$)=>{this._addStylesToHost(_,$,T)})}ngOnDestroy(){this._hostNodes.forEach(_=>_.forEach(Gt))}}return R.\u0275fac=function(_){return new(_||R)(P.LFG(b.K0))},R.\u0275prov=P.Yz7({token:R,factory:R.\u0275fac}),R})();function Gt(R){(0,b.q)().remove(R)}const Rn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ht=/%COMP%/g;function hr(R,v,_){for(let T=0;T<v.length;T++){let $=v[T];Array.isArray($)?hr(R,$,_):($=$.replace(Ht,R),_.push($))}return _}function Bn(R){return v=>{if("__ngUnwrap__"===v)return R;!1===R(v)&&(v.preventDefault(),v.returnValue=!1)}}let dn=(()=>{class R{constructor(_,T,$){this.eventManager=_,this.sharedStylesHost=T,this.appId=$,this.rendererByCompId=new Map,this.defaultRenderer=new $t(_)}createRenderer(_,T){if(!_||!T)return this.defaultRenderer;switch(T.encapsulation){case P.ifc.Emulated:{let $=this.rendererByCompId.get(T.id);return $||($=new fr(this.eventManager,this.sharedStylesHost,T,this.appId),this.rendererByCompId.set(T.id,$)),$.applyToHost(_),$}case 1:case P.ifc.ShadowDom:return new Yi(this.eventManager,this.sharedStylesHost,_,T);default:if(!this.rendererByCompId.has(T.id)){const $=hr(T.id,T.styles,[]);this.sharedStylesHost.addStyles($),this.rendererByCompId.set(T.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return R.\u0275fac=function(_){return new(_||R)(P.LFG(Ye),P.LFG(bt),P.LFG(P.AFp))},R.\u0275prov=P.Yz7({token:R,factory:R.\u0275fac}),R})();class $t{constructor(v){this.eventManager=v,this.data=Object.create(null)}destroy(){}createElement(v,_){return _?document.createElementNS(Rn[_]||_,v):document.createElement(v)}createComment(v){return document.createComment(v)}createText(v){return document.createTextNode(v)}appendChild(v,_){v.appendChild(_)}insertBefore(v,_,T){v&&v.insertBefore(_,T)}removeChild(v,_){v&&v.removeChild(_)}selectRootElement(v,_){let T="string"==typeof v?document.querySelector(v):v;if(!T)throw new Error(`The selector "${v}" did not match any elements`);return _||(T.textContent=""),T}parentNode(v){return v.parentNode}nextSibling(v){return v.nextSibling}setAttribute(v,_,T,$){if($){_=$+":"+_;const J=Rn[$];J?v.setAttributeNS(J,_,T):v.setAttribute(_,T)}else v.setAttribute(_,T)}removeAttribute(v,_,T){if(T){const $=Rn[T];$?v.removeAttributeNS($,_):v.removeAttribute(`${T}:${_}`)}else v.removeAttribute(_)}addClass(v,_){v.classList.add(_)}removeClass(v,_){v.classList.remove(_)}setStyle(v,_,T,$){$&(P.JOm.DashCase|P.JOm.Important)?v.style.setProperty(_,T,$&P.JOm.Important?"important":""):v.style[_]=T}removeStyle(v,_,T){T&P.JOm.DashCase?v.style.removeProperty(_):v.style[_]=""}setProperty(v,_,T){v[_]=T}setValue(v,_){v.nodeValue=_}listen(v,_,T){return"string"==typeof v?this.eventManager.addGlobalEventListener(v,_,Bn(T)):this.eventManager.addEventListener(v,_,Bn(T))}}class fr extends $t{constructor(v,_,T,$){super(v),this.component=T;const J=hr($+"-"+T.id,T.styles,[]);_.addStyles(J),this.contentAttr="_ngcontent-%COMP%".replace(Ht,$+"-"+T.id),this.hostAttr="_nghost-%COMP%".replace(Ht,$+"-"+T.id)}applyToHost(v){super.setAttribute(v,this.hostAttr,"")}createElement(v,_){const T=super.createElement(v,_);return super.setAttribute(T,this.contentAttr,""),T}}class Yi extends $t{constructor(v,_,T,$){super(v),this.sharedStylesHost=_,this.hostEl=T,this.shadowRoot=T.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const J=hr($.id,$.styles,[]);for(let me=0;me<J.length;me++){const Se=document.createElement("style");Se.textContent=J[me],this.shadowRoot.appendChild(Se)}}nodeOrShadowRoot(v){return v===this.hostEl?this.shadowRoot:v}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(v,_){return super.appendChild(this.nodeOrShadowRoot(v),_)}insertBefore(v,_,T){return super.insertBefore(this.nodeOrShadowRoot(v),_,T)}removeChild(v,_){return super.removeChild(this.nodeOrShadowRoot(v),_)}parentNode(v){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(v)))}}let yr=(()=>{class R extends Ze{constructor(_){super(_)}supports(_){return!0}addEventListener(_,T,$){return _.addEventListener(T,$,!1),()=>this.removeEventListener(_,T,$)}removeEventListener(_,T,$){return _.removeEventListener(T,$)}}return R.\u0275fac=function(_){return new(_||R)(P.LFG(b.K0))},R.\u0275prov=P.Yz7({token:R,factory:R.\u0275fac}),R})();const Ot=["alt","control","meta","shift"],Rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Nn={alt:R=>R.altKey,control:R=>R.ctrlKey,meta:R=>R.metaKey,shift:R=>R.shiftKey};let Qt=(()=>{class R extends Ze{constructor(_){super(_)}supports(_){return null!=R.parseEventName(_)}addEventListener(_,T,$){const J=R.parseEventName(T),me=R.eventCallback(J.fullKey,$,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,b.q)().onAndCancel(_,J.domEventName,me))}static parseEventName(_){const T=_.toLowerCase().split("."),$=T.shift();if(0===T.length||"keydown"!==$&&"keyup"!==$)return null;const J=R._normalizeKey(T.pop());let me="";if(Ot.forEach(je=>{const ut=T.indexOf(je);ut>-1&&(T.splice(ut,1),me+=je+".")}),me+=J,0!=T.length||0===J.length)return null;const Se={};return Se.domEventName=$,Se.fullKey=me,Se}static getEventFullKey(_){let T="",$=function(R){let v=R.key;if(null==v){if(v=R.keyIdentifier,null==v)return"Unidentified";v.startsWith("U+")&&(v=String.fromCharCode(parseInt(v.substring(2),16)),3===R.location&&Sn.hasOwnProperty(v)&&(v=Sn[v]))}return Rt[v]||v}(_);return $=$.toLowerCase()," "===$?$="space":"."===$&&($="dot"),Ot.forEach(J=>{J!=$&&Nn[J](_)&&(T+=J+".")}),T+=$,T}static eventCallback(_,T,$){return J=>{R.getEventFullKey(J)===_&&$.runGuarded(()=>T(J))}}static _normalizeKey(_){switch(_){case"esc":return"escape";default:return _}}}return R.\u0275fac=function(_){return new(_||R)(P.LFG(b.K0))},R.\u0275prov=P.Yz7({token:R,factory:R.\u0275fac}),R})();const nt=(0,P.eFA)(P._c5,"browser",[{provide:P.Lbi,useValue:b.bD},{provide:P.g9A,useValue:function(){oe.makeCurrent(),Q.init()},multi:!0},{provide:b.K0,useFactory:function(){return(0,P.RDi)(document),document},deps:[]}]),Qe=[[],{provide:P.zSh,useValue:"root"},{provide:P.qLn,useFactory:function(){return new P.qLn},deps:[]},{provide:Re,useClass:yr,multi:!0,deps:[b.K0,P.R0b,P.Lbi]},{provide:Re,useClass:Qt,multi:!0,deps:[b.K0]},[],{provide:dn,useClass:dn,deps:[Ye,bt,P.AFp]},{provide:P.FYo,useExisting:dn},{provide:Ne,useExisting:bt},{provide:bt,useClass:bt,deps:[b.K0]},{provide:P.dDg,useClass:P.dDg,deps:[P.R0b]},{provide:Ye,useClass:Ye,deps:[Re,P.R0b]},{provide:b.JF,useClass:fe,deps:[]},[]];let rt=(()=>{class R{constructor(_){if(_)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(_){return{ngModule:R,providers:[{provide:P.AFp,useValue:_.appId},{provide:X,useExisting:P.AFp},ce]}}}return R.\u0275fac=function(_){return new(_||R)(P.LFG(R,12))},R.\u0275mod=P.oAB({type:R}),R.\u0275inj=P.cJS({providers:Qe,imports:[b.ez,P.hGG]}),R})();"undefined"!=typeof window&&window;var Qi=M(3679),ei=M(9895),Vi=M(8091);const jr=[{path:"quiensoy",loadChildren:()=>M.e(882).then(M.bind(M,9882)).then(R=>R.QuiensoyModule)},{path:"chat",loadChildren:()=>M.e(23).then(M.bind(M,2023)).then(R=>R.ChatModule)},{path:"error",loadChildren:()=>M.e(473).then(M.bind(M,8473)).then(R=>R.ErrorModule)},{path:"home",loadChildren:()=>M.e(720).then(M.bind(M,6720)).then(R=>R.HomeModule)},{path:"juegos",loadChildren:()=>M.e(658).then(M.bind(M,3658)).then(R=>R.JuegosModule)},{path:"login",loadChildren:()=>M.e(180).then(M.bind(M,180)).then(R=>R.LoginModule)},{path:"cerrarSesion",loadChildren:()=>M.e(180).then(M.bind(M,180)).then(R=>R.LoginModule),canActivate:[(()=>{class R{constructor(_,T){this.route=_,this.authSrv=T}canActivate(_,T){return null!=this.authSrv.getCurrentUserLS()||(this.route.navigate(["login"]),!1)}}return R.\u0275fac=function(_){return new(_||R)(P.LFG(ei.F0),P.LFG(Vi.e))},R.\u0275prov=P.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()]},{path:"registro",loadChildren:()=>M.e(220).then(M.bind(M,2220)).then(R=>R.RegistroModule)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"**",redirectTo:"home",pathMatch:"full"}];let Ui=(()=>{class R{}return R.\u0275fac=function(_){return new(_||R)},R.\u0275mod=P.oAB({type:R}),R.\u0275inj=P.cJS({imports:[[ei.Bz.forRoot(jr)],ei.Bz]}),R})();var Bi=M(8239);function Hr(R,v){1&R&&(P.TgZ(0,"li",12),P.TgZ(1,"a",13),P._uU(2," Login "),P.qZA(),P.qZA())}function Wn(R,v){1&R&&(P.TgZ(0,"li",12),P.TgZ(1,"a",14),P._uU(2," Registro "),P.qZA(),P.qZA())}function fs(R,v){if(1&R&&(P.TgZ(0,"li",12),P._uU(1),P.qZA()),2&R){const _=P.oxw();P.xp6(1),P.Oqu(_.nombre_usuario)}}function ps(R,v){if(1&R){const _=P.EpF();P.TgZ(0,"li",12),P.TgZ(1,"button",15),P.NdJ("click",function(){return P.CHM(_),P.oxw().cerrarSesion()}),P._uU(2,"Cerrar sesion"),P.qZA(),P.qZA()}}function gs(R,v){1&R&&(P.TgZ(0,"li"),P.TgZ(1,"a",16),P._uU(2,"Chat"),P.qZA(),P.qZA())}let to=(()=>{class R{constructor(_,T){this.authSv=_,this.router=T,this.titulo="Sala de Juegos",this.usuarioActual(),console.log("estado: "+this.estado_activo)}ngOnInit(){this.usuarioActual()}cerrarSesion(){var _=this;return(0,Bi.Z)(function*(){try{yield _.authSv.LogOut(),_.router.navigate(["/login"]).then(()=>_.usuarioActual())}catch(T){console.log("Error al cerrar sesion"+T)}})()}usuarioActual(){let _=this.authSv.getCurrentUserLS();null==_?this.estado_activo=!1:null!=_&&"activa"==_.sesion&&(this.nombre_usuario=_.email,this.estado_activo=!0)}}return R.\u0275fac=function(_){return new(_||R)(P.Y36(Vi.e),P.Y36(ei.F0))},R.\u0275cmp=P.Xpm({type:R,selectors:[["app-navbar"]],decls:25,vars:6,consts:[[1,"header","px-3","py-2","bg-dark","text-white"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],["routerLink","",1,"d-flex","align-items-center","my-2","my-lg-0","me-lg-auto","text-white","text-decoration-none"],[1,"nav","col-12","col-lg-auto","my-2","justify-content-center","my-md-0","text-small"],["href","home",1,"nav-link","text-white"],["href","juegos",1,"nav-link","text-white"],["href","#",1,"nav-link","text-white"],["href","quiensoy",1,"nav-link","text-white"],["class","nav-link text-white",4,"ngIf"],[4,"ngIf"],[1,"nav-link","text-white"],["href","login"],["href","registro"],[1,"btn","btn-danger",3,"click"],["href","chat",1,"btn-flotante"]],template:function(_,T){1&_&&(P.TgZ(0,"header",0),P.TgZ(1,"nav",1),P.TgZ(2,"div",2),P.TgZ(3,"div",3),P.TgZ(4,"a",4),P.TgZ(5,"h1"),P._uU(6),P.qZA(),P.qZA(),P.TgZ(7,"ul",5),P.TgZ(8,"li"),P.TgZ(9,"a",6),P._uU(10," Inicio "),P.qZA(),P.qZA(),P.TgZ(11,"li"),P.TgZ(12,"a",7),P._uU(13," Juegos "),P.qZA(),P.qZA(),P.TgZ(14,"li"),P.TgZ(15,"a",8),P._uU(16," Listados "),P.qZA(),P.qZA(),P.TgZ(17,"li"),P.TgZ(18,"a",9),P._uU(19," Quien soy "),P.qZA(),P.qZA(),P.YNc(20,Hr,3,0,"li",10),P.YNc(21,Wn,3,0,"li",10),P.YNc(22,fs,2,1,"li",10),P.YNc(23,ps,3,0,"li",10),P.YNc(24,gs,3,0,"li",11),P.qZA(),P.qZA(),P.qZA(),P.qZA(),P.qZA()),2&_&&(P.xp6(6),P.hij(" ",T.titulo," "),P.xp6(14),P.Q6J("ngIf",!T.estado_activo||null==T.estado_activo),P.xp6(1),P.Q6J("ngIf",!T.estado_activo||null==T.estado_activo),P.xp6(1),P.Q6J("ngIf",T.estado_activo),P.xp6(1),P.Q6J("ngIf",T.estado_activo),P.xp6(1),P.Q6J("ngIf",T.estado_activo))},directives:[ei.yS,b.O5],styles:[".btn-flotante[_ngcontent-%COMP%]{font-size:16px;text-transform:uppercase;font-weight:bold;color:#fff;border-radius:5px;letter-spacing:2px;background-color:#e91e63;padding:18px 30px;position:fixed;bottom:30px;right:30px;transition:all .3s ease 0ms;box-shadow:0 8px 15px #0000001a;z-index:99}.btn-flotante[_ngcontent-%COMP%]:hover{background-color:#2c2fa5;box-shadow:0 15px 20px #0000004d;transform:translateY(-7px)}@media only screen and (max-width: 600px){.btn-flotante[_ngcontent-%COMP%]{font-size:7px;padding:6px 10px;bottom:10px;right:10px}}"]}),R})(),li=(()=>{class R{constructor(){}ngOnInit(){}}return R.\u0275fac=function(_){return new(_||R)},R.\u0275cmp=P.Xpm({type:R,selectors:[["app-root"]],decls:2,vars:0,template:function(_,T){1&_&&(P._UZ(0,"app-navbar"),P._UZ(1,"router-outlet"))},directives:[to,ei.lC],styles:[".btn-flotante[_ngcontent-%COMP%]{font-size:16px;text-transform:uppercase;font-weight:bold;color:#fff;border-radius:5px;letter-spacing:2px;background-color:#e91e63;padding:18px 30px;position:fixed;bottom:40px;right:40px;transition:all .3s ease 0ms;box-shadow:0 8px 15px #0000001a;z-index:99}.btn-flotante[_ngcontent-%COMP%]:hover{background-color:#2c2fa5;box-shadow:0 15px 20px #0000004d;transform:translateY(-7px)}@media only screen and (max-width: 600px){.btn-flotante[_ngcontent-%COMP%]{font-size:14px;padding:12px 20px;bottom:20px;right:20px}}"]}),R})();var pi=M(9958),ci=M(1325),Pr=M(2825);const no={apiKey:"AIzaSyCG3nz2o6PJdP1vbPrkgE5ASRMoywy8P3Y",authDomain:"salajuegos-a1a0a.firebaseapp.com",projectId:"salajuegos-a1a0a",storageBucket:"salajuegos-a1a0a.appspot.com",messagingSenderId:"354051480346",appId:"1:354051480346:web:390fd127b2c87b30f46aa3"};var Oi=M(6692),gi=M(1841),jn=M(7238);function mi(){return"undefined"!=typeof window&&void 0!==window.document}function yi(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function gr(R){switch(R.length){case 0:return new jn.ZN;case 1:return R[0];default:return new jn.ZE(R)}}function di(R,v,_,T,$={},J={}){const me=[],Se=[];let je=-1,ut=null;if(T.forEach(Lt=>{const nn=Lt.offset,Ln=nn==je,Mn=Ln&&ut||{};Object.keys(Lt).forEach(Cn=>{let Vn=Cn,or=Lt[Cn];if("offset"!==Cn)switch(Vn=v.normalizePropertyName(Vn,me),or){case jn.k1:or=$[Cn];break;case jn.l3:or=J[Cn];break;default:or=v.normalizeStyleValue(Cn,Vn,or,me)}Mn[Vn]=or}),Ln||Se.push(Mn),ut=Mn,je=nn}),me.length){const Lt="\n - ";throw new Error(`Unable to animate due to the following errors:${Lt}${me.join(Lt)}`)}return Se}function _i(R,v,_,T){switch(v){case"start":R.onStart(()=>T(_&&ms(_,"start",R)));break;case"done":R.onDone(()=>T(_&&ms(_,"done",R)));break;case"destroy":R.onDestroy(()=>T(_&&ms(_,"destroy",R)))}}function ms(R,v,_){const T=_.totalTime,J=rs(R.element,R.triggerName,R.fromState,R.toState,v||R.phaseName,null==T?R.totalTime:T,!!_.disabled),me=R._data;return null!=me&&(J._data=me),J}function rs(R,v,_,T,$="",J=0,me){return{element:R,triggerName:v,fromState:_,toState:T,phaseName:$,totalTime:J,disabled:!!me}}function hi(R,v,_){let T;return R instanceof Map?(T=R.get(v),T||R.set(v,T=_)):(T=R[v],T||(T=R[v]=_)),T}function Lr(R){const v=R.indexOf(":");return[R.substring(1,v),R.substr(v+1)]}let No=(R,v)=>!1,ti=(R,v)=>!1,Ms=(R,v,_)=>[];const ro=yi();(ro||"undefined"!=typeof Element)&&(No=mi()?(R,v)=>{for(;v&&v!==document.documentElement;){if(v===R)return!0;v=v.parentNode||v.host}return!1}:(R,v)=>R.contains(v),ti=(()=>{if(ro||Element.prototype.matches)return(R,v)=>R.matches(v);{const R=Element.prototype,v=R.matchesSelector||R.mozMatchesSelector||R.msMatchesSelector||R.oMatchesSelector||R.webkitMatchesSelector;return v?(_,T)=>v.apply(_,[T]):ti}})(),Ms=(R,v,_)=>{let T=[];if(_){const $=R.querySelectorAll(v);for(let J=0;J<$.length;J++)T.push($[J])}else{const $=R.querySelector(v);$&&T.push($)}return T});let Mi=null,Po=!1;function Hs(R){Mi||(Mi=("undefined"!=typeof document?document.body:null)||{},Po=!!Mi.style&&"WebkitAppearance"in Mi.style);let v=!0;return Mi.style&&!function(R){return"ebkit"==R.substring(1,6)}(R)&&(v=R in Mi.style,!v&&Po&&(v="Webkit"+R.charAt(0).toUpperCase()+R.substr(1)in Mi.style)),v}const qr=ti,ni=No,io=Ms;function ys(R){const v={};return Object.keys(R).forEach(_=>{const T=_.replace(/([a-z])([A-Z])/g,"$1-$2");v[T]=R[_]}),v}let $s=(()=>{class R{validateStyleProperty(_){return Hs(_)}matchesElement(_,T){return qr(_,T)}containsElement(_,T){return ni(_,T)}query(_,T,$){return io(_,T,$)}computeStyle(_,T,$){return $||""}animate(_,T,$,J,me,Se=[],je){return new jn.ZN($,J)}}return R.\u0275fac=function(_){return new(_||R)},R.\u0275prov=P.Yz7({token:R,factory:R.\u0275fac}),R})(),Ji=(()=>{class R{}return R.NOOP=new $s,R})();const po="ng-enter",Hi="ng-leave",W="ng-trigger",j=".ng-trigger",L="ng-animating",te=".ng-animating";function Xe(R){if("number"==typeof R)return R;const v=R.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:Kt(parseFloat(v[1]),v[2])}function Kt(R,v){switch(v){case"s":return 1e3*R;default:return R}}function cr(R,v,_){return R.hasOwnProperty("duration")?R:function(R,v,_){let $,J=0,me="";if("string"==typeof R){const Se=R.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Se)return v.push(`The provided timing value "${R}" is invalid.`),{duration:0,delay:0,easing:""};$=Kt(parseFloat(Se[1]),Se[2]);const je=Se[3];null!=je&&(J=Kt(parseFloat(je),Se[4]));const ut=Se[5];ut&&(me=ut)}else $=R;if(!_){let Se=!1,je=v.length;$<0&&(v.push("Duration values below 0 are not allowed for this animation step."),Se=!0),J<0&&(v.push("Delay values below 0 are not allowed for this animation step."),Se=!0),Se&&v.splice(je,0,`The provided timing value "${R}" is invalid.`)}return{duration:$,delay:J,easing:me}}(R,v,_)}function fi(R,v={}){return Object.keys(R).forEach(_=>{v[_]=R[_]}),v}function V(R,v,_={}){if(v)for(let T in R)_[T]=R[T];else fi(R,_);return _}function ee(R,v,_){return _?v+":"+_+";":""}function H(R){let v="";for(let _=0;_<R.style.length;_++){const T=R.style.item(_);v+=ee(0,T,R.style.getPropertyValue(T))}for(const _ in R.style)R.style.hasOwnProperty(_)&&!_.startsWith("_")&&(v+=ee(0,dr(_),R.style[_]));R.setAttribute("style",v)}function ie(R,v,_){R.style&&(Object.keys(v).forEach(T=>{const $=pr(T);_&&!_.hasOwnProperty(T)&&(_[T]=R.style[$]),R.style[$]=v[T]}),yi()&&H(R))}function De(R,v){R.style&&(Object.keys(v).forEach(_=>{const T=pr(_);R.style[T]=""}),yi()&&H(R))}function tt(R){return Array.isArray(R)?1==R.length?R[0]:(0,jn.vP)(R):R}const Zt=new RegExp("{{\\s*(.+?)\\s*}}","g");function On(R){let v=[];if("string"==typeof R){let _;for(;_=Zt.exec(R);)v.push(_[1]);Zt.lastIndex=0}return v}function mr(R,v,_){const T=R.toString(),$=T.replace(Zt,(J,me)=>{let Se=v[me];return v.hasOwnProperty(me)||(_.push(`Please provide a value for the animation param ${me}`),Se=""),Se.toString()});return $==T?R:$}function rr(R){const v=[];let _=R.next();for(;!_.done;)v.push(_.value),_=R.next();return v}const wn=/-+([a-z0-9])/g;function pr(R){return R.replace(wn,(...v)=>v[1].toUpperCase())}function dr(R){return R.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ri(R,v){return 0===R||0===v}function Gs(R,v,_){const T=Object.keys(_);if(T.length&&v.length){let J=v[0],me=[];if(T.forEach(Se=>{J.hasOwnProperty(Se)||me.push(Se),J[Se]=_[Se]}),me.length)for(var $=1;$<v.length;$++){let Se=v[$];me.forEach(function(je){Se[je]=Ns(R,je)})}}return v}function sr(R,v,_){switch(v.type){case 7:return R.visitTrigger(v,_);case 0:return R.visitState(v,_);case 1:return R.visitTransition(v,_);case 2:return R.visitSequence(v,_);case 3:return R.visitGroup(v,_);case 4:return R.visitAnimate(v,_);case 5:return R.visitKeyframes(v,_);case 6:return R.visitStyle(v,_);case 8:return R.visitReference(v,_);case 9:return R.visitAnimateChild(v,_);case 10:return R.visitAnimateRef(v,_);case 11:return R.visitQuery(v,_);case 12:return R.visitStagger(v,_);default:throw new Error(`Unable to resolve animation metadata node #${v.type}`)}}function Ns(R,v){return window.getComputedStyle(R)[v]}function an(R,v){const _=[];return"string"==typeof R?R.split(/\s*,\s*/).forEach(T=>function(R,v,_){if(":"==R[0]){const je=function(R,v){switch(R){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,T)=>parseFloat(T)>parseFloat(_);case":decrement":return(_,T)=>parseFloat(T)<parseFloat(_);default:return v.push(`The transition alias value "${R}" is not supported`),"* => *"}}(R,_);if("function"==typeof je)return void v.push(je);R=je}const T=R.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==T||T.length<4)return _.push(`The provided transition expression "${R}" is not supported`),v;const $=T[1],J=T[2],me=T[3];v.push(da($,me));"<"==J[0]&&!("*"==$&&"*"==me)&&v.push(da(me,$))}(T,_,v)):_.push(R),_}const go=new Set(["true","1"]),so=new Set(["false","0"]);function da(R,v){const _=go.has(R)||so.has(R),T=go.has(v)||so.has(v);return($,J)=>{let me="*"==R||R==$,Se="*"==v||v==J;return!me&&_&&"boolean"==typeof $&&(me=$?go.has(R):so.has(R)),!Se&&T&&"boolean"==typeof J&&(Se=J?go.has(v):so.has(v)),me&&Se}}const ha=new RegExp("s*:selfs*,?","g");function Et(R,v,_){return new qa(R).build(v,_)}class qa{constructor(v){this._driver=v}build(v,_){const T=new Lo(_);return this._resetContextStyleTimingState(T),sr(this,tt(v),T)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles={},v.collectedStyles[""]={},v.currentTime=0}visitTrigger(v,_){let T=_.queryCount=0,$=_.depCount=0;const J=[],me=[];return"@"==v.name.charAt(0)&&_.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),v.definitions.forEach(Se=>{if(this._resetContextStyleTimingState(_),0==Se.type){const je=Se,ut=je.name;ut.toString().split(/\s*,\s*/).forEach(Lt=>{je.name=Lt,J.push(this.visitState(je,_))}),je.name=ut}else if(1==Se.type){const je=this.visitTransition(Se,_);T+=je.queryCount,$+=je.depCount,me.push(je)}else _.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:v.name,states:J,transitions:me,queryCount:T,depCount:$,options:null}}visitState(v,_){const T=this.visitStyle(v.styles,_),$=v.options&&v.options.params||null;if(T.containsDynamicStyles){const J=new Set,me=$||{};if(T.styles.forEach(Se=>{if(oo(Se)){const je=Se;Object.keys(je).forEach(ut=>{On(je[ut]).forEach(Lt=>{me.hasOwnProperty(Lt)||J.add(Lt)})})}}),J.size){const Se=rr(J.values());_.errors.push(`state("${v.name}", ...) must define default values for all the following style substitutions: ${Se.join(", ")}`)}}return{type:0,name:v.name,style:T,options:$?{params:$}:null}}visitTransition(v,_){_.queryCount=0,_.depCount=0;const T=sr(this,tt(v.animation),_);return{type:1,matchers:an(v.expr,_.errors),animation:T,queryCount:_.queryCount,depCount:_.depCount,options:ao(v.options)}}visitSequence(v,_){return{type:2,steps:v.steps.map(T=>sr(this,T,_)),options:ao(v.options)}}visitGroup(v,_){const T=_.currentTime;let $=0;const J=v.steps.map(me=>{_.currentTime=T;const Se=sr(this,me,_);return $=Math.max($,_.currentTime),Se});return _.currentTime=$,{type:3,steps:J,options:ao(v.options)}}visitAnimate(v,_){const T=function(R,v){let _=null;if(R.hasOwnProperty("duration"))_=R;else if("number"==typeof R)return Sa(cr(R,v).duration,0,"");const T=R;if(T.split(/\s+/).some(J=>"{"==J.charAt(0)&&"{"==J.charAt(1))){const J=Sa(0,0,"");return J.dynamic=!0,J.strValue=T,J}return _=_||cr(T,v),Sa(_.duration,_.delay,_.easing)}(v.timings,_.errors);_.currentAnimateTimings=T;let $,J=v.styles?v.styles:(0,jn.oB)({});if(5==J.type)$=this.visitKeyframes(J,_);else{let me=v.styles,Se=!1;if(!me){Se=!0;const ut={};T.easing&&(ut.easing=T.easing),me=(0,jn.oB)(ut)}_.currentTime+=T.duration+T.delay;const je=this.visitStyle(me,_);je.isEmptyStep=Se,$=je}return _.currentAnimateTimings=null,{type:4,timings:T,style:$,options:null}}visitStyle(v,_){const T=this._makeStyleAst(v,_);return this._validateStyleAst(T,_),T}_makeStyleAst(v,_){const T=[];Array.isArray(v.styles)?v.styles.forEach(me=>{"string"==typeof me?me==jn.l3?T.push(me):_.errors.push(`The provided style string value ${me} is not allowed.`):T.push(me)}):T.push(v.styles);let $=!1,J=null;return T.forEach(me=>{if(oo(me)){const Se=me,je=Se.easing;if(je&&(J=je,delete Se.easing),!$)for(let ut in Se)if(Se[ut].toString().indexOf("{{")>=0){$=!0;break}}}),{type:6,styles:T,easing:J,offset:v.offset,containsDynamicStyles:$,options:null}}_validateStyleAst(v,_){const T=_.currentAnimateTimings;let $=_.currentTime,J=_.currentTime;T&&J>0&&(J-=T.duration+T.delay),v.styles.forEach(me=>{"string"!=typeof me&&Object.keys(me).forEach(Se=>{if(!this._driver.validateStyleProperty(Se))return void _.errors.push(`The provided animation property "${Se}" is not a supported CSS property for animations`);const je=_.collectedStyles[_.currentQuerySelector],ut=je[Se];let Lt=!0;ut&&(J!=$&&J>=ut.startTime&&$<=ut.endTime&&(_.errors.push(`The CSS property "${Se}" that exists between the times of "${ut.startTime}ms" and "${ut.endTime}ms" is also being animated in a parallel animation between the times of "${J}ms" and "${$}ms"`),Lt=!1),J=ut.startTime),Lt&&(je[Se]={startTime:J,endTime:$}),_.options&&function(R,v,_){const T=v.params||{},$=On(R);$.length&&$.forEach(J=>{T.hasOwnProperty(J)||_.push(`Unable to resolve the local animation param ${J} in the given list of values`)})}(me[Se],_.options,_.errors)})})}visitKeyframes(v,_){const T={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push("keyframes() must be placed inside of a call to animate()"),T;let J=0;const me=[];let Se=!1,je=!1,ut=0;const Lt=v.steps.map(Jr=>{const Si=this._makeStyleAst(Jr,_);let Ai=null!=Si.offset?Si.offset:function(R){if("string"==typeof R)return null;let v=null;if(Array.isArray(R))R.forEach(_=>{if(oo(_)&&_.hasOwnProperty("offset")){const T=_;v=parseFloat(T.offset),delete T.offset}});else if(oo(R)&&R.hasOwnProperty("offset")){const _=R;v=parseFloat(_.offset),delete _.offset}return v}(Si.styles),Gi=0;return null!=Ai&&(J++,Gi=Si.offset=Ai),je=je||Gi<0||Gi>1,Se=Se||Gi<ut,ut=Gi,me.push(Gi),Si});je&&_.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),Se&&_.errors.push("Please ensure that all keyframe offsets are in order");const nn=v.steps.length;let Ln=0;J>0&&J<nn?_.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==J&&(Ln=1/(nn-1));const Mn=nn-1,Cn=_.currentTime,Vn=_.currentAnimateTimings,or=Vn.duration;return Lt.forEach((Jr,Si)=>{const Ai=Ln>0?Si==Mn?1:Ln*Si:me[Si],Gi=Ai*or;_.currentTime=Cn+Vn.delay+Gi,Vn.duration=Gi,this._validateStyleAst(Jr,_),Jr.offset=Ai,T.styles.push(Jr)}),T}visitReference(v,_){return{type:8,animation:sr(this,tt(v.animation),_),options:ao(v.options)}}visitAnimateChild(v,_){return _.depCount++,{type:9,options:ao(v.options)}}visitAnimateRef(v,_){return{type:10,animation:this.visitReference(v.animation,_),options:ao(v.options)}}visitQuery(v,_){const T=_.currentQuerySelector,$=v.options||{};_.queryCount++,_.currentQuery=v;const[J,me]=function(R){const v=!!R.split(/\s*,\s*/).find(_=>":self"==_);return v&&(R=R.replace(ha,"")),[R=R.replace(/@\*/g,j).replace(/@\w+/g,_=>j+"-"+_.substr(1)).replace(/:animating/g,te),v]}(v.selector);_.currentQuerySelector=T.length?T+" "+J:J,hi(_.collectedStyles,_.currentQuerySelector,{});const Se=sr(this,tt(v.animation),_);return _.currentQuery=null,_.currentQuerySelector=T,{type:11,selector:J,limit:$.limit||0,optional:!!$.optional,includeSelf:me,animation:Se,originalSelector:v.selector,options:ao(v.options)}}visitStagger(v,_){_.currentQuery||_.errors.push("stagger() can only be used inside of query()");const T="full"===v.timings?{duration:0,delay:0,easing:"full"}:cr(v.timings,_.errors,!0);return{type:12,animation:sr(this,tt(v.animation),_),timings:T,options:null}}}class Lo{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function oo(R){return!Array.isArray(R)&&"object"==typeof R}function ao(R){return R?(R=fi(R)).params&&(R.params=function(R){return R?fi(R):null}(R.params)):R={},R}function Sa(R,v,_){return{duration:R,delay:v,easing:_}}function Ps(R,v,_,T,$,J,me=null,Se=!1){return{type:1,element:R,keyframes:v,preStyleProps:_,postStyleProps:T,duration:$,delay:J,totalTime:$+J,easing:me,subTimeline:Se}}class Fs{constructor(){this._map=new Map}consume(v){let _=this._map.get(v);return _?this._map.delete(v):_=[],_}append(v,_){let T=this._map.get(v);T||this._map.set(v,T=[]),T.push(..._)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const fa=new RegExp(":enter","g"),$i=new RegExp(":leave","g");function Aa(R,v,_,T,$,J={},me={},Se,je,ut=[]){return(new Vr).buildKeyframes(R,v,_,T,$,J,me,Se,je,ut)}class Vr{buildKeyframes(v,_,T,$,J,me,Se,je,ut,Lt=[]){ut=ut||new Fs;const nn=new Ko(v,_,ut,$,J,Lt,[]);nn.options=je,nn.currentTimeline.setStyles([me],null,nn.errors,je),sr(this,T,nn);const Ln=nn.timelines.filter(Mn=>Mn.containsAnimation());if(Ln.length&&Object.keys(Se).length){const Mn=Ln[Ln.length-1];Mn.allowOnlyTimelineStyles()||Mn.setStyles([Se],null,nn.errors,je)}return Ln.length?Ln.map(Mn=>Mn.buildKeyframes()):[Ps(_,[],[],[],0,0,"",!1)]}visitTrigger(v,_){}visitState(v,_){}visitTransition(v,_){}visitAnimateChild(v,_){const T=_.subInstructions.consume(_.element);if(T){const $=_.createSubContext(v.options),J=_.currentTimeline.currentTime,me=this._visitSubInstructions(T,$,$.options);J!=me&&_.transformIntoNewTimeline(me)}_.previousNode=v}visitAnimateRef(v,_){const T=_.createSubContext(v.options);T.transformIntoNewTimeline(),this.visitReference(v.animation,T),_.transformIntoNewTimeline(T.currentTimeline.currentTime),_.previousNode=v}_visitSubInstructions(v,_,T){let J=_.currentTimeline.currentTime;const me=null!=T.duration?Xe(T.duration):null,Se=null!=T.delay?Xe(T.delay):null;return 0!==me&&v.forEach(je=>{const ut=_.appendInstructionToTimeline(je,me,Se);J=Math.max(J,ut.duration+ut.delay)}),J}visitReference(v,_){_.updateOptions(v.options,!0),sr(this,v.animation,_),_.previousNode=v}visitSequence(v,_){const T=_.subContextCount;let $=_;const J=v.options;if(J&&(J.params||J.delay)&&($=_.createSubContext(J),$.transformIntoNewTimeline(),null!=J.delay)){6==$.previousNode.type&&($.currentTimeline.snapshotCurrentStyles(),$.previousNode=uo);const me=Xe(J.delay);$.delayNextStep(me)}v.steps.length&&(v.steps.forEach(me=>sr(this,me,$)),$.currentTimeline.applyStylesToKeyframe(),$.subContextCount>T&&$.transformIntoNewTimeline()),_.previousNode=v}visitGroup(v,_){const T=[];let $=_.currentTimeline.currentTime;const J=v.options&&v.options.delay?Xe(v.options.delay):0;v.steps.forEach(me=>{const Se=_.createSubContext(v.options);J&&Se.delayNextStep(J),sr(this,me,Se),$=Math.max($,Se.currentTimeline.currentTime),T.push(Se.currentTimeline)}),T.forEach(me=>_.currentTimeline.mergeTimelineCollectedStyles(me)),_.transformIntoNewTimeline($),_.previousNode=v}_visitTiming(v,_){if(v.dynamic){const T=v.strValue;return cr(_.params?mr(T,_.params,_.errors):T,_.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,_){const T=_.currentAnimateTimings=this._visitTiming(v.timings,_),$=_.currentTimeline;T.delay&&(_.incrementTime(T.delay),$.snapshotCurrentStyles());const J=v.style;5==J.type?this.visitKeyframes(J,_):(_.incrementTime(T.duration),this.visitStyle(J,_),$.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=v}visitStyle(v,_){const T=_.currentTimeline,$=_.currentAnimateTimings;!$&&T.getCurrentStyleProperties().length&&T.forwardFrame();const J=$&&$.easing||v.easing;v.isEmptyStep?T.applyEmptyStep(J):T.setStyles(v.styles,J,_.errors,_.options),_.previousNode=v}visitKeyframes(v,_){const T=_.currentAnimateTimings,$=_.currentTimeline.duration,J=T.duration,Se=_.createSubContext().currentTimeline;Se.easing=T.easing,v.styles.forEach(je=>{Se.forwardTime((je.offset||0)*J),Se.setStyles(je.styles,je.easing,_.errors,_.options),Se.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(Se),_.transformIntoNewTimeline($+J),_.previousNode=v}visitQuery(v,_){const T=_.currentTimeline.currentTime,$=v.options||{},J=$.delay?Xe($.delay):0;J&&(6===_.previousNode.type||0==T&&_.currentTimeline.getCurrentStyleProperties().length)&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=uo);let me=T;const Se=_.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!$.optional,_.errors);_.currentQueryTotal=Se.length;let je=null;Se.forEach((ut,Lt)=>{_.currentQueryIndex=Lt;const nn=_.createSubContext(v.options,ut);J&&nn.delayNextStep(J),ut===_.element&&(je=nn.currentTimeline),sr(this,v.animation,nn),nn.currentTimeline.applyStylesToKeyframe(),me=Math.max(me,nn.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(me),je&&(_.currentTimeline.mergeTimelineCollectedStyles(je),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=v}visitStagger(v,_){const T=_.parentContext,$=_.currentTimeline,J=v.timings,me=Math.abs(J.duration),Se=me*(_.currentQueryTotal-1);let je=me*_.currentQueryIndex;switch(J.duration<0?"reverse":J.easing){case"reverse":je=Se-je;break;case"full":je=T.currentStaggerTime}const Lt=_.currentTimeline;je&&Lt.delayNextStep(je);const nn=Lt.currentTime;sr(this,v.animation,_),_.previousNode=v,T.currentStaggerTime=$.currentTime-nn+($.startTime-T.currentTimeline.startTime)}}const uo={};class Ko{constructor(v,_,T,$,J,me,Se,je){this._driver=v,this.element=_,this.subInstructions=T,this._enterClassName=$,this._leaveClassName=J,this.errors=me,this.timelines=Se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=je||new qo(this._driver,_,0),Se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,_){if(!v)return;const T=v;let $=this.options;null!=T.duration&&($.duration=Xe(T.duration)),null!=T.delay&&($.delay=Xe(T.delay));const J=T.params;if(J){let me=$.params;me||(me=this.options.params={}),Object.keys(J).forEach(Se=>{(!_||!me.hasOwnProperty(Se))&&(me[Se]=mr(J[Se],me,this.errors))})}}_copyOptions(){const v={};if(this.options){const _=this.options.params;if(_){const T=v.params={};Object.keys(_).forEach($=>{T[$]=_[$]})}}return v}createSubContext(v=null,_,T){const $=_||this.element,J=new Ko(this._driver,$,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork($,T||0));return J.previousNode=this.previousNode,J.currentAnimateTimings=this.currentAnimateTimings,J.options=this._copyOptions(),J.updateOptions(v),J.currentQueryIndex=this.currentQueryIndex,J.currentQueryTotal=this.currentQueryTotal,J.parentContext=this,this.subContextCount++,J}transformIntoNewTimeline(v){return this.previousNode=uo,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,_,T){const $={duration:null!=_?_:v.duration,delay:this.currentTimeline.currentTime+(null!=T?T:0)+v.delay,easing:""},J=new mo(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,$,v.stretchStartingKeyframe);return this.timelines.push(J),$}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,_,T,$,J,me){let Se=[];if($&&Se.push(this.element),v.length>0){v=(v=v.replace(fa,"."+this._enterClassName)).replace($i,"."+this._leaveClassName);let ut=this._driver.query(this.element,v,1!=T);0!==T&&(ut=T<0?ut.slice(ut.length+T,ut.length):ut.slice(0,T)),Se.push(...ut)}return!J&&0==Se.length&&me.push(`\`query("${_}")\` returned zero elements. (Use \`query("${_}", { optional: true })\` if you wish to allow this.)`),Se}}class qo{constructor(v,_,T,$){this._driver=v,this.element=_,this.startTime=T,this._elementTimelineStylesLookup=$,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const _=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||_?(this.forwardTime(this.currentTime+v),_&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,_){return this.applyStylesToKeyframe(),new qo(this._driver,v,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,_){this._localTimelineStyles[v]=_,this._globalTimelineStyles[v]=_,this._styleSummary[v]={time:this.currentTime,value:_}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&(this._previousKeyframe.easing=v),Object.keys(this._globalTimelineStyles).forEach(_=>{this._backFill[_]=this._globalTimelineStyles[_]||jn.l3,this._currentKeyframe[_]=jn.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,_,T,$){_&&(this._previousKeyframe.easing=_);const J=$&&$.params||{},me=function(R,v){const _={};let T;return R.forEach($=>{"*"===$?(T=T||Object.keys(v),T.forEach(J=>{_[J]=jn.l3})):V($,!1,_)}),_}(v,this._globalTimelineStyles);Object.keys(me).forEach(Se=>{const je=mr(me[Se],J,T);this._pendingStyles[Se]=je,this._localTimelineStyles.hasOwnProperty(Se)||(this._backFill[Se]=this._globalTimelineStyles.hasOwnProperty(Se)?this._globalTimelineStyles[Se]:jn.l3),this._updateStyle(Se,je)})}applyStylesToKeyframe(){const v=this._pendingStyles,_=Object.keys(v);0!=_.length&&(this._pendingStyles={},_.forEach(T=>{this._currentKeyframe[T]=v[T]}),Object.keys(this._localTimelineStyles).forEach(T=>{this._currentKeyframe.hasOwnProperty(T)||(this._currentKeyframe[T]=this._localTimelineStyles[T])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(v=>{const _=this._localTimelineStyles[v];this._pendingStyles[v]=_,this._updateStyle(v,_)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let _ in this._currentKeyframe)v.push(_);return v}mergeTimelineCollectedStyles(v){Object.keys(v._styleSummary).forEach(_=>{const T=this._styleSummary[_],$=v._styleSummary[_];(!T||$.time>T.time)&&this._updateStyle(_,$.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,_=new Set,T=1===this._keyframes.size&&0===this.duration;let $=[];this._keyframes.forEach((Se,je)=>{const ut=V(Se,!0);Object.keys(ut).forEach(Lt=>{const nn=ut[Lt];nn==jn.k1?v.add(Lt):nn==jn.l3&&_.add(Lt)}),T||(ut.offset=je/this.duration),$.push(ut)});const J=v.size?rr(v.values()):[],me=_.size?rr(_.values()):[];if(T){const Se=$[0],je=fi(Se);Se.offset=0,je.offset=1,$=[Se,je]}return Ps(this.element,$,J,me,this.duration,this.startTime,this.easing,!1)}}class mo extends qo{constructor(v,_,T,$,J,me,Se=!1){super(v,_,me.delay),this.keyframes=T,this.preStyleProps=$,this.postStyleProps=J,this._stretchStartingKeyframe=Se,this.timings={duration:me.duration,delay:me.delay,easing:me.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:_,duration:T,easing:$}=this.timings;if(this._stretchStartingKeyframe&&_){const J=[],me=T+_,Se=_/me,je=V(v[0],!1);je.offset=0,J.push(je);const ut=V(v[0],!1);ut.offset=xa(Se),J.push(ut);const Lt=v.length-1;for(let nn=1;nn<=Lt;nn++){let Ln=V(v[nn],!1);Ln.offset=xa((_+Ln.offset*T)/me),J.push(Ln)}T=me,_=0,$="",v=J}return Ps(this.element,v,this.preStyleProps,this.postStyleProps,T,_,$,!0)}}function xa(R,v=3){const _=Math.pow(10,v-1);return Math.round(R*_)/_}class zs{}class Za extends zs{normalizePropertyName(v,_){return pr(v)}normalizeStyleValue(v,_,T,$){let J="";const me=T.toString().trim();if(Ti[_]&&0!==T&&"0"!==T)if("number"==typeof T)J="px";else{const Se=T.match(/^[+-]?[\d\.]+([a-z]*)$/);Se&&0==Se[1].length&&$.push(`Please provide a CSS unit value for ${v}:${T}`)}return me+J}}const Ti=(()=>function(R){const v={};return R.forEach(_=>v[_]=!0),v}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ls(R,v,_,T,$,J,me,Se,je,ut,Lt,nn,Ln){return{type:0,element:R,triggerName:v,isRemovalTransition:$,fromState:_,fromStyles:J,toState:T,toStyles:me,timelines:Se,queriedElements:je,preStyleProps:ut,postStyleProps:Lt,totalTime:nn,errors:Ln}}const _o={};class pa{constructor(v,_,T){this._triggerName=v,this.ast=_,this._stateStyles=T}match(v,_,T,$){return function(R,v,_,T,$){return R.some(J=>J(v,_,T,$))}(this.ast.matchers,v,_,T,$)}buildStyles(v,_,T){const $=this._stateStyles["*"],J=this._stateStyles[v],me=$?$.buildStyles(_,T):{};return J?J.buildStyles(_,T):me}build(v,_,T,$,J,me,Se,je,ut,Lt){const nn=[],Ln=this.ast.options&&this.ast.options.params||_o,Cn=this.buildStyles(T,Se&&Se.params||_o,nn),Vn=je&&je.params||_o,or=this.buildStyles($,Vn,nn),Jr=new Set,Si=new Map,Ai=new Map,Gi="void"===$,Ho={params:Object.assign(Object.assign({},Ln),Vn)},Co=Lt?[]:Aa(v,_,this.ast.animation,J,me,Cn,or,Ho,ut,nn);let zi=0;if(Co.forEach(Ki=>{zi=Math.max(Ki.duration+Ki.delay,zi)}),nn.length)return Ls(_,this._triggerName,T,$,Gi,Cn,or,[],[],Si,Ai,zi,nn);Co.forEach(Ki=>{const Jo=Ki.element,mu=hi(Si,Jo,{});Ki.preStyleProps.forEach(Ni=>mu[Ni]=!0);const Io=hi(Ai,Jo,{});Ki.postStyleProps.forEach(Ni=>Io[Ni]=!0),Jo!==_&&Jr.add(Jo)});const Ys=rr(Jr.values());return Ls(_,this._triggerName,T,$,Gi,Cn,or,Co,Ys,Si,Ai,zi)}}class Ks{constructor(v,_,T){this.styles=v,this.defaultParams=_,this.normalizer=T}buildStyles(v,_){const T={},$=fi(this.defaultParams);return Object.keys(v).forEach(J=>{const me=v[J];null!=me&&($[J]=me)}),this.styles.styles.forEach(J=>{if("string"!=typeof J){const me=J;Object.keys(me).forEach(Se=>{let je=me[Se];je.length>1&&(je=mr(je,$,_));const ut=this.normalizer.normalizePropertyName(Se,_);je=this.normalizer.normalizeStyleValue(Se,ut,je,_),T[ut]=je})}}),T}}class Oa{constructor(v,_,T){this.name=v,this.ast=_,this._normalizer=T,this.transitionFactories=[],this.states={},_.states.forEach($=>{this.states[$.name]=new Ks($.style,$.options&&$.options.params||{},T)}),ga(this.states,"true","1"),ga(this.states,"false","0"),_.transitions.forEach($=>{this.transitionFactories.push(new pa(v,$,this.states))}),this.fallbackTransition=function(R,v,_){return new pa(R,{type:1,animation:{type:2,steps:[],options:null},matchers:[(me,Se)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,_,T,$){return this.transitionFactories.find(me=>me.match(v,_,T,$))||null}matchStyles(v,_,T){return this.fallbackTransition.buildStyles(v,_,T)}}function ga(R,v,_){R.hasOwnProperty(v)?R.hasOwnProperty(_)||(R[_]=R[v]):R.hasOwnProperty(_)&&(R[v]=R[_])}const vo=new Fs;class Eo{constructor(v,_,T){this.bodyNode=v,this._driver=_,this._normalizer=T,this._animations={},this._playersById={},this.players=[]}register(v,_){const T=[],$=Et(this._driver,_,T);if(T.length)throw new Error(`Unable to build the animation due to the following errors: ${T.join("\n")}`);this._animations[v]=$}_buildPlayer(v,_,T){const $=v.element,J=di(0,this._normalizer,0,v.keyframes,_,T);return this._driver.animate($,J,v.duration,v.delay,v.easing,[],!0)}create(v,_,T={}){const $=[],J=this._animations[v];let me;const Se=new Map;if(J?(me=Aa(this._driver,_,J,po,Hi,{},{},T,vo,$),me.forEach(Lt=>{const nn=hi(Se,Lt.element,{});Lt.postStyleProps.forEach(Ln=>nn[Ln]=null)})):($.push("The requested animation doesn't exist or has already been destroyed"),me=[]),$.length)throw new Error(`Unable to create the animation due to the following errors: ${$.join("\n")}`);Se.forEach((Lt,nn)=>{Object.keys(Lt).forEach(Ln=>{Lt[Ln]=this._driver.computeStyle(nn,Ln,jn.l3)})});const ut=gr(me.map(Lt=>{const nn=Se.get(Lt.element);return this._buildPlayer(Lt,{},nn)}));return this._playersById[v]=ut,ut.onDestroy(()=>this.destroy(v)),this.players.push(ut),ut}destroy(v){const _=this._getPlayer(v);_.destroy(),delete this._playersById[v];const T=this.players.indexOf(_);T>=0&&this.players.splice(T,1)}_getPlayer(v){const _=this._playersById[v];if(!_)throw new Error(`Unable to find the timeline player referenced by ${v}`);return _}listen(v,_,T,$){const J=rs(_,"","","");return _i(this._getPlayer(v),T,J,$),()=>{}}command(v,_,T,$){if("register"==T)return void this.register(v,$[0]);if("create"==T)return void this.create(v,_,$[0]||{});const J=this._getPlayer(v);switch(T){case"play":J.play();break;case"pause":J.pause();break;case"reset":J.reset();break;case"restart":J.restart();break;case"finish":J.finish();break;case"init":J.init();break;case"setPosition":J.setPosition(parseFloat($[0]));break;case"destroy":this.destroy(v)}}}const Ra="ng-animate-queued",Yo="ng-animate-disabled",ss=".ng-animate-disabled",Ya=[],os={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ue="__ng_removed";class I{constructor(v,_=""){this.namespaceId=_;const T=v&&v.hasOwnProperty("value");if(this.value=null!=(R=T?v.value:v)?R:null,T){const J=fi(v);delete J.value,this.options=J}else this.options={};var R;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(v){const _=v.params;if(_){const T=this.options.params;Object.keys(_).forEach($=>{null==T[$]&&(T[$]=_[$])})}}}const F="void",de=new I(F);class Be{constructor(v,_,T){this.id=v,this.hostElement=_,this._engine=T,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,U(_,this._hostClassName)}listen(v,_,T,$){if(!this._triggers.hasOwnProperty(_))throw new Error(`Unable to listen on the animation trigger event "${T}" because the animation trigger "${_}" doesn't exist!`);if(null==T||0==T.length)throw new Error(`Unable to listen on the animation trigger "${_}" because the provided event is undefined!`);if("start"!=(R=T)&&"done"!=R)throw new Error(`The provided animation trigger event "${T}" for the animation trigger "${_}" is not supported!`);var R;const J=hi(this._elementListeners,v,[]),me={name:_,phase:T,callback:$};J.push(me);const Se=hi(this._engine.statesByElement,v,{});return Se.hasOwnProperty(_)||(U(v,W),U(v,W+"-"+_),Se[_]=de),()=>{this._engine.afterFlush(()=>{const je=J.indexOf(me);je>=0&&J.splice(je,1),this._triggers[_]||delete Se[_]})}}register(v,_){return!this._triggers[v]&&(this._triggers[v]=_,!0)}_getTrigger(v){const _=this._triggers[v];if(!_)throw new Error(`The provided animation trigger "${v}" has not been registered!`);return _}trigger(v,_,T,$=!0){const J=this._getTrigger(_),me=new en(this.id,_,v);let Se=this._engine.statesByElement.get(v);Se||(U(v,W),U(v,W+"-"+_),this._engine.statesByElement.set(v,Se={}));let je=Se[_];const ut=new I(T,this.id);if(!(T&&T.hasOwnProperty("value"))&&je&&ut.absorbOptions(je.options),Se[_]=ut,je||(je=de),ut.value!==F&&je.value===ut.value){if(!function(R,v){const _=Object.keys(R),T=Object.keys(v);if(_.length!=T.length)return!1;for(let $=0;$<_.length;$++){const J=_[$];if(!v.hasOwnProperty(J)||R[J]!==v[J])return!1}return!0}(je.params,ut.params)){const Vn=[],or=J.matchStyles(je.value,je.params,Vn),Jr=J.matchStyles(ut.value,ut.params,Vn);Vn.length?this._engine.reportError(Vn):this._engine.afterFlush(()=>{De(v,or),ie(v,Jr)})}return}const Ln=hi(this._engine.playersByElement,v,[]);Ln.forEach(Vn=>{Vn.namespaceId==this.id&&Vn.triggerName==_&&Vn.queued&&Vn.destroy()});let Mn=J.matchTransition(je.value,ut.value,v,ut.params),Cn=!1;if(!Mn){if(!$)return;Mn=J.fallbackTransition,Cn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:_,transition:Mn,fromState:je,toState:ut,player:me,isFallbackTransition:Cn}),Cn||(U(v,Ra),me.onStart(()=>{K(v,Ra)})),me.onDone(()=>{let Vn=this.players.indexOf(me);Vn>=0&&this.players.splice(Vn,1);const or=this._engine.playersByElement.get(v);if(or){let Jr=or.indexOf(me);Jr>=0&&or.splice(Jr,1)}}),this.players.push(me),Ln.push(me),me}deregister(v){delete this._triggers[v],this._engine.statesByElement.forEach((_,T)=>{delete _[v]}),this._elementListeners.forEach((_,T)=>{this._elementListeners.set(T,_.filter($=>$.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const _=this._engine.playersByElement.get(v);_&&(_.forEach(T=>T.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,_){const T=this._engine.driver.query(v,j,!0);T.forEach($=>{if($[ue])return;const J=this._engine.fetchNamespacesByElement($);J.size?J.forEach(me=>me.triggerLeaveAnimation($,_,!1,!0)):this.clearElementCache($)}),this._engine.afterFlushAnimationsDone(()=>T.forEach($=>this.clearElementCache($)))}triggerLeaveAnimation(v,_,T,$){const J=this._engine.statesByElement.get(v);if(J){const me=[];if(Object.keys(J).forEach(Se=>{if(this._triggers[Se]){const je=this.trigger(v,Se,F,$);je&&me.push(je)}}),me.length)return this._engine.markElementAsRemoved(this.id,v,!0,_),T&&gr(me).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const _=this._elementListeners.get(v),T=this._engine.statesByElement.get(v);if(_&&T){const $=new Set;_.forEach(J=>{const me=J.name;if($.has(me))return;$.add(me);const je=this._triggers[me].fallbackTransition,ut=T[me]||de,Lt=new I(F),nn=new en(this.id,me,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:me,transition:je,fromState:ut,toState:Lt,player:nn,isFallbackTransition:!0})})}}removeNode(v,_){const T=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,_),this.triggerLeaveAnimation(v,_,!0))return;let $=!1;if(T.totalAnimations){const J=T.players.length?T.playersByQueriedElement.get(v):[];if(J&&J.length)$=!0;else{let me=v;for(;me=me.parentNode;)if(T.statesByElement.get(me)){$=!0;break}}}if(this.prepareLeaveAnimationListeners(v),$)T.markElementAsRemoved(this.id,v,!1,_);else{const J=v[ue];(!J||J===os)&&(T.afterFlush(()=>this.clearElementCache(v)),T.destroyInnerAnimations(v),T._onRemovalComplete(v,_))}}insertNode(v,_){U(v,this._hostClassName)}drainQueuedTransitions(v){const _=[];return this._queue.forEach(T=>{const $=T.player;if($.destroyed)return;const J=T.element,me=this._elementListeners.get(J);me&&me.forEach(Se=>{if(Se.name==T.triggerName){const je=rs(J,T.triggerName,T.fromState.value,T.toState.value);je._data=v,_i(T.player,Se.phase,je,Se.callback)}}),$.markedForDestroy?this._engine.afterFlush(()=>{$.destroy()}):_.push(T)}),this._queue=[],_.sort((T,$)=>{const J=T.transition.ast.depCount,me=$.transition.ast.depCount;return 0==J||0==me?J-me:this._engine.driver.containsElement(T.element,$.element)?1:-1})}destroy(v){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let _=!1;return this._elementListeners.has(v)&&(_=!0),_=!!this._queue.find(T=>T.element===v)||_,_}}class dt{constructor(v,_,T){this.bodyNode=v,this.driver=_,this._normalizer=T,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=($,J)=>{}}_onRemovalComplete(v,_){this.onRemovalComplete(v,_)}get queuedPlayers(){const v=[];return this._namespaceList.forEach(_=>{_.players.forEach(T=>{T.queued&&v.push(T)})}),v}createNamespace(v,_){const T=new Be(v,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(T,_):(this.newHostElements.set(_,T),this.collectEnterElement(_)),this._namespaceLookup[v]=T}_balanceNamespaceList(v,_){const T=this._namespaceList.length-1;if(T>=0){let $=!1;for(let J=T;J>=0;J--)if(this.driver.containsElement(this._namespaceList[J].hostElement,_)){this._namespaceList.splice(J+1,0,v),$=!0;break}$||this._namespaceList.splice(0,0,v)}else this._namespaceList.push(v);return this.namespacesByHostElement.set(_,v),v}register(v,_){let T=this._namespaceLookup[v];return T||(T=this.createNamespace(v,_)),T}registerTrigger(v,_,T){let $=this._namespaceLookup[v];$&&$.register(_,T)&&this.totalAnimations++}destroy(v,_){if(!v)return;const T=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(T.hostElement),delete this._namespaceLookup[v];const $=this._namespaceList.indexOf(T);$>=0&&this._namespaceList.splice($,1)}),this.afterFlushAnimationsDone(()=>T.destroy(_))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const _=new Set,T=this.statesByElement.get(v);if(T){const $=Object.keys(T);for(let J=0;J<$.length;J++){const me=T[$[J]].namespaceId;if(me){const Se=this._fetchNamespace(me);Se&&_.add(Se)}}}return _}trigger(v,_,T,$){if(ws(_)){const J=this._fetchNamespace(v);if(J)return J.trigger(_,T,$),!0}return!1}insertNode(v,_,T,$){if(!ws(_))return;const J=_[ue];if(J&&J.setForRemoval){J.setForRemoval=!1,J.setForMove=!0;const me=this.collectedLeaveElements.indexOf(_);me>=0&&this.collectedLeaveElements.splice(me,1)}if(v){const me=this._fetchNamespace(v);me&&me.insertNode(_,T)}$&&this.collectEnterElement(_)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,_){_?this.disabledNodes.has(v)||(this.disabledNodes.add(v),U(v,Yo)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),K(v,Yo))}removeNode(v,_,T,$){if(ws(_)){const J=v?this._fetchNamespace(v):null;if(J?J.removeNode(_,$):this.markElementAsRemoved(v,_,!1,$),T){const me=this.namespacesByHostElement.get(_);me&&me.id!==v&&me.removeNode(_,$)}}else this._onRemovalComplete(_,$)}markElementAsRemoved(v,_,T,$){this.collectedLeaveElements.push(_),_[ue]={namespaceId:v,setForRemoval:$,hasAnimation:T,removedBeforeQueried:!1}}listen(v,_,T,$,J){return ws(_)?this._fetchNamespace(v).listen(_,T,$,J):()=>{}}_buildInstruction(v,_,T,$,J){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,T,$,v.fromState.options,v.toState.options,_,J)}destroyInnerAnimations(v){let _=this.driver.query(v,j,!0);_.forEach(T=>this.destroyActiveAnimationsForElement(T)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(v,te,!0),_.forEach(T=>this.finishActiveQueriedAnimationOnElement(T)))}destroyActiveAnimationsForElement(v){const _=this.playersByElement.get(v);_&&_.forEach(T=>{T.queued?T.markedForDestroy=!0:T.destroy()})}finishActiveQueriedAnimationOnElement(v){const _=this.playersByQueriedElement.get(v);_&&_.forEach(T=>T.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return gr(this.players).onDone(()=>v());v()})}processLeaveNode(v){const _=v[ue];if(_&&_.setForRemoval){if(v[ue]=os,_.namespaceId){this.destroyInnerAnimations(v);const T=this._fetchNamespace(_.namespaceId);T&&T.clearElementCache(v)}this._onRemovalComplete(v,_.setForRemoval)}this.driver.matchesElement(v,ss)&&this.markElementAsDisabled(v,!1),this.driver.query(v,ss,!0).forEach(T=>{this.markElementAsDisabled(T,!1)})}flush(v=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((T,$)=>this._balanceNamespaceList(T,$)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let T=0;T<this.collectedEnterElements.length;T++)U(this.collectedEnterElements[T],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const T=[];try{_=this._flushAnimations(T,v)}finally{for(let $=0;$<T.length;$++)T[$]()}}else for(let T=0;T<this.collectedLeaveElements.length;T++)this.processLeaveNode(this.collectedLeaveElements[T]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(T=>T()),this._flushFns=[],this._whenQuietFns.length){const T=this._whenQuietFns;this._whenQuietFns=[],_.length?gr(_).onDone(()=>{T.forEach($=>$())}):T.forEach($=>$())}}reportError(v){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${v.join("\n")}`)}_flushAnimations(v,_){const T=new Fs,$=[],J=new Map,me=[],Se=new Map,je=new Map,ut=new Map,Lt=new Set;this.disabledNodes.forEach(Jt=>{Lt.add(Jt);const fn=this.driver.query(Jt,".ng-animate-queued",!0);for(let _n=0;_n<fn.length;_n++)Lt.add(fn[_n])});const nn=this.bodyNode,Ln=Array.from(this.statesByElement.keys()),Mn=N(Ln,this.collectedEnterElements),Cn=new Map;let Vn=0;Mn.forEach((Jt,fn)=>{const _n=po+Vn++;Cn.set(fn,_n),Jt.forEach(er=>U(er,_n))});const or=[],Jr=new Set,Si=new Set;for(let Jt=0;Jt<this.collectedLeaveElements.length;Jt++){const fn=this.collectedLeaveElements[Jt],_n=fn[ue];_n&&_n.setForRemoval&&(or.push(fn),Jr.add(fn),_n.hasAnimation?this.driver.query(fn,".ng-star-inserted",!0).forEach(er=>Jr.add(er)):Si.add(fn))}const Ai=new Map,Gi=N(Ln,Array.from(Jr));Gi.forEach((Jt,fn)=>{const _n=Hi+Vn++;Ai.set(fn,_n),Jt.forEach(er=>U(er,_n))}),v.push(()=>{Mn.forEach((Jt,fn)=>{const _n=Cn.get(fn);Jt.forEach(er=>K(er,_n))}),Gi.forEach((Jt,fn)=>{const _n=Ai.get(fn);Jt.forEach(er=>K(er,_n))}),or.forEach(Jt=>{this.processLeaveNode(Jt)})});const Ho=[],Co=[];for(let Jt=this._namespaceList.length-1;Jt>=0;Jt--)this._namespaceList[Jt].drainQueuedTransitions(_).forEach(_n=>{const er=_n.player,Pi=_n.element;if(Ho.push(er),this.collectedEnterElements.length){const Ts=Pi[ue];if(Ts&&Ts.setForMove)return void er.destroy()}const Ds=!nn||!this.driver.containsElement(nn,Pi),Xr=Ai.get(Pi),Xo=Cn.get(Pi),Or=this._buildInstruction(_n,T,Xo,Xr,Ds);if(Or.errors&&Or.errors.length)Co.push(Or);else{if(Ds)return er.onStart(()=>De(Pi,Or.fromStyles)),er.onDestroy(()=>ie(Pi,Or.toStyles)),void $.push(er);if(_n.isFallbackTransition)return er.onStart(()=>De(Pi,Or.fromStyles)),er.onDestroy(()=>ie(Pi,Or.toStyles)),void $.push(er);Or.timelines.forEach(Ts=>Ts.stretchStartingKeyframe=!0),T.append(Pi,Or.timelines),me.push({instruction:Or,player:er,element:Pi}),Or.queriedElements.forEach(Ts=>hi(Se,Ts,[]).push(er)),Or.preStyleProps.forEach((Ts,Ss)=>{const ka=Object.keys(Ts);if(ka.length){let Va=je.get(Ss);Va||je.set(Ss,Va=new Set),ka.forEach(yu=>Va.add(yu))}}),Or.postStyleProps.forEach((Ts,Ss)=>{const ka=Object.keys(Ts);let Va=ut.get(Ss);Va||ut.set(Ss,Va=new Set),ka.forEach(yu=>Va.add(yu))})}});if(Co.length){const Jt=[];Co.forEach(fn=>{Jt.push(`@${fn.triggerName} has failed due to:\n`),fn.errors.forEach(_n=>Jt.push(`- ${_n}\n`))}),Ho.forEach(fn=>fn.destroy()),this.reportError(Jt)}const zi=new Map,Ys=new Map;me.forEach(Jt=>{const fn=Jt.element;T.has(fn)&&(Ys.set(fn,fn),this._beforeAnimationBuild(Jt.player.namespaceId,Jt.instruction,zi))}),$.forEach(Jt=>{const fn=Jt.element;this._getPreviousPlayers(fn,!1,Jt.namespaceId,Jt.triggerName,null).forEach(er=>{hi(zi,fn,[]).push(er),er.destroy()})});const Ki=or.filter(Jt=>Ut(Jt,je,ut)),Jo=new Map;Vu(Jo,this.driver,Si,ut,jn.l3).forEach(Jt=>{Ut(Jt,je,ut)&&Ki.push(Jt)});const Io=new Map;Mn.forEach((Jt,fn)=>{Vu(Io,this.driver,new Set(Jt),je,jn.k1)}),Ki.forEach(Jt=>{const fn=Jo.get(Jt),_n=Io.get(Jt);Jo.set(Jt,Object.assign(Object.assign({},fn),_n))});const Ni=[],cl=[],Br={};me.forEach(Jt=>{const{element:fn,player:_n,instruction:er}=Jt;if(T.has(fn)){if(Lt.has(fn))return _n.onDestroy(()=>ie(fn,er.toStyles)),_n.disabled=!0,_n.overrideTotalTime(er.totalTime),void $.push(_n);let Pi=Br;if(Ys.size>1){let Xr=fn;const Xo=[];for(;Xr=Xr.parentNode;){const Or=Ys.get(Xr);if(Or){Pi=Or;break}Xo.push(Xr)}Xo.forEach(Or=>Ys.set(Or,Pi))}const Ds=this._buildAnimation(_n.namespaceId,er,zi,J,Io,Jo);if(_n.setRealPlayer(Ds),Pi===Br)Ni.push(_n);else{const Xr=this.playersByElement.get(Pi);Xr&&Xr.length&&(_n.parentPlayer=gr(Xr)),$.push(_n)}}else De(fn,er.fromStyles),_n.onDestroy(()=>ie(fn,er.toStyles)),cl.push(_n),Lt.has(fn)&&$.push(_n)}),cl.forEach(Jt=>{const fn=J.get(Jt.element);if(fn&&fn.length){const _n=gr(fn);Jt.setRealPlayer(_n)}}),$.forEach(Jt=>{Jt.parentPlayer?Jt.syncPlayerEvents(Jt.parentPlayer):Jt.destroy()});for(let Jt=0;Jt<or.length;Jt++){const fn=or[Jt],_n=fn[ue];if(K(fn,Hi),_n&&_n.hasAnimation)continue;let er=[];if(Se.size){let Ds=Se.get(fn);Ds&&Ds.length&&er.push(...Ds);let Xr=this.driver.query(fn,te,!0);for(let Xo=0;Xo<Xr.length;Xo++){let Or=Se.get(Xr[Xo]);Or&&Or.length&&er.push(...Or)}}const Pi=er.filter(Ds=>!Ds.destroyed);Pi.length?ne(this,fn,Pi):this.processLeaveNode(fn)}return or.length=0,Ni.forEach(Jt=>{this.players.push(Jt),Jt.onDone(()=>{Jt.destroy();const fn=this.players.indexOf(Jt);this.players.splice(fn,1)}),Jt.play()}),Ni}elementContainsData(v,_){let T=!1;const $=_[ue];return $&&$.setForRemoval&&(T=!0),this.playersByElement.has(_)&&(T=!0),this.playersByQueriedElement.has(_)&&(T=!0),this.statesByElement.has(_)&&(T=!0),this._fetchNamespace(v).elementContainsData(_)||T}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,_,T,$,J){let me=[];if(_){const Se=this.playersByQueriedElement.get(v);Se&&(me=Se)}else{const Se=this.playersByElement.get(v);if(Se){const je=!J||J==F;Se.forEach(ut=>{ut.queued||!je&&ut.triggerName!=$||me.push(ut)})}}return(T||$)&&(me=me.filter(Se=>!(T&&T!=Se.namespaceId||$&&$!=Se.triggerName))),me}_beforeAnimationBuild(v,_,T){const J=_.element,me=_.isRemovalTransition?void 0:v,Se=_.isRemovalTransition?void 0:_.triggerName;for(const je of _.timelines){const ut=je.element,Lt=ut!==J,nn=hi(T,ut,[]);this._getPreviousPlayers(ut,Lt,me,Se,_.toState).forEach(Mn=>{const Cn=Mn.getRealPlayer();Cn.beforeDestroy&&Cn.beforeDestroy(),Mn.destroy(),nn.push(Mn)})}De(J,_.fromStyles)}_buildAnimation(v,_,T,$,J,me){const Se=_.triggerName,je=_.element,ut=[],Lt=new Set,nn=new Set,Ln=_.timelines.map(Cn=>{const Vn=Cn.element;Lt.add(Vn);const or=Vn[ue];if(or&&or.removedBeforeQueried)return new jn.ZN(Cn.duration,Cn.delay);const Jr=Vn!==je,Si=function(R){const v=[];return Oe(R,v),v}((T.get(Vn)||Ya).map(zi=>zi.getRealPlayer())).filter(zi=>!!zi.element&&zi.element===Vn),Ai=J.get(Vn),Gi=me.get(Vn),Ho=di(0,this._normalizer,0,Cn.keyframes,Ai,Gi),Co=this._buildPlayer(Cn,Ho,Si);if(Cn.subTimeline&&$&&nn.add(Vn),Jr){const zi=new en(v,Se,Vn);zi.setRealPlayer(Co),ut.push(zi)}return Co});ut.forEach(Cn=>{hi(this.playersByQueriedElement,Cn.element,[]).push(Cn),Cn.onDone(()=>function(R,v,_){let T;if(R instanceof Map){if(T=R.get(v),T){if(T.length){const $=T.indexOf(_);T.splice($,1)}0==T.length&&R.delete(v)}}else if(T=R[v],T){if(T.length){const $=T.indexOf(_);T.splice($,1)}0==T.length&&delete R[v]}return T}(this.playersByQueriedElement,Cn.element,Cn))}),Lt.forEach(Cn=>U(Cn,L));const Mn=gr(Ln);return Mn.onDestroy(()=>{Lt.forEach(Cn=>K(Cn,L)),ie(je,_.toStyles)}),nn.forEach(Cn=>{hi($,Cn,[]).push(Mn)}),Mn}_buildPlayer(v,_,T){return _.length>0?this.driver.animate(v.element,_,v.duration,v.delay,v.easing,T):new jn.ZN(v.duration,v.delay)}}class en{constructor(v,_,T){this.namespaceId=v,this.triggerName=_,this.element=T,this._player=new jn.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,Object.keys(this._queuedCallbacks).forEach(_=>{this._queuedCallbacks[_].forEach(T=>_i(v,_,void 0,T))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const _=this._player;_.triggerCallback&&v.onStart(()=>_.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,_){hi(this._queuedCallbacks,v,[]).push(_)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const _=this._player;_.triggerCallback&&_.triggerCallback(v)}}function ws(R){return R&&1===R.nodeType}function Sr(R,v){const _=R.style.display;return R.style.display=null!=v?v:"none",_}function Vu(R,v,_,T,$){const J=[];_.forEach(je=>J.push(Sr(je)));const me=[];T.forEach((je,ut)=>{const Lt={};je.forEach(nn=>{const Ln=Lt[nn]=v.computeStyle(ut,nn,$);(!Ln||0==Ln.length)&&(ut[ue]=bs,me.push(ut))}),R.set(ut,Lt)});let Se=0;return _.forEach(je=>Sr(je,J[Se++])),me}function N(R,v){const _=new Map;if(R.forEach(Se=>_.set(Se,[])),0==v.length)return _;const $=new Set(v),J=new Map;function me(Se){if(!Se)return 1;let je=J.get(Se);if(je)return je;const ut=Se.parentNode;return je=_.has(ut)?ut:$.has(ut)?1:me(ut),J.set(Se,je),je}return v.forEach(Se=>{const je=me(Se);1!==je&&_.get(je).push(Se)}),_}const O="$$classes";function U(R,v){if(R.classList)R.classList.add(v);else{let _=R[O];_||(_=R[O]={}),_[v]=!0}}function K(R,v){if(R.classList)R.classList.remove(v);else{let _=R[O];_&&delete _[v]}}function ne(R,v,_){gr(_).onDone(()=>R.processLeaveNode(v))}function Oe(R,v){for(let _=0;_<R.length;_++){const T=R[_];T instanceof jn.ZE?Oe(T.players,v):v.push(T)}}function Ut(R,v,_){const T=_.get(R);if(!T)return!1;let $=v.get(R);return $?T.forEach(J=>$.add(J)):v.set(R,T),_.delete(R),!0}class on{constructor(v,_,T){this.bodyNode=v,this._driver=_,this._normalizer=T,this._triggerCache={},this.onRemovalComplete=($,J)=>{},this._transitionEngine=new dt(v,_,T),this._timelineEngine=new Eo(v,_,T),this._transitionEngine.onRemovalComplete=($,J)=>this.onRemovalComplete($,J)}registerTrigger(v,_,T,$,J){const me=v+"-"+$;let Se=this._triggerCache[me];if(!Se){const je=[],ut=Et(this._driver,J,je);if(je.length)throw new Error(`The animation trigger "${$}" has failed to build due to the following errors:\n - ${je.join("\n - ")}`);Se=function(R,v,_){return new Oa(R,v,_)}($,ut,this._normalizer),this._triggerCache[me]=Se}this._transitionEngine.registerTrigger(_,$,Se)}register(v,_){this._transitionEngine.register(v,_)}destroy(v,_){this._transitionEngine.destroy(v,_)}onInsert(v,_,T,$){this._transitionEngine.insertNode(v,_,T,$)}onRemove(v,_,T,$){this._transitionEngine.removeNode(v,_,$||!1,T)}disableAnimations(v,_){this._transitionEngine.markElementAsDisabled(v,_)}process(v,_,T,$){if("@"==T.charAt(0)){const[J,me]=Lr(T);this._timelineEngine.command(J,_,me,$)}else this._transitionEngine.trigger(v,_,T,$)}listen(v,_,T,$,J){if("@"==T.charAt(0)){const[me,Se]=Lr(T);return this._timelineEngine.listen(me,_,Se,J)}return this._transitionEngine.listen(v,_,T,$,J)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Gn(R,v){let _=null,T=null;return Array.isArray(v)&&v.length?(_=ln(v[0]),v.length>1&&(T=ln(v[v.length-1]))):v&&(_=ln(v)),_||T?new yt(R,_,T):null}let yt=(()=>{class R{constructor(_,T,$){this._element=_,this._startStyles=T,this._endStyles=$,this._state=0;let J=R.initialStylesByElement.get(_);J||R.initialStylesByElement.set(_,J={}),this._initialStyles=J}start(){this._state<1&&(this._startStyles&&ie(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ie(this._element,this._initialStyles),this._endStyles&&(ie(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(R.initialStylesByElement.delete(this._element),this._startStyles&&(De(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(De(this._element,this._endStyles),this._endStyles=null),ie(this._element,this._initialStyles),this._state=3)}}return R.initialStylesByElement=new WeakMap,R})();function ln(R){let v=null;const _=Object.keys(R);for(let T=0;T<_.length;T++){const $=_[T];Wi($)&&(v=v||{},v[$]=R[$])}return v}function Wi(R){return"display"===R||"position"===R}const qt="animation",cn="animationend";class Mt{constructor(v,_,T,$,J,me,Se){this._element=v,this._name=_,this._duration=T,this._delay=$,this._easing=J,this._fillMode=me,this._onDoneFn=Se,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=je=>this._handleCallback(je)}apply(){(function(R,v){const _=Bu(R,"").trim();let T=0;_.length&&(function(R,v){let _=0;for(let T=0;T<R.length;T++)","===R.charAt(T)&&_++;return _}(_)+1,v=`${_}, ${v}`),Uu(R,"",v)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),ol(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){it(this._element,this._name,"paused")}resume(){it(this._element,this._name,"running")}setPosition(v){const _=cu(this._element,this._name);this._position=v*this._duration,Uu(this._element,"Delay",`-${this._position}ms`,_)}getPosition(){return this._position}_handleCallback(v){const _=v._ngTestManualTimestamp||Date.now(),T=1e3*parseFloat(v.elapsedTime.toFixed(3));v.animationName==this._name&&Math.max(_-this._startTime,0)>=this._delay&&T>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),ol(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(R,v){const T=Bu(R,"").split(","),$=Qa(T,v);$>=0&&(T.splice($,1),Uu(R,"",T.join(",")))}(this._element,this._name))}}function it(R,v,_){Uu(R,"PlayState",_,cu(R,v))}function cu(R,v){const _=Bu(R,"");return _.indexOf(",")>0?Qa(_.split(","),v):Qa([_],v)}function Qa(R,v){for(let _=0;_<R.length;_++)if(R[_].indexOf(v)>=0)return _;return-1}function ol(R,v,_){_?R.removeEventListener(cn,v):R.addEventListener(cn,v)}function Uu(R,v,_,T){const $=qt+v;if(null!=T){const J=R.style[$];if(J.length){const me=J.split(",");me[T]=_,_=me.join(",")}}R.style[$]=_}function Bu(R,v){return R.style[qt+v]||""}class Na{constructor(v,_,T,$,J,me,Se,je){this.element=v,this.keyframes=_,this.animationName=T,this._duration=$,this._delay=J,this._finalStyles=Se,this._specialStyles=je,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=me||"linear",this.totalTime=$+J,this._buildStyler()}onStart(v){this._onStartFns.push(v)}onDone(v){this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(v=>v()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(v=>v()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(v){this._styler.setPosition(v)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Mt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(v){const _="start"==v?this._onStartFns:this._onDoneFns;_.forEach(T=>T()),_.length=0}beforeDestroy(){this.init();const v={};if(this.hasStarted()){const _=this._state>=3;Object.keys(this._finalStyles).forEach(T=>{"offset"!=T&&(v[T]=_?this._finalStyles[T]:Ns(this.element,T))})}this.currentSnapshot=v}}class Xn extends jn.ZN{constructor(v,_){super(),this.element=v,this._startingStyles={},this.__initialized=!1,this._styles=ys(_)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(v=>{this._startingStyles[v]=this.element.style[v]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(v=>this.element.style.setProperty(v,this._styles[v])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(v=>{const _=this._startingStyles[v];_?this.element.style.setProperty(v,_):this.element.style.removeProperty(v)}),this._startingStyles=null,super.destroy())}}class Qr{constructor(){this._count=0}validateStyleProperty(v){return Hs(v)}matchesElement(v,_){return qr(v,_)}containsElement(v,_){return ni(v,_)}query(v,_,T){return io(v,_,T)}computeStyle(v,_,T){return window.getComputedStyle(v)[_]}buildKeyframeElement(v,_,T){T=T.map(Se=>ys(Se));let $=`@keyframes ${_} {\n`,J="";T.forEach(Se=>{J=" ";const je=parseFloat(Se.offset);$+=`${J}${100*je}% {\n`,J+=" ",Object.keys(Se).forEach(ut=>{const Lt=Se[ut];switch(ut){case"offset":return;case"easing":return void(Lt&&($+=`${J}animation-timing-function: ${Lt};\n`));default:return void($+=`${J}${ut}: ${Lt};\n`)}}),$+=`${J}}\n`}),$+="}\n";const me=document.createElement("style");return me.textContent=$,me}animate(v,_,T,$,J,me=[],Se){const je=me.filter(or=>or instanceof Na),ut={};ri(T,$)&&je.forEach(or=>{let Jr=or.currentSnapshot;Object.keys(Jr).forEach(Si=>ut[Si]=Jr[Si])});const Lt=function(R){let v={};return R&&(Array.isArray(R)?R:[R]).forEach(T=>{Object.keys(T).forEach($=>{"offset"==$||"easing"==$||(v[$]=T[$])})}),v}(_=Gs(v,_,ut));if(0==T)return new Xn(v,Lt);const nn="gen_css_kf_"+this._count++,Ln=this.buildKeyframeElement(v,nn,_);(function(R){var v;const _=null===(v=R.getRootNode)||void 0===v?void 0:v.call(R);return"undefined"!=typeof ShadowRoot&&_ instanceof ShadowRoot?_:document.head})(v).appendChild(Ln);const Cn=Gn(v,_),Vn=new Na(v,_,nn,T,$,J,Lt,Cn);return Vn.onDestroy(()=>{var R;(R=Ln).parentNode.removeChild(R)}),Vn}}class wr{constructor(v,_,T,$){this.element=v,this.keyframes=_,this.options=T,this._specialStyles=$,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=T.duration,this._delay=T.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(v,_,T){return v.animate(_,T)}onStart(v){this._onStartFns.push(v)}onDone(v){this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(_=>{"offset"!=_&&(v[_]=this._finished?this._finalKeyframe[_]:Ns(this.element,_))}),this.currentSnapshot=v}triggerCallback(v){const _="start"==v?this._onStartFns:this._onDoneFns;_.forEach(T=>T()),_.length=0}}class ud{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Xa().toString()),this._cssKeyframesDriver=new Qr}validateStyleProperty(v){return Hs(v)}matchesElement(v,_){return qr(v,_)}containsElement(v,_){return ni(v,_)}query(v,_,T){return io(v,_,T)}computeStyle(v,_,T){return window.getComputedStyle(v)[_]}overrideWebAnimationsSupport(v){this._isNativeImpl=v}animate(v,_,T,$,J,me=[],Se){if(!Se&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(v,_,T,$,J,me);const Lt={duration:T,delay:$,fill:0==$?"both":"forwards"};J&&(Lt.easing=J);const nn={},Ln=me.filter(Cn=>Cn instanceof wr);ri(T,$)&&Ln.forEach(Cn=>{let Vn=Cn.currentSnapshot;Object.keys(Vn).forEach(or=>nn[or]=Vn[or])});const Mn=Gn(v,_=Gs(v,_=_.map(Cn=>V(Cn,!1)),nn));return new wr(v,_,Lt,Mn)}}function Xa(){return mi()&&Element.prototype.animate||{}}let ul=(()=>{class R extends jn._j{constructor(_,T){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(T.body,{id:"0",encapsulation:P.ifc.None,styles:[],data:{animation:[]}})}build(_){const T=this._nextAnimationId.toString();this._nextAnimationId++;const $=Array.isArray(_)?(0,jn.vP)(_):_;return La(this._renderer,null,T,"register",[$]),new as(T,this._renderer)}}return R.\u0275fac=function(_){return new(_||R)(P.LFG(P.FYo),P.LFG(b.K0))},R.\u0275prov=P.Yz7({token:R,factory:R.\u0275fac}),R})();class as extends jn.LC{constructor(v,_){super(),this._id=v,this._renderer=_}create(v,_){return new Cc(this._id,v,_||{},this._renderer)}}class Cc{constructor(v,_,T,$){this.id=v,this.element=_,this._renderer=$,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",T)}_listen(v,_){return this._renderer.listen(this.element,`@@${this.id}:${v}`,_)}_command(v,..._){return La(this._renderer,this.element,this.id,v,_)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){var v,_;return null!==(_=null===(v=this._renderer.engine.players[+this.id])||void 0===v?void 0:v.getPosition())&&void 0!==_?_:0}}function La(R,v,_,T,$){return R.setProperty(v,`@@${_}:${T}`,$)}const hu="@.disabled";let ll=(()=>{class R{constructor(_,T,$){this.delegate=_,this.engine=T,this._zone=$,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),T.onRemovalComplete=(J,me)=>{me&&me.parentNode(J)&&me.removeChild(J.parentNode,J)}}createRenderer(_,T){const J=this.delegate.createRenderer(_,T);if(!(_&&T&&T.data&&T.data.animation)){let Lt=this._rendererCache.get(J);return Lt||(Lt=new ju("",J,this.engine),this._rendererCache.set(J,Lt)),Lt}const me=T.id,Se=T.id+"-"+this._currentId;this._currentId++,this.engine.register(Se,_);const je=Lt=>{Array.isArray(Lt)?Lt.forEach(je):this.engine.registerTrigger(me,Se,_,Lt.name,Lt)};return T.data.animation.forEach(je),new fu(this,Se,J,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,T,$){_>=0&&_<this._microtaskId?this._zone.run(()=>T($)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(J=>{const[me,Se]=J;me(Se)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([T,$]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return R.\u0275fac=function(_){return new(_||R)(P.LFG(P.FYo),P.LFG(on),P.LFG(P.R0b))},R.\u0275prov=P.Yz7({token:R,factory:R.\u0275fac}),R})();class ju{constructor(v,_,T){this.namespaceId=v,this.delegate=_,this.engine=T,this.destroyNode=this.delegate.destroyNode?$=>_.destroyNode($):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(v,_){return this.delegate.createElement(v,_)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,_){this.delegate.appendChild(v,_),this.engine.onInsert(this.namespaceId,_,v,!1)}insertBefore(v,_,T,$=!0){this.delegate.insertBefore(v,_,T),this.engine.onInsert(this.namespaceId,_,v,$)}removeChild(v,_,T){this.engine.onRemove(this.namespaceId,_,this.delegate,T)}selectRootElement(v,_){return this.delegate.selectRootElement(v,_)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,_,T,$){this.delegate.setAttribute(v,_,T,$)}removeAttribute(v,_,T){this.delegate.removeAttribute(v,_,T)}addClass(v,_){this.delegate.addClass(v,_)}removeClass(v,_){this.delegate.removeClass(v,_)}setStyle(v,_,T,$){this.delegate.setStyle(v,_,T,$)}removeStyle(v,_,T){this.delegate.removeStyle(v,_,T)}setProperty(v,_,T){"@"==_.charAt(0)&&_==hu?this.disableAnimations(v,!!T):this.delegate.setProperty(v,_,T)}setValue(v,_){this.delegate.setValue(v,_)}listen(v,_,T){return this.delegate.listen(v,_,T)}disableAnimations(v,_){this.engine.disableAnimations(v,_)}}class fu extends ju{constructor(v,_,T,$){super(_,T,$),this.factory=v,this.namespaceId=_}setProperty(v,_,T){"@"==_.charAt(0)?"."==_.charAt(1)&&_==hu?this.disableAnimations(v,T=void 0===T||!!T):this.engine.process(this.namespaceId,v,_.substr(1),T):this.delegate.setProperty(v,_,T)}listen(v,_,T){if("@"==_.charAt(0)){const $=function(R){switch(R){case"body":return document.body;case"document":return document;case"window":return window;default:return R}}(v);let J=_.substr(1),me="";return"@"!=J.charAt(0)&&([J,me]=function(R){const v=R.indexOf(".");return[R.substring(0,v),R.substr(v+1)]}(J)),this.engine.listen(this.namespaceId,$,J,me,Se=>{this.factory.scheduleListenerCallback(Se._data||-1,T,Se)})}return this.delegate.listen(v,_,T)}}let Hu=(()=>{class R extends on{constructor(_,T,$){super(_.body,T,$)}ngOnDestroy(){this.flush()}}return R.\u0275fac=function(_){return new(_||R)(P.LFG(b.K0),P.LFG(Ji),P.LFG(zs))},R.\u0275prov=P.Yz7({token:R,factory:R.\u0275fac}),R})();const $u=new P.OlP("AnimationModuleType"),eu=[{provide:jn._j,useClass:ul},{provide:zs,useFactory:function(){return new Za}},{provide:on,useClass:Hu},{provide:P.FYo,useFactory:function(R,v,_){return new ll(R,v,_)},deps:[dn,on,P.R0b]}],Is=[{provide:Ji,useFactory:function(){return"function"==typeof Xa()?new ud:new Qr}},{provide:$u,useValue:"BrowserAnimations"},...eu],Zs=[{provide:Ji,useClass:$s},{provide:$u,useValue:"NoopAnimations"},...eu];let gu=(()=>{class R{static withConfig(_){return{ngModule:R,providers:_.disableAnimations?Zs:Is}}}return R.\u0275fac=function(_){return new(_||R)},R.\u0275mod=P.oAB({type:R}),R.\u0275inj=P.cJS({providers:Is,imports:[rt]}),R})(),wo=(()=>{class R{}return R.\u0275fac=function(_){return new(_||R)},R.\u0275mod=P.oAB({type:R,bootstrap:[li]}),R.\u0275inj=P.cJS({providers:[Vi.e,Oi.M],imports:[[rt,Ui,Qi.u5,pi.hO.initializeApp(no),ci.ww,Pr.yb,gi.JF],gu]}),R})();(0,P.G48)(),nt().bootstrapModule(wo).catch(R=>console.error(R))},4762:(pt,Me,M)=>{"use strict";M.d(Me,{ZT:()=>P,pi:()=>se,_T:()=>oe,mG:()=>q,Jh:()=>X,XA:()=>Q,CR:()=>fe,ev:()=>qe});var b=function(Ae,He){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Re,Ye){Re.__proto__=Ye}||function(Re,Ye){for(var Ze in Ye)Object.prototype.hasOwnProperty.call(Ye,Ze)&&(Re[Ze]=Ye[Ze])})(Ae,He)};function P(Ae,He){if("function"!=typeof He&&null!==He)throw new TypeError("Class extends value "+String(He)+" is not a constructor or null");function Re(){this.constructor=Ae}b(Ae,He),Ae.prototype=null===He?Object.create(He):(Re.prototype=He.prototype,new Re)}var se=function(){return(se=Object.assign||function(He){for(var Re,Ye=1,Ze=arguments.length;Ye<Ze;Ye++)for(var Ne in Re=arguments[Ye])Object.prototype.hasOwnProperty.call(Re,Ne)&&(He[Ne]=Re[Ne]);return He}).apply(this,arguments)};function oe(Ae,He){var Re={};for(var Ye in Ae)Object.prototype.hasOwnProperty.call(Ae,Ye)&&He.indexOf(Ye)<0&&(Re[Ye]=Ae[Ye]);if(null!=Ae&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(Ye=Object.getOwnPropertySymbols(Ae);Ze<Ye.length;Ze++)He.indexOf(Ye[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Ae,Ye[Ze])&&(Re[Ye[Ze]]=Ae[Ye[Ze]])}return Re}function q(Ae,He,Re,Ye){return new(Re||(Re=Promise))(function(Ne,bt){function Gt(Xt){try{Ht(Ye.next(Xt))}catch(Bt){bt(Bt)}}function Rn(Xt){try{Ht(Ye.throw(Xt))}catch(Bt){bt(Bt)}}function Ht(Xt){Xt.done?Ne(Xt.value):function(Ne){return Ne instanceof Re?Ne:new Re(function(bt){bt(Ne)})}(Xt.value).then(Gt,Rn)}Ht((Ye=Ye.apply(Ae,He||[])).next())})}function X(Ae,He){var Ye,Ze,Ne,bt,Re={label:0,sent:function(){if(1&Ne[0])throw Ne[1];return Ne[1]},trys:[],ops:[]};return bt={next:Gt(0),throw:Gt(1),return:Gt(2)},"function"==typeof Symbol&&(bt[Symbol.iterator]=function(){return this}),bt;function Gt(Ht){return function(Xt){return function(Ht){if(Ye)throw new TypeError("Generator is already executing.");for(;Re;)try{if(Ye=1,Ze&&(Ne=2&Ht[0]?Ze.return:Ht[0]?Ze.throw||((Ne=Ze.return)&&Ne.call(Ze),0):Ze.next)&&!(Ne=Ne.call(Ze,Ht[1])).done)return Ne;switch(Ze=0,Ne&&(Ht=[2&Ht[0],Ne.value]),Ht[0]){case 0:case 1:Ne=Ht;break;case 4:return Re.label++,{value:Ht[1],done:!1};case 5:Re.label++,Ze=Ht[1],Ht=[0];continue;case 7:Ht=Re.ops.pop(),Re.trys.pop();continue;default:if(!(Ne=(Ne=Re.trys).length>0&&Ne[Ne.length-1])&&(6===Ht[0]||2===Ht[0])){Re=0;continue}if(3===Ht[0]&&(!Ne||Ht[1]>Ne[0]&&Ht[1]<Ne[3])){Re.label=Ht[1];break}if(6===Ht[0]&&Re.label<Ne[1]){Re.label=Ne[1],Ne=Ht;break}if(Ne&&Re.label<Ne[2]){Re.label=Ne[2],Re.ops.push(Ht);break}Ne[2]&&Re.ops.pop(),Re.trys.pop();continue}Ht=He.call(Ae,Re)}catch(Xt){Ht=[6,Xt],Ze=0}finally{Ye=Ne=0}if(5&Ht[0])throw Ht[1];return{value:Ht[0]?Ht[1]:void 0,done:!0}}([Ht,Xt])}}}function Q(Ae){var He="function"==typeof Symbol&&Symbol.iterator,Re=He&&Ae[He],Ye=0;if(Re)return Re.call(Ae);if(Ae&&"number"==typeof Ae.length)return{next:function(){return Ae&&Ye>=Ae.length&&(Ae=void 0),{value:Ae&&Ae[Ye++],done:!Ae}}};throw new TypeError(He?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(Ae,He){var Re="function"==typeof Symbol&&Ae[Symbol.iterator];if(!Re)return Ae;var Ze,bt,Ye=Re.call(Ae),Ne=[];try{for(;(void 0===He||He-- >0)&&!(Ze=Ye.next()).done;)Ne.push(Ze.value)}catch(Gt){bt={error:Gt}}finally{try{Ze&&!Ze.done&&(Re=Ye.return)&&Re.call(Ye)}finally{if(bt)throw bt.error}}return Ne}function qe(Ae,He,Re){if(Re||2===arguments.length)for(var Ne,Ye=0,Ze=He.length;Ye<Ze;Ye++)(Ne||!(Ye in He))&&(Ne||(Ne=Array.prototype.slice.call(He,0,Ye)),Ne[Ye]=He[Ye]);return Ae.concat(Ne||Array.prototype.slice.call(He))}},8239:(pt,Me,M)=>{"use strict";function b(se,oe,ge,re,he,q,X){try{var Y=se[q](X),ce=Y.value}catch(Q){return void ge(Q)}Y.done?oe(ce):Promise.resolve(ce).then(re,he)}function P(se){return function(){var oe=this,ge=arguments;return new Promise(function(re,he){var q=se.apply(oe,ge);function X(ce){b(q,re,he,X,Y,"next",ce)}function Y(ce){b(q,re,he,X,Y,"throw",ce)}X(void 0)})}}M.d(Me,{Z:()=>P})}},pt=>{pt(pt.s=8124)}]);